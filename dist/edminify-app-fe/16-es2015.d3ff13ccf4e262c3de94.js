(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{H54p:function(e,t,n){"use strict";n.d(t,"a",function(){return l});class l{constructor(e){this.ngControl=e,this.isInvalid=!1,this.placeholder="",this.value="",this.ngControl&&(this.ngControl.valueAccessor=this)}ngOnInit(){}writeValue(e){this.value=e}setDisabledState(e){this.disabled=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}onChange(e){return e}onTouched(){}}},IhLC:function(e,t,n){"use strict";n.r(t);var l=n("8Y7J");class i{}var o=n("pMnS"),r=n("SVse");class a{constructor(){}ngOnInit(){}}var p=l["\u0275crt"]({encapsulation:0,styles:[[".app-bordered-label[_ngcontent-%COMP%]{padding:3px 12px;margin:0 0 5px;border-radius:15px;font:800 10px/13px NunitoSans-Bold}"]],data:{}});function s(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,"div",[["class","app-bordered-label"]],null,null,null,null,null)),l["\u0275prd"](512,null,r["\u0275NgStyleImpl"],r["\u0275NgStyleR2Impl"],[l.ElementRef,l.KeyValueDiffers,l.Renderer2]),l["\u0275did"](2,278528,null,0,r.NgStyle,[r["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](3,{border:0,color:1}),(e()(),l["\u0275ted"](4,null,[" ","\n"]))],function(e,t){var n=t.component,l=e(t,3,0,"1px solid "+n.color,n.color);e(t,2,0,l)},function(e,t){e(t,4,0,t.component.label)})}var d=n("JGVx"),u=n("DBKO");class c{constructor(){this.text="",this.cancel=new l.EventEmitter,this.accept=new l.EventEmitter}ngOnInit(){window.scroll(0,0)}onCancel(){this.cancel.emit()}onAccept(){this.accept.emit()}}var g=l["\u0275crt"]({encapsulation:0,styles:[[".app-period-popup[_ngcontent-%COMP%]{position:relative;width:100vw;height:100vw;padding:200px 0;background-color:rgba(0,0,0,.85)}.app-period-popup[_ngcontent-%COMP%]   .app-period-popup__container[_ngcontent-%COMP%]{display:flex;width:340px;height:115px;margin:0 auto;padding:0 0 15px 15px;border-radius:3px;background-color:#fff}.app-period-popup[_ngcontent-%COMP%]   .app-period-popup__container[_ngcontent-%COMP%]   .app-period-popup__content[_ngcontent-%COMP%]{width:290px;padding:15px 0 0;text-align:center}.app-period-popup[_ngcontent-%COMP%]   .app-period-popup__container[_ngcontent-%COMP%]   .app-period-popup__buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:150px;margin:0 0 0 95px}.app-period-popup[_ngcontent-%COMP%]   .app-period-popup__container[_ngcontent-%COMP%]   .app-period-popup__buttons[_ngcontent-%COMP%]   .app-period-popup__button[_ngcontent-%COMP%]{margin:0 15px 0 0;font:800 12px/15px NunitoSans-Bold;border-radius:3px;border:1px solid #4350a2;align-items:center;vertical-align:middle}.app-period-popup[_ngcontent-%COMP%]   .app-period-popup__container[_ngcontent-%COMP%]   .app-period-popup__buttons[_ngcontent-%COMP%]   .app-period-popup__button--cancel[_ngcontent-%COMP%]{width:80px;height:30px;box-sizing:border-box;background-color:#e5e5e5;color:#4350a2}.app-period-popup[_ngcontent-%COMP%]   .app-period-popup__container[_ngcontent-%COMP%]   .app-period-popup__buttons[_ngcontent-%COMP%]   .app-period-popup__button--cancel[_ngcontent-%COMP%]:hover{background-color:#cacaca}.app-period-popup[_ngcontent-%COMP%]   .app-period-popup__container[_ngcontent-%COMP%]   .app-period-popup__buttons[_ngcontent-%COMP%]   .app-period-popup__button--ok[_ngcontent-%COMP%]{width:50px;height:30px;background-color:#4350a2;color:#fff}.app-period-popup[_ngcontent-%COMP%]   .app-period-popup__container[_ngcontent-%COMP%]   .app-period-popup__buttons[_ngcontent-%COMP%]   .app-period-popup__button--ok[_ngcontent-%COMP%]:hover{background-color:#3a458c}.app-period-popup[_ngcontent-%COMP%]   .app-period-popup__container[_ngcontent-%COMP%]   .app-period-popup__cross[_ngcontent-%COMP%]{margin:5px 0 0 15px}.app-period-popup[_ngcontent-%COMP%]   .app-period-popup__container[_ngcontent-%COMP%]   .app-period-popup__cross[_ngcontent-%COMP%]:hover{cursor:pointer}"]],data:{}});function _(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,11,"div",[["class","app-period-popup"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onCancel()&&l),l},null,null)),(e()(),l["\u0275eld"](1,0,null,null,10,"div",[["class","app-period-popup__container"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,7,"div",[["class","app-period-popup__content"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,1,"p",[["class","app-period-popup__text"]],null,null,null,null,null)),(e()(),l["\u0275ted"](4,null,[" "," "])),(e()(),l["\u0275eld"](5,0,null,null,4,"div",[["class","app-period-popup__buttons"]],null,null,null,null,null)),(e()(),l["\u0275eld"](6,0,null,null,1,"button",[["class","app-period-popup__button app-period-popup__button--cancel"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onCancel()&&l),l},null,null)),(e()(),l["\u0275ted"](-1,null,["Cancel "])),(e()(),l["\u0275eld"](8,0,null,null,1,"button",[["class","app-period-popup__button app-period-popup__button--ok"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onAccept()&&l),l},null,null)),(e()(),l["\u0275ted"](-1,null,["Ok "])),(e()(),l["\u0275eld"](10,0,null,null,1,"div",[["class","app-period-popup__cross"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onCancel()&&l),l},null,null)),(e()(),l["\u0275eld"](11,0,null,null,0,"i",[["class","fa fa-times app-period-popup--ico"]],null,null,null,null,null))],null,function(e,t){e(t,4,0,t.component.text)})}var h=n("wd/R"),f=n("CEuH"),m=n("IheW"),b=n("lJxs"),C=function(e){return e.AddPeriod="[Period] Add Period",e.ChangePeriod="[Period] Change Period",e.OpenCreatePeriodPage="[Period] Open Create Period Page",e.CreatePeriodRequest="[Period] Create Period Request",e.ChangePeriodError="[Period] Change Period Error",e.GetPeriodsRequest="[Period] Get Periods Request",e.GetPeriodsResponse="[Period] Get Periods Response",e.AddSplitSet="[Period] Add split Set",e.ValidatePeriod="[Period] Validate period",e.ChangeSplitSet="[Period] Change split",e.DeleteSplitSet="[Period] Delete split",e.ChangeEditPeriodId="[Period] Edit Period",e.DeletePeriod="[Period] Delete period",e.UpdateExistingPeriodRequest="[Period] Update existing period",e}({});class v{constructor(e){this.payload=e,this.type=C.OpenCreatePeriodPage}}class P{constructor(e){this.payload=e,this.type=C.ChangePeriod}}class O{constructor(e){this.payload=e,this.type=C.CreatePeriodRequest}}class M{constructor(e){this.payload=e,this.type=C.UpdateExistingPeriodRequest}}class x{constructor(e){this.payload=e,this.type=C.ChangePeriodError}}class S{constructor(){this.type=C.GetPeriodsRequest}}class w{constructor(e){this.payload=e,this.type=C.GetPeriodsResponse}}class y{constructor(e){this.payload=e,this.type=C.ValidatePeriod}}class D{constructor(e){this.payload=e,this.type=C.AddSplitSet}}class I{constructor(e){this.payload=e,this.type=C.ChangeSplitSet}}class R{constructor(e){this.payload=e,this.type=C.DeleteSplitSet}}class E{constructor(e){this.payload=e,this.type=C.ChangeEditPeriodId}}const k="http://fin.red.dev.codeblue.ventures/api/v1",T={headers:new m.i({"Content-Type":"application/json",Authorization:"Bearer 123"})},N=["#CD690E","#1AA6D2","#6A23DD","#DB2869","#2AAF5F","#1E68D7"];class Y{constructor(e,t){this.store=e,this.http=t,this.periodStore=e.select("state")}static getSplitTypeColor(e){return e>5?N[e-6*Math.floor(e/6)]:N[e]}static getDuration(e,t){return h(t).diff(h(e),"days")}setSplitName(e,t,n){e&&(e.splits.map(e=>{e.id===n&&(e.name=t)}),this.updateSplitSet(e))}getPeriodStore(){return this.periodStore}onOpenCreateNewPeriodPage(){this.store.dispatch(new v({name:"new period",date_from:new Date,date_to:h(new Date,"DD-MM-YYYY").add(365,"days").toDate(),duration:366,split_sets:[{name:"Financial",id:1,error:{text:null,isBarErrorOpen:!1,isTableErrorOpen:!1},splits:[{name:"1 split",date_from:new Date,date_to:h(new Date,"DD-MM-YYYY").add(30,"days").toDate(),id:1,duration:31}]}]})),this.store.dispatch(new x({text:null,isOpen:!1}))}onOpenEditPeriodPage(e){this.store.dispatch(new v({name:e.name,date_from:e.date_from,date_to:e.date_to,duration:e.duration,id:e.id,split_sets:e.split_sets})),this.store.dispatch(new x({text:null,isOpen:!1}))}createSplit(e){const t=e.splits&&e.splits.length?e.splits.slice(-1).pop().id:0;if(e.splits&&e.splits.length){const n=h(e.splits.slice(-1).pop().date_to,"DD-MM-YYYY").add(1,"days").toDate();e.splits.push({name:t+1+" split",date_from:n,date_to:h(n,"DD-MM-YYYY").add(31,"days").toDate(),id:t+1,duration:31})}else e.splits.push({name:t+1+" split",date_from:new Date,date_to:h(new Date,"DD-MM-YYYY").add(31,"days").toDate(),id:t+1,duration:31});this.updateSplitSet(e)}changeSplitDate(e,t,n,l){const i=e.splits.indexOf(e.splits.find(e=>e.id===n)),o=t.duration,r=h(t.date_to).diff(h(t.date_from),"days")+1;if(r>7){if(e.splits[i]={name:t.name,date_from:t.date_from,date_to:t.date_to,id:t.id,duration:r},"dateFrom"===l&&e.splits[i-1]){const n=e.splits[i-1];e.splits[i-1]={name:n.name,date_from:n.date_from,date_to:h(t.date_from,"DD-MM-YYYY").subtract(1,"days").toDate(),id:n.id,duration:n.duration-(r-o)}}else if("dateTo"===l&&e.splits[i+1]){const n=e.splits[i+1];e.splits[i+1]={name:n.name,date_from:h(t.date_to,"DD-MM-YYYY").add(1,"days").toDate(),date_to:n.date_to,id:n.id,duration:n.duration-(r-o)}}this.updateSplitSet(e)}}changeSplitDuration(e,t){const n=e.splits.indexOf(e.splits.find(e=>e.id===t)),l=e.splits[n],i=h(l.date_from,"DD-MM-YYYY").add(l.duration,"days").toDate();l.duration>5&&(void 0===e.splits[n+1]?e.splits[n].date_to=i:(e.splits[n].date_to=i,e.splits.map(t=>{if(e.splits.indexOf(t)>n){const n=e.splits[e.splits.indexOf(t)-1];t.date_from=h(n.date_to,"DD-MM-YYYY").add(1,"days").toDate(),t.date_to=h(t.date_from,"DD-MM-YYYY").add(t.duration,"days").toDate()}}))),this.updateSplitSet(e)}deleteSplit(e,t){const n=e.splits.indexOf(e.splits.find(e=>e.id===t));e.splits[n+1]&&(e.splits[n+1].date_from=e.splits[n].date_from,e.splits[n+1].duration+=e.splits[n].duration),e.splits.splice(n,1),this.updateSplitSet(e)}updateSplitSet(e){this.store.dispatch(new I({index:e.id,splitSet:e}))}createPeriod(e){this.store.dispatch(new x({text:null,isOpen:!1}));const t=this.convertPeriodDataForRequest(e);return this.http.post(`${k}/periods`,t,T).pipe(Object(b.a)(e=>e))}updatePeriod(e){this.store.dispatch(new x({text:null,isOpen:!1}));const t=this.convertPeriodDataForRequest(e);return this.http.put(`${k}/periods/${e.period.id}`,t,T).pipe(Object(b.a)(e=>e))}convertPeriodDataForRequest(e){const t=[];return e.period.split_sets&&e.period.split_sets.map(e=>{const n=[];e.splits.map(e=>{n.push({name:e.name,date_from:h(e.date_from).format("YYYY-MM-DD"),date_to:h(e.date_to).format("YYYY-MM-DD")})}),t.push({name:e.name,splits:n})}),{name:e.period.name,date_from:h(e.period.date_from).format("YYYY-MM-DD"),date_to:h(e.period.date_to).format("YYYY-MM-DD"),split_sets:t}}getPeriods(){return this.http.get(`${k}/periods`,T).pipe(Object(b.a)(e=>e))}deletePeriod(e){return this.http.delete(`${k}/periods/${e}`,T).pipe(Object(b.a)(e=>e))}validatePeriod(e){const t=[];e.period.name||t.push("Period name is required"),e.period.date_from||t.push("Period start date is required"),e.period.date_to||t.push("Period end date is required"),this.store.dispatch(new y(t))}validateSplitSet(e){e.period.split_sets.map(e=>{const t=[];e.splits?e.splits.map(e=>{e.name||t.push("Split name is required"),e.date_from||t.push("Split date is required"),e.date_to||t.push("Split date is required"),e.duration||t.push("Split duration is required")}):e.splits.length&&t.push("Split is required"),e.error={text:t,isBarErrorOpen:!0,isTableErrorOpen:!0},this.updateSplitSet(e)})}isError(e){let t=!1;return e.period.split_sets.map(e=>{e.error&&e.error.text&&e.error.text.length&&(t=!0)}),t}convertGetPeriodResponseToTableData(e){const t=[];return e.map(n=>{const l=[],i=[];n.split_sets.map(e=>{let t=null;e.splits&&e.splits.length&&(t=e.splits.length,e.splits.map(l=>{l.type={name:e.name+" "+t,color:Y.getSplitTypeColor(n.split_sets.indexOf(e))}})),l.push({name:e.name,splits:e.splits,id:e.id,period_id:n.id,isViewed:!1,type:{name:e.name+" "+t,color:Y.getSplitTypeColor(n.split_sets.indexOf(e))},dataTableType:"split_set"}),i.push({name:e.name+" "+t,color:Y.getSplitTypeColor(n.split_sets.indexOf(e))})});const o={name:n.name,date_from:n.date_from,date_to:n.date_to,dataTableType:"period",period_id:n.id,open:!1,type:i,bkgColor:e.indexOf(n)%2==0?"#FFFFFF":"#FAFAFA",sortingSplitSetParams:{name:null,order:null}};t.push(o),t.push({dataTableType:"split_set",splitSets:l,open:!1,period_id:n.id,isAllSelected:!0,selectedSplitSetId:null})}),t}convertGetPeriodResponse(e){return e.map(e=>{e.date_to=new Date(e.date_to),e.date_from=new Date(e.date_from),e.duration=Y.getDuration(e.date_from,e.date_to),e.split_sets.map(e=>{e.splits.map(e=>{e.date_to=new Date(e.date_to),e.date_from=new Date(e.date_from),e.duration=Y.getDuration(e.date_from,e.date_to)})})}),e}}class j{constructor(e,t,n,l){this.store=e,this.periodService=t,this.router=n,this.sortService=l,this.isPopupShown=!1,this.periodsData=[],this.purePeriodData=[],this.periodTableColumns=[{id:"name",title:"NAME",sort:!0,search:!0,width:"20%"},{id:"date_from",title:"PERIOD START",sort:!0,dateSearch:!0,width:"8%"},{id:"duration",title:"DURATION",sort:!0,search:!0,width:"8%"},{id:"date_to",title:"PERIOD END",sort:!0,dateSearch:!0,width:"8%"},{id:"type",title:"SPLIT TYPES",search:!0,width:"26%"},{width:"27%"},{width:"3%"}],this.splitsTableColumns=[{id:"name",title:"SPLITS",sort:!0,width:"22%"},{id:"date_from",title:"SPLIT START",sort:!0,width:"9%"},{id:"duration",title:"DURATION",sort:!0,width:"9%"},{id:"date_to",title:"SPLIT END",sort:!0,width:"9%"},{id:"type",title:"SPLIT TYPES",width:"51%",sort:!0}]}ngOnInit(){this.periodsData=this.periodService.convertGetPeriodResponseToTableData(this.periods)}ngOnChanges(){this.periodsData=this.periodService.convertGetPeriodResponseToTableData(this.periods),this.purePeriodData=this.periodsData}onOpenRow(e){this.periodsData.map(t=>{t.open=t.period_id===e&&!t.open})}selectAll(e){this.periodsData.map(t=>{t.period_id===e&&(t.isAllSelected=!0,t.selectedSplitSetId=null,t.sortingSplitSetParams=null)})}selectSplitSet(e,t){this.periodsData.map(n=>{n.period_id===t&&(n.isAllSelected=!1,n.selectedSplitSetId=e,n.sortingSplitSetParams=null)})}getSplits(e){let t=[];return this.periodsData.map(n=>{n.period_id===e&&"split_set"===n.dataTableType&&(n.splitSets.map(n.isAllSelected?e=>{t=t&&t.length?t.concat(e.splits):e.splits}:e=>{e.id===n.selectedSplitSetId&&(console.log("select",e),t=e.splits)}),n.sortingSplitSetParams&&n.sortingSplitSetParams.order&&n.sortingSplitSetParams.name&&("DESC"===n.sortingSplitSetParams.order?t.sort((e,t)=>"name"===n.sortingSplitSetParams.name?f.a.nameDescCompare(e,t):"type"===n.sortingSplitSetParams.name?e[n.sortingSplitSetParams.name].name>t[n.sortingSplitSetParams.name].name?1:-1:e[n.sortingSplitSetParams.name]>t[n.sortingSplitSetParams.name]?1:-1):"ASC"===n.sortingSplitSetParams.order&&t.sort((e,t)=>"name"===n.sortingSplitSetParams.name?f.a.nameAscCompare(e,t):"type"===n.sortingSplitSetParams.name?e[n.sortingSplitSetParams.name].name<t[n.sortingSplitSetParams.name].name?1:-1:e[n.sortingSplitSetParams.name]<t[n.sortingSplitSetParams.name]?1:-1)))}),t}onSortSplitSet(e,t){this.periodsData.map(n=>{n.period_id===t&&(n.sortingSplitSetParams={name:e.id,order:e.order})})}onSortPeriods(e){this.periodsData=this.sortService.getComplexSort(this.periodsData,e,"period","dataTableType","period_id")}pushItemToFilterValue(e,t){return e.push(t),e.push(this.purePeriodData[this.purePeriodData.indexOf(t)+1]),e}onSearchPeriod(e){let t=[];e.value?this.purePeriodData.map(n=>{"name"===e.name&&"period"===n.dataTableType&&n[e.name].toLowerCase().includes(e.value.toLowerCase())?this.pushItemToFilterValue(t,n):"duration"===e.name&&"period"===n.dataTableType&&parseInt(n[e.name],10)===parseInt(e.value,10)?this.pushItemToFilterValue(t,n):"date_from"!==e.name&&"date_to"!==e.name||"period"!==n.dataTableType||!h(h(n[e.name])).isSame(h(e.value),"day")?"type"===e.name&&"period"===n.dataTableType&&n.type.map(l=>{l.name.toLowerCase().includes(e.value.toLowerCase())&&this.pushItemToFilterValue(t,n)}):this.pushItemToFilterValue(t,n)}):t=this.purePeriodData,this.periodsData=t}onEditPeriod(e){this.store.dispatch(new E(e)),this.router.navigate(["/period/edit"])}onDeletePeriod(){console.log("delete")}}var F=n("DQLy"),V=n("iInd"),A=l["\u0275crt"]({encapsulation:0,styles:[[".app-period-table[_ngcontent-%COMP%]{position:relative}.app-period-table[_ngcontent-%COMP%]   .app-period-table__popup[_ngcontent-%COMP%]{position:absolute;top:-160px;right:-20px;z-index:4}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]{padding:0 0 0 10px;border-bottom:1px solid #e7e7e7}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__cell[_ngcontent-%COMP%]{padding:15px 0 15px 5px}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__cell[_ngcontent-%COMP%]   .app-period-table__cell--types[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__cell[_ngcontent-%COMP%]   .app-period-table__cell--types[_ngcontent-%COMP%]   .app-period-table__cell--type[_ngcontent-%COMP%]{margin:0 5px 0 0}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__cell.app-period-table__cell--name[_ngcontent-%COMP%]{font-weight:800}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__cell.app-period-table__cell--controls[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:15px 10px 15px 5px}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__cell.app-period-table__cell--arrow[_ngcontent-%COMP%]{position:relative;padding:0;border-left:1px solid #cacaca}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__cell.app-period-table__cell--arrow[_ngcontent-%COMP%]   .app-period-table__arrow--ico[_ngcontent-%COMP%]{position:absolute;top:37%;left:30%;color:gray;font-size:20px}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__cell.app-period-table__cell--arrow[_ngcontent-%COMP%]   .app-period-table__arrow--ico--selected[_ngcontent-%COMP%]{position:absolute;top:25%;left:30%;color:#4350a2}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__cell.app-period-table__cell--arrow[_ngcontent-%COMP%]   .app-period-table__arrow--ico[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__cell[_ngcontent-%COMP%]   .app-period-table__button[_ngcontent-%COMP%]{display:flex;width:49px;height:16px;margin:auto 13px auto 0;padding:0 8px 0 3px;border-radius:3px;color:#fff;background-color:#4350a2;vertical-align:center}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__cell[_ngcontent-%COMP%]   .app-period-table__button[_ngcontent-%COMP%]   .app-period-table__button--pen[_ngcontent-%COMP%]{margin:2px 4px 0 3px;font-size:8px}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__cell[_ngcontent-%COMP%]   .app-period-table__button[_ngcontent-%COMP%]   .app-period-table__button--label[_ngcontent-%COMP%]{margin:0;font:800 10px/15px NunitoSans-Bold}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__cell[_ngcontent-%COMP%]   .app-period-table__button[_ngcontent-%COMP%]:hover{background-color:#3a458c}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__cell[_ngcontent-%COMP%]   .app-period-table__trash[_ngcontent-%COMP%]{border:none;background-color:transparent}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__cell[_ngcontent-%COMP%]   .app-period-table__trash[_ngcontent-%COMP%]   .app-period-table__trash-ico[_ngcontent-%COMP%]{color:gray}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__cell[_ngcontent-%COMP%]   .app-period-table__trash[_ngcontent-%COMP%]   .app-period-table__trash-ico[_ngcontent-%COMP%]:hover{opacity:.7}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period__table__split_set[_ngcontent-%COMP%]{padding:10px 15px;background-color:#f3f3f3}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period__table__split_set[_ngcontent-%COMP%]   .app-period__table__split_set--header[_ngcontent-%COMP%]{margin:0 0 10px;font:800 11px/15px NunitoSans-Bold;text-transform:uppercase}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period__table__split_set[_ngcontent-%COMP%]   .app-period__table__split_set--list[_ngcontent-%COMP%]{display:flex;margin:0 0 5px;padding:0;list-style:none}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period__table__split_set[_ngcontent-%COMP%]   .app-period__table__split_set--list[_ngcontent-%COMP%]   .app-period__table__split_set--item[_ngcontent-%COMP%]{margin:0 20px 0 0;color:#909090}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period__table__split_set[_ngcontent-%COMP%]   .app-period__table__split_set--list[_ngcontent-%COMP%]   .app-period__table__split_set--item.app-period__table__split_set--selected-item[_ngcontent-%COMP%]{color:#4350a2;text-decoration:underline}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period__table__split_set[_ngcontent-%COMP%]   .app-period__table__split_set--list[_ngcontent-%COMP%]   .app-period__table__split_set--item[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__split-table[_ngcontent-%COMP%]{width:100%}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__split-table[_ngcontent-%COMP%]   .app-period__split-row[_ngcontent-%COMP%]{background-color:#fff;padding:0 0 0 10px;border-bottom:1px solid #e7e7e7}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__split-table[_ngcontent-%COMP%]   .app-period__split-row[_ngcontent-%COMP%]   .app-period-table__split-cell[_ngcontent-%COMP%]{padding:10px 0 10px 5px}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__split-table[_ngcontent-%COMP%]   .app-period__split-row[_ngcontent-%COMP%]   .app-period-table__split-cell--name[_ngcontent-%COMP%]{font-weight:800}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__split-table[_ngcontent-%COMP%]   .app-period__split-row[_ngcontent-%COMP%]   .app-period-table__split--types[_ngcontent-%COMP%]{display:flex}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__split-table[_ngcontent-%COMP%]   .app-period-table__all-split-table[_ngcontent-%COMP%]{width:100%;margin:0 0 5px}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__split-table[_ngcontent-%COMP%]   .app-period-table__all-split-table[_ngcontent-%COMP%]   .app-period-table__all-split-table--row[_ngcontent-%COMP%]{background-color:#fff;padding:0 0 0 10px;border-bottom:1px solid #e7e7e7}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__split-table[_ngcontent-%COMP%]   .app-period-table__all-split-table[_ngcontent-%COMP%]   .app-period-table__all-split-table--row[_ngcontent-%COMP%]   .app-period-table__all-split-table--cel-name[_ngcontent-%COMP%]{width:22%;padding:10px 0 10px 5px;font-weight:800}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__split-table[_ngcontent-%COMP%]   .app-period-table__all-split-table[_ngcontent-%COMP%]   .app-period-table__all-split-table--row[_ngcontent-%COMP%]   .app-period-table__all-split-table--cel-date[_ngcontent-%COMP%], .app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__split-table[_ngcontent-%COMP%]   .app-period-table__all-split-table[_ngcontent-%COMP%]   .app-period-table__all-split-table--row[_ngcontent-%COMP%]   .app-period-table__all-split-table--cel-duration[_ngcontent-%COMP%]{width:9%;padding:10px 0 10px 5px}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__split-table[_ngcontent-%COMP%]   .app-period-table__all-split-table[_ngcontent-%COMP%]   .app-period-table__all-split-table--row[_ngcontent-%COMP%]   .app-period-table__all-split-table--cel-types[_ngcontent-%COMP%]{display:flex;padding:10px 0 10px 5px}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period__table--split-set[_ngcontent-%COMP%]{width:100%}"]],data:{}});function L(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"td",[["class","app-period-table__cell app-period-table__cell--name"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,[" "," "]))],null,function(e,t){e(t,1,0,t.parent.context.$implicit.name)})}function $(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"td",[["class","app-period-table__cell"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,[" "," "])),l["\u0275ppd"](2,2)],null,function(e,t){var n=l["\u0275unv"](t,1,0,e(t,2,0,l["\u0275nov"](t.parent.parent,0),t.parent.context.$implicit.date_from,"MM/dd/yyyy"));e(t,1,0,n)})}function q(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"td",[["class","app-period-table__cell"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,[" "," "]))],null,function(e,t){e(t,1,0,t.parent.context.$implicit.duration)})}function z(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"td",[["class","app-period-table__cell"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,[" "," "])),l["\u0275ppd"](2,2)],null,function(e,t){var n=l["\u0275unv"](t,1,0,e(t,2,0,l["\u0275nov"](t.parent.parent,0),t.parent.context.$implicit.date_to,"MM/dd/yyyy"));e(t,1,0,n)})}function B(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"app-bordered-label",[["class","app-period-table__cell--type"]],null,null,null,s,p)),l["\u0275did"](1,114688,null,0,a,[],{label:[0,"label"],color:[1,"color"]},null)],function(e,t){e(t,1,0,t.context.$implicit.name,t.context.$implicit.color)},null)}function U(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,"td",[["class","app-period-table__cell"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,2,"div",[["class","app-period-table__cell--types"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,B)),l["\u0275did"](3,278528,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,3,0,t.parent.context.$implicit.type)},null)}function H(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,6,"td",[["class","app-period-table__cell app-period-table__cell--controls"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,3,"button",[["class","app-period-table__button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onEditPeriod(e.parent.context.$implicit.period_id)&&l),l},null,null)),(e()(),l["\u0275eld"](2,0,null,null,0,"i",[["class","fas fa-pen app-period-table__button--pen"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,1,"span",[["class","app-period-table__button--label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Edit"])),(e()(),l["\u0275eld"](5,0,null,null,1,"button",[["class","app-period-table__trash"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=0!=(e.component.isPopupShown=!0)&&l),l},null,null)),(e()(),l["\u0275eld"](6,0,null,null,0,"i",[["class","fas fa-trash app-period-table__trash-ico"]],null,null,null,null,null))],null,null)}function G(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,"td",[["class","app-period-table__cell app-period-table__cell--arrow"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,3,"i",[["class","fas app-period-table__arrow--ico"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onOpenRow(e.parent.context.$implicit.period_id)&&l),l},null,null)),l["\u0275prd"](512,null,r["\u0275NgClassImpl"],r["\u0275NgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["\u0275did"](3,278528,null,0,r.NgClass,[r["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](4,{"fa-sort-down app-period-table__arrow--ico--selected":0,"fa-sort-up":1})],function(e,t){var n=e(t,4,0,t.parent.context.$implicit.open,!t.parent.context.$implicit.open);e(t,3,0,"fas app-period-table__arrow--ico",n)},null)}function K(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,"li",[["class","app-period__table__split_set--item"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.selectSplitSet(e.context.$implicit.id,e.parent.parent.context.$implicit.period_id)&&l),l},null,null)),l["\u0275prd"](512,null,r["\u0275NgClassImpl"],r["\u0275NgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["\u0275did"](2,278528,null,0,r.NgClass,[r["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](3,{"app-period__table__split_set--selected-item":0}),(e()(),l["\u0275ted"](4,null,[" "," "]))],function(e,t){var n=e(t,3,0,t.parent.parent.context.$implicit.selectedSplitSetId===t.context.$implicit.id);e(t,2,0,"app-period__table__split_set--item",n)},function(e,t){e(t,4,0,t.context.$implicit.name)})}function Z(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,14,"tr",[["class","app-period__split-row"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"td",[["class","app-period-table__split-cell app-period-table__split-cell--name"]],null,null,null,null,null)),(e()(),l["\u0275ted"](2,null,["",""])),(e()(),l["\u0275eld"](3,0,null,null,2,"td",[["class","app-period-table__split-cell"]],null,null,null,null,null)),(e()(),l["\u0275ted"](4,null,["",""])),l["\u0275ppd"](5,2),(e()(),l["\u0275eld"](6,0,null,null,1,"td",[["class","app-period-table__split-cell"]],null,null,null,null,null)),(e()(),l["\u0275ted"](7,null,["",""])),(e()(),l["\u0275eld"](8,0,null,null,2,"td",[["class","app-period-table__split-cell"]],null,null,null,null,null)),(e()(),l["\u0275ted"](9,null,["",""])),l["\u0275ppd"](10,2),(e()(),l["\u0275eld"](11,0,null,null,3,"td",[["class","app-period-table__split-cell"]],null,null,null,null,null)),(e()(),l["\u0275eld"](12,0,null,null,2,"div",[["class","app-period-table__split--types"]],null,null,null,null,null)),(e()(),l["\u0275eld"](13,0,null,null,1,"app-bordered-label",[["class","app-period-table__cell--type"]],null,null,null,s,p)),l["\u0275did"](14,114688,null,0,a,[],{label:[0,"label"],color:[1,"color"]},null)],function(e,t){e(t,14,0,t.context.$implicit.type.name,t.context.$implicit.type.color)},function(e,t){e(t,2,0,t.context.$implicit.name);var n=l["\u0275unv"](t,4,0,e(t,5,0,l["\u0275nov"](t.parent.parent.parent,0),t.context.$implicit.date_from,"MM/dd/yyyy"));e(t,4,0,n),e(t,7,0,t.context.$implicit.duration);var i=l["\u0275unv"](t,9,0,e(t,10,0,l["\u0275nov"](t.parent.parent.parent,0),t.context.$implicit.date_to,"MM/dd/yyyy"));e(t,9,0,i)})}function W(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,17,"td",[["class","app-period-table__cell--split-set"],["colspan","7"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,16,"div",[["class","app-period__table__split_set"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,1,"h2",[["class","app-period__table__split_set--header"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Splits types"])),(e()(),l["\u0275eld"](4,0,null,null,7,"ul",[["class","app-period__table__split_set--list"]],null,null,null,null,null)),(e()(),l["\u0275eld"](5,0,null,null,4,"li",[["class","app-period__table__split_set--item"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.selectAll(e.parent.context.$implicit.period_id)&&l),l},null,null)),l["\u0275prd"](512,null,r["\u0275NgClassImpl"],r["\u0275NgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["\u0275did"](7,278528,null,0,r.NgClass,[r["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](8,{"app-period__table__split_set--selected-item":0}),(e()(),l["\u0275ted"](-1,null,["all"])),(e()(),l["\u0275and"](16777216,null,null,1,null,K)),l["\u0275did"](11,278528,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275eld"](12,0,null,null,5,"table",[["class","app-period-table__split-table"]],null,null,null,null,null)),(e()(),l["\u0275eld"](13,0,null,null,1,"thead",[["app-table-thead",""]],null,[[null,"sortFilter"]],function(e,t,n){var l=!0;return"sortFilter"===t&&(l=!1!==e.component.onSortSplitSet(n,e.parent.context.$implicit.period_id)&&l),l},d.b,d.a)),l["\u0275did"](14,114688,null,0,u.a,[],{columns:[0,"columns"]},{sortFilter:"sortFilter"}),(e()(),l["\u0275eld"](15,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,Z)),l["\u0275did"](17,278528,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=t.component,l=e(t,8,0,t.parent.context.$implicit.isAllSelected);e(t,7,0,"app-period__table__split_set--item",l),e(t,11,0,t.parent.context.$implicit.splitSets),e(t,14,0,n.splitsTableColumns),e(t,17,0,n.getSplits(t.parent.context.$implicit.period_id))},null)}function X(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,19,"tr",[["class","app-period-table__row"]],null,null,null,null,null)),l["\u0275prd"](512,null,r["\u0275NgStyleImpl"],r["\u0275NgStyleR2Impl"],[l.ElementRef,l.KeyValueDiffers,l.Renderer2]),l["\u0275did"](2,278528,null,0,r.NgStyle,[r["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](3,{"background-color":0}),(e()(),l["\u0275and"](16777216,null,null,1,null,L)),l["\u0275did"](5,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,$)),l["\u0275did"](7,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,q)),l["\u0275did"](9,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,z)),l["\u0275did"](11,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,U)),l["\u0275did"](13,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,H)),l["\u0275did"](15,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,G)),l["\u0275did"](17,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,W)),l["\u0275did"](19,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=e(t,3,0,t.context.$implicit.open?"#EBEEFF":t.context.$implicit.bkgColor);e(t,2,0,n),e(t,5,0,"period"===t.context.$implicit.dataTableType),e(t,7,0,"period"===t.context.$implicit.dataTableType),e(t,9,0,"period"===t.context.$implicit.dataTableType),e(t,11,0,"period"===t.context.$implicit.dataTableType),e(t,13,0,"period"===t.context.$implicit.dataTableType),e(t,15,0,"period"===t.context.$implicit.dataTableType),e(t,17,0,"period"===t.context.$implicit.dataTableType),e(t,19,0,"split_set"===t.context.$implicit.dataTableType&&t.context.$implicit.open)},null)}function J(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"app-period-popup",[],null,[[null,"cancel"],[null,"accept"]],function(e,t,n){var l=!0,i=e.component;return"cancel"===t&&(l=0!=(i.isPopupShown=!i.isPopupShown)&&l),"accept"===t&&(l=!1!==i.onDeletePeriod()&&l),l},_,g)),l["\u0275did"](1,114688,null,0,c,[],{text:[0,"text"]},{cancel:"cancel",accept:"accept"})],function(e,t){e(t,1,0,"Are you sure you want to delete period? Period data will be lost.")},null)}function Q(e){return l["\u0275vid"](2,[l["\u0275pid"](0,r.DatePipe,[l.LOCALE_ID]),(e()(),l["\u0275eld"](1,0,null,null,9,"div",[["class","app-period-table"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,5,"table",[["class","app-period-table__table"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,1,"thead",[["app-table-thead",""]],null,[[null,"sortFilter"],[null,"searchValueEvent"]],function(e,t,n){var l=!0,i=e.component;return"sortFilter"===t&&(l=!1!==i.onSortPeriods(n)&&l),"searchValueEvent"===t&&(l=!1!==i.onSearchPeriod(n)&&l),l},d.b,d.a)),l["\u0275did"](4,114688,null,0,u.a,[],{columns:[0,"columns"]},{sortFilter:"sortFilter",searchValueEvent:"searchValueEvent"}),(e()(),l["\u0275eld"](5,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,X)),l["\u0275did"](7,278528,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275eld"](8,0,null,null,2,"div",[["class","app-period-table__popup"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,J)),l["\u0275did"](10,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,4,0,n.periodTableColumns),e(t,7,0,n.periodsData),e(t,10,0,n.isPopupShown)},null)}var ee=n("quSY");class te{constructor(e,t,n){this.store=e,this.periodService=t,this.router=n,this.periods=[],this.subscription=new ee.a,this.subscription=this.periodService.getPeriodStore().subscribe(e=>{this.periods=e.periods})}ngOnInit(){this.store.dispatch(new S)}ngOnDestroy(){this.subscription.unsubscribe()}onAddPeriod(){this.router.navigate(["/period/create"])}}var ne=l["\u0275crt"]({encapsulation:0,styles:[[".app-period[_ngcontent-%COMP%]{margin:0 15px}.app-period[_ngcontent-%COMP%]   .app-period__header-page[_ngcontent-%COMP%]{height:60px;display:flex}.app-period[_ngcontent-%COMP%]   .app-period__header-page[_ngcontent-%COMP%]   .app-period__header-page--text[_ngcontent-%COMP%]{margin:auto 0;font:800 18px/20px NunitoSans-Bold}.app-period[_ngcontent-%COMP%]   .app-period__header-page[_ngcontent-%COMP%]   .app-period__header-page__button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;flex-grow:1}.app-period[_ngcontent-%COMP%]   .app-period__header-page[_ngcontent-%COMP%]   .app-period__header-page__button-container[_ngcontent-%COMP%]   .app-period__header-page__button[_ngcontent-%COMP%]{width:118px;height:30px;margin:auto 0;font:800 12px/15px NunitoSans-Bold;background-color:#4350a2;color:#fff;border-radius:3px;align-items:center;vertical-align:middle}.app-period[_ngcontent-%COMP%]   .app-period__header-page[_ngcontent-%COMP%]   .app-period__header-page__button-container[_ngcontent-%COMP%]   .app-period__header-page__button[_ngcontent-%COMP%]:hover{background-color:#3a458c}.app-period[_ngcontent-%COMP%]   .app-period__content[_ngcontent-%COMP%]{padding:15px;background-color:#fff}.app-period[_ngcontent-%COMP%]   .app-period__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:0 0 25px}.app-period[_ngcontent-%COMP%]   .app-period__header[_ngcontent-%COMP%]   .app-period__header--text[_ngcontent-%COMP%]{font:800 13px/15px NunitoSans-Bold;text-transform:uppercase;margin:0}.app-period[_ngcontent-%COMP%]   .app-period__table[_ngcontent-%COMP%]{width:100%}.app-period[_ngcontent-%COMP%]   .app-period__table[_ngcontent-%COMP%]   .app-period__cell--name[_ngcontent-%COMP%]{width:20%}.app-period[_ngcontent-%COMP%]   .app-period__table[_ngcontent-%COMP%]   .app-period__cell--date[_ngcontent-%COMP%], .app-period[_ngcontent-%COMP%]   .app-period__table[_ngcontent-%COMP%]   .app-period__cell--duration[_ngcontent-%COMP%]{width:8%}.app-period[_ngcontent-%COMP%]   .app-period__table[_ngcontent-%COMP%]   .app-period__cell--type[_ngcontent-%COMP%]{width:26%}.app-period[_ngcontent-%COMP%]   .app-period__table[_ngcontent-%COMP%]   .app-period__cell--edit[_ngcontent-%COMP%]{width:30%}"]],data:{}});function le(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,14,"div",[["class","app-period"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,5,"div",[["class","app-period__header-page"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,1,"h2",[["class","app-period__header-page--text"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Period Management"])),(e()(),l["\u0275eld"](4,0,null,null,2,"div",[["class","app-period__header-page__button-container"]],null,null,null,null,null)),(e()(),l["\u0275eld"](5,0,null,null,1,"button",[["class","app-period__header-page__button"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onAddPeriod()&&l),l},null,null)),(e()(),l["\u0275ted"](-1,null,[" Create Period "])),(e()(),l["\u0275eld"](7,0,null,null,7,"div",[["class","app-period__content"]],null,null,null,null,null)),(e()(),l["\u0275eld"](8,0,null,null,4,"div",[["class","app-period__header"]],null,null,null,null,null)),(e()(),l["\u0275eld"](9,0,null,null,1,"h2",[["class","app-period__header--text"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["List of Periods"])),(e()(),l["\u0275eld"](11,0,null,null,1,"div",[["class","app-period__header--search"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Search"])),(e()(),l["\u0275eld"](13,0,null,null,1,"app-period-table",[],null,null,null,Q,A)),l["\u0275did"](14,638976,null,0,j,[F.n,Y,V.k,f.a],{periods:[0,"periods"]},null)],function(e,t){e(t,14,0,t.component.periods)},null)}function ie(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"app-period",[],null,null,null,le,ne)),l["\u0275did"](1,245760,null,0,te,[F.n,Y,V.k],null,null)],function(e,t){e(t,1,0)},null)}var oe=l["\u0275ccf"]("app-period",te,ie,{},{},[]);class re{constructor(e,t,n){this.store=e,this.periodService=t,this.router=n,this.isBackArrowEnable=!0,this.subscription=new ee.a}ngOnInit(){this.subscription=this.periodService.getPeriodStore().subscribe(e=>{this.period=e})}ngOnDestroy(){this.subscription.unsubscribe()}}var ae=l["\u0275crt"]({encapsulation:0,styles:[[".app-period-page-header[_ngcontent-%COMP%]{display:flex;height:40px;background-color:#fafafa}.app-period-page-header[_ngcontent-%COMP%]   .app-period-page-header__title[_ngcontent-%COMP%]{display:flex;display:flex;width:80%}.app-period-page-header[_ngcontent-%COMP%]   .app-period-page-header__title[_ngcontent-%COMP%]   .app-period-page-header__title--arrow[_ngcontent-%COMP%]{display:flex;width:3%;margin:0 15px 0 0;color:gray;border-right:1px solid #e5e5e5;border-top:1px solid #e5e5e5}.app-period-page-header[_ngcontent-%COMP%]   .app-period-page-header__title[_ngcontent-%COMP%]   .app-period-page-header__title--arrow[_ngcontent-%COMP%]   .app-period-page-header__title--arrow-ico[_ngcontent-%COMP%]{margin:auto}.app-period-page-header[_ngcontent-%COMP%]   .app-period-page-header__title[_ngcontent-%COMP%]   .app-period-page-header__title--arrow[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.8}.app-period-page-header[_ngcontent-%COMP%]   .app-period-page-header__title[_ngcontent-%COMP%]   .app-period-page-header__title--text[_ngcontent-%COMP%]{margin:auto 0;font-size:11px;line-height:15px;letter-spacing:.37px;text-transform:uppercase;color:gray}.app-period-page-header[_ngcontent-%COMP%]   .app-period-page-header__button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:baseline;width:20%}"]],data:{}});function pe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-page-header__title--arrow"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l["\u0275nov"](e,1).onClick()&&i),i},null,null)),l["\u0275did"](1,16384,null,0,V.l,[V.k,V.a,[8,null],l.Renderer2,l.ElementRef],{routerLink:[0,"routerLink"]},null),(e()(),l["\u0275eld"](2,0,null,null,0,"i",[["class","fas fa-chevron-left app-period-page-header__title--arrow-ico"]],null,null,null,null,null))],function(e,t){e(t,1,0,t.component.link)},null)}function se(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,7,"div",[["class","app-period-page-header"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,4,"div",[["class","app-period-page-header__title"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,pe)),l["\u0275did"](3,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](4,0,null,null,1,"h2",[["class","app-period-page-header__title--text"]],null,null,null,null,null)),(e()(),l["\u0275ted"](5,null,["",""])),(e()(),l["\u0275eld"](6,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Search"]))],function(e,t){e(t,3,0,t.component.isBackArrowEnable)},function(e,t){e(t,5,0,t.component.titleHeader)})}var de=n("LHBH"),ue=n("s7LF"),ce=n("RzGa"),ge=n("p6zw"),_e=n("bubl");class he{constructor(e,t){this.store=e,this.periodService=t,this.width="auto",this.subscription=new ee.a}ngOnInit(){this.subscription=this.periodService.getPeriodStore().subscribe(e=>{this.period=e.period})}onChangePeriod(){this.store.dispatch(new P({name:this.period.name,date_from:this.period.date_from,date_to:this.period.date_to,duration:Math.ceil(h.duration(h(this.period.date_to).diff(h(this.period.date_from))).asDays()),split_sets:this.period.split_sets}))}ngOnDestroy(){this.subscription.unsubscribe()}}var fe=l["\u0275crt"]({encapsulation:0,styles:[[".app-period-duration-setting[_ngcontent-%COMP%]{background:#fff;padding:15px 10px}.app-period-duration-setting[_ngcontent-%COMP%]   .app-period-duration-setting__header[_ngcontent-%COMP%]{font:800 13px/15px NunitoSans-Bold;text-transform:uppercase;margin:0 0 15px}.app-period-duration-setting[_ngcontent-%COMP%]   .app-period-duration-setting__name[_ngcontent-%COMP%]{margin:0 0 10px}.app-period-duration-setting[_ngcontent-%COMP%]   .app-period-duration-setting__range[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.app-period-duration-setting[_ngcontent-%COMP%]   .app-period-duration-setting__error[_ngcontent-%COMP%]{color:red;margin:0}"]],data:{}});function me(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"p",[["class","app-period-duration-setting__error"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,[" "," "]))],null,function(e,t){e(t,1,0,t.context.$implicit)})}function be(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-duration-setting__error"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,me)),l["\u0275did"](2,278528,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.period.error)},null)}function Ce(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,21,"div",[["class","app-period-duration-setting"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"h2",[["class","app-period-duration-setting__header"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Period Settings"])),(e()(),l["\u0275eld"](3,0,null,null,5,"div",[["class","app-period-duration-setting__name"]],null,null,null,null,null)),(e()(),l["\u0275eld"](4,0,null,null,4,"app-input-field",[["label","Period Name"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(e,t,n){var l=!0,i=e.component;return"ngModelChange"===t&&(l=!1!==(i.period.name=n)&&l),"ngModelChange"===t&&(l=!1!==i.onChangePeriod()&&l),l},de.b,de.a)),l["\u0275did"](5,671744,null,0,ue.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,ue.q,null,[ue.u]),l["\u0275did"](7,16384,null,0,ue.r,[[4,ue.q]],null,null),l["\u0275did"](8,114688,null,0,ce.a,[[6,ue.q]],{label:[0,"label"],isInvalid:[1,"isInvalid"]},null),(e()(),l["\u0275eld"](9,0,null,null,10,"div",[["class","app-period-duration-setting__range"]],null,null,null,null,null)),(e()(),l["\u0275eld"](10,0,null,null,4,"app-datepicker-field",[["label","Period Start"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(e,t,n){var l=!0,i=e.component;return"ngModelChange"===t&&(l=!1!==(i.period.date_from=n)&&l),"ngModelChange"===t&&(l=!1!==i.onChangePeriod()&&l),l},ge.b,ge.a)),l["\u0275did"](11,671744,null,0,ue.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,ue.q,null,[ue.u]),l["\u0275did"](13,16384,null,0,ue.r,[[4,ue.q]],null,null),l["\u0275did"](14,114688,null,0,_e.a,[[6,ue.q]],{label:[0,"label"],isInvalid:[1,"isInvalid"],width:[2,"width"]},null),(e()(),l["\u0275eld"](15,0,null,null,4,"app-datepicker-field",[["label","Period End"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(e,t,n){var l=!0,i=e.component;return"ngModelChange"===t&&(l=!1!==(i.period.date_to=n)&&l),"ngModelChange"===t&&(l=!1!==i.onChangePeriod()&&l),l},ge.b,ge.a)),l["\u0275did"](16,671744,null,0,ue.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,ue.q,null,[ue.u]),l["\u0275did"](18,16384,null,0,ue.r,[[4,ue.q]],null,null),l["\u0275did"](19,114688,null,0,_e.a,[[6,ue.q]],{label:[0,"label"],isInvalid:[1,"isInvalid"],width:[2,"width"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,be)),l["\u0275did"](21,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,5,0,n.period.name),e(t,8,0,"Period Name",!n.period.name),e(t,11,0,n.period.date_from),e(t,14,0,"Period Start",n.period.date_from>n.period.date_to,"147px"),e(t,16,0,n.period.date_to),e(t,19,0,"Period End",n.period.date_from>n.period.date_to,"147px"),e(t,21,0,n.period.error)},function(e,t){e(t,4,0,l["\u0275nov"](t,7).ngClassUntouched,l["\u0275nov"](t,7).ngClassTouched,l["\u0275nov"](t,7).ngClassPristine,l["\u0275nov"](t,7).ngClassDirty,l["\u0275nov"](t,7).ngClassValid,l["\u0275nov"](t,7).ngClassInvalid,l["\u0275nov"](t,7).ngClassPending),e(t,10,0,l["\u0275nov"](t,13).ngClassUntouched,l["\u0275nov"](t,13).ngClassTouched,l["\u0275nov"](t,13).ngClassPristine,l["\u0275nov"](t,13).ngClassDirty,l["\u0275nov"](t,13).ngClassValid,l["\u0275nov"](t,13).ngClassInvalid,l["\u0275nov"](t,13).ngClassPending),e(t,15,0,l["\u0275nov"](t,18).ngClassUntouched,l["\u0275nov"](t,18).ngClassTouched,l["\u0275nov"](t,18).ngClassPristine,l["\u0275nov"](t,18).ngClassDirty,l["\u0275nov"](t,18).ngClassValid,l["\u0275nov"](t,18).ngClassInvalid,l["\u0275nov"](t,18).ngClassPending)})}class ve{constructor(){}ngOnInit(){}}var Pe=l["\u0275crt"]({encapsulation:0,styles:[[".app-carets[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;border:1px solid gray;background:url(icon-carrets.aafb86db1d6d18d4707c.svg) 50%}.app-carets[_ngcontent-%COMP%]:active, .app-carets[_ngcontent-%COMP%]:hover{width:13px;height:13px;cursor:pointer}"]],data:{}});function Oe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,0,"div",[["class","app-carets"]],null,null,null,null,null))],null,null)}let Me;try{Me="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(il){Me=!1}let xe,Se=(()=>{class e{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Object(r.isPlatformBrowser)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Me)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.ngInjectableDef=Object(l.defineInjectable)({factory:function(){return new e(Object(l.inject)(l.PLATFORM_ID,8))},token:e,providedIn:"root"}),e})();function we(e){return function(){if(null==xe&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>xe=!0}))}finally{xe=xe||!1}return xe}()?e:!!e.capture}function ye(e){return null!=e&&"false"!==`${e}`}function De(e){return e instanceof l.ElementRef?e.nativeElement:e}var Ie=n("XNiG"),Re=n("HDdC"),Ee=n("VRyK"),ke=n("LRne"),Te=n("xgIS");n("eNwd"),n("3N8a"),n("IjjT"),n("/uUt");var Ne=n("D0XW"),Ye=n("l7GE"),je=n("ZUHj");class Fe{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new Ve(e,this.durationSelector))}}class Ve extends Ye.a{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:l}=this;n=l(e)}catch(t){return this.destination.error(t)}const l=Object(je.a)(this,n);!l||l.closed?this.clearThrottle():this.add(this.throttled=l)}}clearThrottle(){const{value:e,hasValue:t,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}notifyNext(e,t,n,l){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Ae=n("PqYM");n("pLZG");var Le=n("1G5W"),$e=n("JX91"),qe=(n("Zy1z"),n("eIep"));n("qgXg"),n("pxpQ"),n("9ppp"),n("Ylt2");const ze=20;let Be=(()=>{class e{constructor(e,t){this._platform=e,t.runOutsideAngular(()=>{this._change=e.isBrowser?Object(Ee.a)(Object(Te.a)(window,"resize"),Object(Te.a)(window,"orientationchange")):Object(ke.a)(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:t,height:n}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+n,right:e.left+t,height:n,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=document.documentElement,t=e.getBoundingClientRect();return{top:-t.top||document.body.scrollTop||window.scrollY||e.scrollTop||0,left:-t.left||document.body.scrollLeft||window.scrollX||e.scrollLeft||0}}change(e=ze){return e>0?this._change.pipe(function(e,t=Ne.a){return n=()=>Object(Ae.a)(e,t),function(e){return e.lift(new Fe(n))};var n}(e)):this._change}_updateViewportSize(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}}}return e.ngInjectableDef=Object(l.defineInjectable)({factory:function(){return new e(Object(l.inject)(Se),Object(l.inject)(l.NgZone))},token:e,providedIn:"root"}),e})();var Ue=n("IzEk"),He=n("vkgz");function Ge(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Ke(e,t){const n=t?"":"none";Ge(e.style,{touchAction:t?"":"none",webkitUserDrag:t?"":"none",webkitTapHighlightColor:t?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function Ze(e){const t=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*t}function We(e,t){return e.getPropertyValue(t).split(",").map(e=>e.trim())}const Xe=we({passive:!0}),Je=we({passive:!1}),Qe=800;class et{constructor(e,t,n,l,i,o){this._config=t,this._document=n,this._ngZone=l,this._viewportRuler=i,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new Ie.a,this._moveEventSubscriptions=0,this._pointerMoveSubscription=ee.a.EMPTY,this._pointerUpSubscription=ee.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this._disabled=!1,this.beforeStarted=new Ie.a,this.started=new Ie.a,this.released=new Ie.a,this.ended=new Ie.a,this.entered=new Ie.a,this.exited=new Ie.a,this.dropped=new Ie.a,this.moved=new Re.a(e=>{const t=this._moveEvents.subscribe(e);return this._moveEventSubscriptions++,()=>{t.unsubscribe(),this._moveEventSubscriptions--}}),this._pointerDown=e=>{if(this.beforeStarted.next(),this._handles.length){const t=this._handles.find(t=>{const n=e.target;return!!n&&(n===t||t.contains(n))});!t||this._disabledHandles.has(t)||this.disabled||this._initializeDragSequence(t,e)}else this.disabled||this._initializeDragSequence(this._rootElement,e)},this._pointerMove=e=>{if(!this._hasStartedDragging){const t=this._getPointerPositionOnPage(e);return void(Math.abs(t.x-this._pickupPositionOnPage.x)+Math.abs(t.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold&&(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(e))))}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()));const t=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,e.preventDefault(),this._updatePointerDirectionDelta(t),this._dropContainer)this._updateActiveDropContainer(t);else{const e=this._activeTransform;e.x=t.x-this._pickupPositionOnPage.x+this._passiveTransform.x,e.y=t.y-this._pickupPositionOnPage.y+this._passiveTransform.y;const n=tt(e.x,e.y);this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n,"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${e.x} ${e.y})`)}this._moveEventSubscriptions>0&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:t,event:e,delta:this._pointerDirectionDelta})})},this._pointerUp=e=>{if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging)){if(this.released.next({source:this}),!this._dropContainer)return this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>this.ended.next({source:this})),void this._dragDropRegistry.stopDragging(this);this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._dragDropRegistry.stopDragging(this)})}},this.withRootElement(e),o.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=ye(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions())}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}withHandles(e){return this._handles=e.map(e=>De(e)),this._handles.forEach(e=>Ke(e,!1)),this._toggleNativeDragInteractions(),this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=De(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),t.addEventListener("mousedown",this._pointerDown,Je),t.addEventListener("touchstart",this._pointerDown,Xe),this._initialTransform=void 0,this._rootElement=t),this}withBoundaryElement(e){return this._boundaryElement=e?De(e):null,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&it(this._rootElement),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._nextSibling=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){this._handles.indexOf(e)>-1&&this._disabledHandles.add(e)}enableHandle(e){this._disabledHandles.delete(e)}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe()}_destroyPreview(){this._preview&&it(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&it(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_startDragSequence(e){if(this.started.next({source:this}),ot(e)&&(this._lastTouchEventTime=Date.now()),this._dropContainer){const e=this._rootElement;this._nextSibling=e.nextSibling;const t=this._preview=this._createPreviewElement(),n=this._placeholder=this._createPlaceholderElement();e.style.display="none",this._document.body.appendChild(e.parentNode.replaceChild(n,e)),this._document.body.appendChild(t),this._dropContainer.start()}}_initializeDragSequence(e,t){t.stopPropagation();const n=this.isDragging(),l=ot(t),i=!l&&0!==t.button,o=this._rootElement,r=!l&&this._lastTouchEventTime&&this._lastTouchEventTime+Qe>Date.now();if(t.target&&t.target.draggable&&"mousedown"===t.type&&t.preventDefault(),n||i||r)return;null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._handles.length&&(this._rootElementTapHighlight=o.style.webkitTapHighlightColor,o.style.webkitTapHighlightColor="transparent"),this._toggleNativeDragInteractions(),this._hasStartedDragging=this._hasMoved=!1,this._initialContainer=this._dropContainer,this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollPosition=this._viewportRuler.getViewportScrollPosition(),this._boundaryElement&&(this._boundaryRect=this._boundaryElement.getBoundingClientRect()),this._pickupPositionInElement=this._previewTemplate&&this._previewTemplate.template?{x:0,y:0}:this._getPointerPositionInElement(e,t);const a=this._pickupPositionOnPage=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:a.x,y:a.y},this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){this._rootElement.style.display="",this._nextSibling?this._nextSibling.parentNode.insertBefore(this._rootElement,this._nextSibling):this._initialContainer.element.appendChild(this._rootElement),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const t=this._dropContainer,n=t.getItemIndex(this),{x:l,y:i}=this._getPointerPositionOnPage(e),o=t._isOverContainer(l,i);this.ended.next({source:this}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialContainer.getItemIndex(this),container:t,previousContainer:this._initialContainer,isPointerOverContainer:o}),t.drop(this,n,this._initialContainer,o),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t}){let n=this._dropContainer._getSiblingContainerFromPosition(this,e,t)||this._initialContainer._getSiblingContainerFromPosition(this,e,t);!n&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(n=this._initialContainer),n&&n!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this.entered.next({item:this,container:n}),this._dropContainer=n,this._dropContainer.enter(this,e,t)}),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this._preview.style.transform=tt(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y)}_createPreviewElement(){const e=this._previewTemplate,t=e?e.template:null;let n;if(t){const l=e.viewContainer.createEmbeddedView(t,e.context);n=l.rootNodes[0],this._previewRef=l,n.style.transform=tt(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const e=this._rootElement,t=e.getBoundingClientRect();(n=nt(e)).style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=tt(t.left,t.top)}return Ge(n.style,{pointerEvents:"none",position:"fixed",top:"0",left:"0",zIndex:"1000"}),Ke(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("dir",this._direction),n}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=tt(e.left,e.top);const t=function(e){const t=getComputedStyle(e),n=We(t,"transition-property"),l=n.find(e=>"transform"===e||"all"===e);if(!l)return 0;const i=n.indexOf(l),o=We(t,"transition-duration"),r=We(t,"transition-delay");return Ze(o[i])+Ze(r[i])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(e=>{const n=t=>{(!t||t.target===this._preview&&"transform"===t.propertyName)&&(this._preview.removeEventListener("transitionend",n),e(),clearTimeout(l))},l=setTimeout(n,1.5*t);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let n;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),n=this._placeholderRef.rootNodes[0]):n=nt(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(e,t){const n=this._rootElement.getBoundingClientRect(),l=e===this._rootElement?null:e,i=l?l.getBoundingClientRect():n,o=ot(t)?t.targetTouches[0]:t;return{x:i.left-n.left+(o.pageX-i.left-this._scrollPosition.left),y:i.top-n.top+(o.pageY-i.top-this._scrollPosition.top)}}_getPointerPositionOnPage(e){const t=ot(e)?e.touches[0]||e.changedTouches[0]:e;return{x:t.pageX-this._scrollPosition.left,y:t.pageY-this._scrollPosition.top}}_getConstrainedPointerPosition(e){const t=this._getPointerPositionOnPage(e),n=this._dropContainer?this._dropContainer.lockAxis:null;if("x"===this.lockAxis||"x"===n?t.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==n||(t.x=this._pickupPositionOnPage.x),this._boundaryRect){const{x:e,y:n}=this._pickupPositionInElement,l=this._boundaryRect,i=this._previewRect,o=l.top+n,r=l.bottom-(i.height-n);t.x=lt(t.x,l.left+e,l.right-(i.width-e)),t.y=lt(t.y,o,r)}return t}_updatePointerDirectionDelta(e){const{x:t,y:n}=e,l=this._pointerDirectionDelta,i=this._pointerPositionAtLastDirectionChange,o=Math.abs(t-i.x),r=Math.abs(n-i.y);return o>this._config.pointerDirectionChangeThreshold&&(l.x=t>i.x?1:-1,i.x=t),r>this._config.pointerDirectionChangeThreshold&&(l.y=n>i.y?1:-1,i.y=n),l}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this.disabled||this._handles.length>0;e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,Ke(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,Je),e.removeEventListener("touchstart",this._pointerDown,Xe)}}function tt(e,t){return`translate3d(${Math.round(e)}px, ${Math.round(t)}px, 0)`}function nt(e){const t=e.cloneNode(!0);return t.removeAttribute("id"),t}function lt(e,t,n){return Math.max(t,Math.min(n,e))}function it(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function ot(e){return e.type.startsWith("touch")}function rt(e,t){return Math.max(0,Math.min(t,e))}let at=0;const pt=.05;class st{constructor(e,t,n){this._dragDropRegistry=t,this.id=`cdk-drop-list-ref-${at++}`,this.disabled=!1,this.enterPredicate=()=>!0,this.beforeStarted=new Ie.a,this.entered=new Ie.a,this.exited=new Ie.a,this.dropped=new Ie.a,this.sorted=new Ie.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",t.registerDropContainer(this),this._document=n,this.element=e instanceof l.ElementRef?e.nativeElement:e}dispose(){this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this.beforeStarted.next(),this._isDragging=!0,this._activeDraggables=this._draggables.slice(),this._cacheOwnPosition(),this._cacheItemPositions(),this._siblings.forEach(e=>e._startReceiving(this))}enter(e,t,n){this.entered.next({item:e,container:this}),this.start();const l=this._getItemIndexFromPointerPosition(e,t,n),i=this._activeDraggables.indexOf(e),o=this._activeDraggables[l],r=e.getPlaceholderElement();if(i>-1&&this._activeDraggables.splice(i,1),o&&!this._dragDropRegistry.isDragging(o)){const t=o.getRootElement();t.parentElement.insertBefore(r,t),this._activeDraggables.splice(l,0,e)}else this.element.appendChild(r),this._activeDraggables.push(e);r.style.transform="",this._cacheItemPositions()}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,n,l){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:n.getItemIndex(e),container:this,previousContainer:n,isPointerOverContainer:l})}withItems(e){return this._draggables=e,e.forEach(e=>e._withDropContainer(this)),this}withDirection(e){return this._direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._orientation=e,this}getItemIndex(e){return this._isDragging?ut("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,t=>t.drag===e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,n,l){if(!this._isPointerNearDropContainer(t,n))return;const i=this._itemPositions,o=this._getItemIndexFromPointerPosition(e,t,n,l);if(-1===o&&i.length>0)return;const r="horizontal"===this._orientation,a=ut(i,t=>t.drag===e),p=i[o],s=i[a].clientRect,d=p.clientRect,u=a>o?1:-1;this._previousSwap.drag=p.drag,this._previousSwap.delta=r?l.x:l.y;const c=this._getItemOffsetPx(s,d,u),g=this._getSiblingOffsetPx(a,i,u),_=i.slice();!function(e,t,n){const l=rt(a,e.length-1),i=rt(n,e.length-1);if(l===i)return;const o=e[l],r=i<l?-1:1;for(let a=l;a!==i;a+=r)e[a]=e[a+r];e[i]=o}(i,0,o),this.sorted.next({previousIndex:a,currentIndex:o,container:this,item:e}),i.forEach((t,n)=>{if(_[n]===t)return;const l=t.drag===e,i=l?c:g,o=l?e.getPlaceholderElement():t.drag.getRootElement();t.offset+=i,r?(o.style.transform=`translate3d(${Math.round(t.offset)}px, 0, 0)`,dt(t.clientRect,0,i)):(o.style.transform=`translate3d(0, ${Math.round(t.offset)}px, 0)`,dt(t.clientRect,i,0))})}_cacheOwnPosition(){this._clientRect=this.element.getBoundingClientRect()}_cacheItemPositions(){const e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const t=(this._dragDropRegistry.isDragging(e)?e.getPlaceholderElement():e.getRootElement()).getBoundingClientRect();return{drag:e,offset:0,clientRect:{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}}).sort((t,n)=>e?t.clientRect.left-n.clientRect.left:t.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1,this._activeDraggables.forEach(e=>e.getRootElement().style.transform=""),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0}_getSiblingOffsetPx(e,t,n){const l="horizontal"===this._orientation,i=t[e].clientRect,o=t[e+-1*n];let r=i[l?"width":"height"]*n;if(o){const e=l?"left":"top",t=l?"right":"bottom";-1===n?r-=o.clientRect[e]-i[t]:r+=i[e]-o.clientRect[t]}return r}_isPointerNearDropContainer(e,t){const{top:n,right:l,bottom:i,left:o,width:r,height:a}=this._clientRect,p=r*pt,s=a*pt;return t>n-s&&t<i+s&&e>o-p&&e<l+p}_getItemOffsetPx(e,t,n){const l="horizontal"===this._orientation;let i=l?t.left-e.left:t.top-e.top;return-1===n&&(i+=l?t.width-e.width:t.height-e.height),i}_getItemIndexFromPointerPosition(e,t,n,l){const i="horizontal"===this._orientation;return ut(this._itemPositions,({drag:o,clientRect:r},a,p)=>{if(o===e)return p.length<2;if(l){const e=i?l.x:l.y;if(o===this._previousSwap.drag&&e===this._previousSwap.delta)return!1}return i?t>=Math.floor(r.left)&&t<=Math.floor(r.right):n>=Math.floor(r.top)&&n<=Math.floor(r.bottom)})}_isOverContainer(e,t){return ct(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,n){return this._siblings.find(l=>l._canReceive(e,t,n))}_canReceive(e,t,n){if(!this.enterPredicate(e,this)||!ct(this._clientRect,t,n))return!1;const l=this._document.elementFromPoint(t,n);return!!l&&(l===this.element||this.element.contains(l))}_startReceiving(e){const t=this._activeSiblings;t.has(e)||(t.add(e),this._cacheOwnPosition())}_stopReceiving(e){this._activeSiblings.delete(e)}}function dt(e,t,n){e.top+=t,e.bottom=e.top+e.height,e.left+=n,e.right=e.left+e.width}function ut(e,t){for(let n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1}function ct(e,t,n){const{top:l,bottom:i,left:o,right:r}=e;return n>=l&&n<=i&&t>=o&&t<=r}const gt=we({passive:!1,capture:!0});let _t=(()=>{class e{constructor(e,t){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new Ie.a,this.pointerUp=new Ie.a,this._preventDefaultWhileDragging=e=>{this._activeDragInstances.size&&e.preventDefault()},this._document=t}registerDropContainer(e){if(!this._dropInstances.has(e)){if(this.getDropContainer(e.id))throw Error(`Drop instance with id "${e.id}" has already been registered.`);this._dropInstances.add(e)}}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._preventDefaultWhileDragging,gt)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,gt)}startDragging(e,t){if(this._activeDragInstances.add(e),1===this._activeDragInstances.size){const e=t.type.startsWith("touch"),n=e?"touchend":"mouseup";this._globalListeners.set(e?"touchmove":"mousemove",{handler:e=>this.pointerMove.next(e),options:gt}).set(n,{handler:e=>this.pointerUp.next(e),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:gt}),e||this._globalListeners.set("wheel",{handler:this._preventDefaultWhileDragging,options:gt}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((e,t)=>{this._document.addEventListener(t,e.handler,e.options)})})}}stopDragging(e){this._activeDragInstances.delete(e),0===this._activeDragInstances.size&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances.has(e)}getDropContainer(e){return Array.from(this._dropInstances).find(t=>t.id===e)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,t)=>{this._document.removeEventListener(t,e.handler,e.options)}),this._globalListeners.clear()}}return e.ngInjectableDef=Object(l.defineInjectable)({factory:function(){return new e(Object(l.inject)(l.NgZone),Object(l.inject)(r.DOCUMENT))},token:e,providedIn:"root"}),e})();const ht={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let ft=(()=>{class e{constructor(e,t,n,l){this._document=e,this._ngZone=t,this._viewportRuler=n,this._dragDropRegistry=l}createDrag(e,t=ht){return new et(e,t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new st(e,this._dragDropRegistry,this._document)}}return e.ngInjectableDef=Object(l.defineInjectable)({factory:function(){return new e(Object(l.inject)(r.DOCUMENT),Object(l.inject)(l.NgZone),Object(l.inject)(Be),Object(l.inject)(_t))},token:e,providedIn:"root"}),e})();const mt=new l.InjectionToken("CDK_DROP_LIST"),bt=new l.InjectionToken("CDK_DRAG_PARENT");class Ct{constructor(e,t){this.element=e,this._stateChanges=new Ie.a,this._disabled=!1,this._parentDrag=t,Ke(e.nativeElement,!1)}get disabled(){return this._disabled}set disabled(e){this._disabled=ye(e),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}const vt=new l.InjectionToken("CDK_DRAG_CONFIG",{providedIn:"root",factory:function(){return{dragStartThreshold:5,pointerDirectionChangeThreshold:5}}});class Pt{constructor(e,t,n,i,o,r,a,p,s,d,u){this.element=e,this.dropContainer=t,this._document=n,this._ngZone=i,this._viewContainerRef=o,this._dir=s,this._changeDetectorRef=u,this._destroyed=new Ie.a,this._disabled=!1,this.started=new l.EventEmitter,this.released=new l.EventEmitter,this.ended=new l.EventEmitter,this.entered=new l.EventEmitter,this.exited=new l.EventEmitter,this.dropped=new l.EventEmitter,this.moved=new Re.a(e=>{const t=this._dragRef.moved.pipe(Object(b.a)(e=>({source:this,pointerPosition:e.pointerPosition,event:e.event,delta:e.delta}))).subscribe(e);return()=>{t.unsubscribe()}}),this._dragRef=d?d.createDrag(e,p):new et(e,p,n,i,r,a),this._dragRef.data=this,this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=ye(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}ngAfterViewInit(){this._ngZone.onStable.asObservable().pipe(Object(Ue.a)(1),Object(Le.a)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._handles.changes.pipe(Object($e.a)(this._handles),Object(He.a)(e=>{const t=e.filter(e=>e._parentDrag===this).map(e=>e.element);this._dragRef.withHandles(t)}),Object(qe.a)(e=>Object(Ee.a)(...e.map(e=>e._stateChanges))),Object(Le.a)(this._destroyed)).subscribe(e=>{const t=this._dragRef,n=e.element.nativeElement;e.disabled?t.disableHandle(n):t.enableHandle(n)})})}ngOnChanges(e){const t=e.rootElementSelector;t&&!t.firstChange&&this._updateRootElement()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}_updateRootElement(){const e=this.element.nativeElement,t=this.rootElementSelector?Ot(e,this.rootElementSelector):e;if(t&&t.nodeType!==this._document.ELEMENT_NODE)throw Error("cdkDrag must be attached to an element node. "+`Currently attached to "${t.nodeName}".`);this._dragRef.withRootElement(t||e)}_getBoundaryElement(){const e=this.boundaryElementSelector;return e?Ot(this.element.nativeElement,e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const t=this._dir,n=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,l=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(n).withPreviewTemplate(l),t&&e.withDirection(t.value)}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef&&this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(()=>{this.ended.emit({source:this}),this._changeDetectorRef&&this._changeDetectorRef.markForCheck()}),e.entered.subscribe(e=>{this.entered.emit({container:e.container.data,item:this})}),e.exited.subscribe(e=>{this.exited.emit({container:e.container.data,item:this})}),e.dropped.subscribe(e=>{this.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,isPointerOverContainer:e.isPointerOverContainer,item:this})})}}function Ot(e,t){let n=e.parentElement;for(;n;){if(n.matches?n.matches(t):n.msMatchesSelector(t))return n;n=n.parentElement}return null}class Mt{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=ye(e)}ngOnDestroy(){this._items.clear()}}let xt=0,St=(()=>{class e{constructor(t,n,i,o,r,a,p){this.element=t,this._changeDetectorRef=i,this._dir=o,this._group=r,this._destroyed=new Ie.a,this.connectedTo=[],this.orientation="vertical",this.id=`cdk-drop-list-${xt++}`,this._disabled=!1,this.enterPredicate=()=>!0,this.dropped=new l.EventEmitter,this.entered=new l.EventEmitter,this.exited=new l.EventEmitter,this.sorted=new l.EventEmitter,this._dropListRef=p?p.createDropList(t):new st(t,n,a||document),this._dropListRef.data=this,this._dropListRef.enterPredicate=(e,t)=>this.enterPredicate(e.data,t.data),this._syncInputs(this._dropListRef),this._handleEvents(this._dropListRef),e._dropLists.push(this),r&&r._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._disabled=ye(e)}ngAfterContentInit(){this._draggables.changes.pipe(Object($e.a)(this._draggables),Object(Le.a)(this._destroyed)).subscribe(e=>{this._dropListRef.withItems(e.map(e=>e._dragRef))})}ngOnDestroy(){const t=e._dropLists.indexOf(this);t>-1&&e._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}start(){this._dropListRef.start()}drop(e,t,n,l){this._dropListRef.drop(e._dragRef,t,n._dropListRef,l)}enter(e,t,n){this._dropListRef.enter(e._dragRef,t,n)}exit(e){this._dropListRef.exit(e._dragRef)}getItemIndex(e){return this._dropListRef.getItemIndex(e._dragRef)}_sortItem(e,t,n,l){return this._dropListRef._sortItem(e._dragRef,t,n,l)}_getSiblingContainerFromPosition(e,t,n){const l=this._dropListRef._getSiblingContainerFromPosition(e._dragRef,t,n);return l?l.data:null}_isOverContainer(e,t){return this._dropListRef._isOverContainer(e,t)}_syncInputs(t){this._dir&&this._dir.change.pipe(Object($e.a)(this._dir.value),Object(Le.a)(this._destroyed)).subscribe(e=>t.withDirection(e)),t.beforeStarted.subscribe(()=>{const n=function(e){return Array.isArray(e)?e:[e]}(this.connectedTo).map(t=>"string"==typeof t?e._dropLists.find(e=>e.id===t):t);this._group&&this._group._items.forEach(e=>{-1===n.indexOf(e)&&n.push(e)}),t.lockAxis=this.lockAxis,t.connectedTo(n.filter(e=>e&&e!==this).map(e=>e._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._changeDetectorRef.markForCheck()}),e.entered.subscribe(e=>{this.entered.emit({container:this,item:e.item.data})}),e.exited.subscribe(e=>{this.exited.emit({container:this,item:e.item.data})}),e.sorted.subscribe(e=>{this.sorted.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,container:this,item:e.item.data})}),e.dropped.subscribe(e=>{this.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,item:e.item.data,isPointerOverContainer:e.isPointerOverContainer}),this._changeDetectorRef.markForCheck()})}}return e._dropLists=[],e})();class wt{}class yt{constructor(e,t){this.store=e,this.periodService=t,this.closeInfo=new l.EventEmitter,this.subscription=new ee.a}ngOnInit(){this.subscription=this.periodService.getPeriodStore().subscribe(e=>{this.activeSplitSet=e.period.split_sets.find(e=>e.id===this.splitSetId),this.activeSplitSet&&(this.activeSplit=this.activeSplitSet.splits.find(e=>e.id===this.splitId))})}onCloseInfo(){this.closeInfo.emit(this.periodScaleItemId)}onChangeSplitDate(e){this.periodService.changeSplitDate(this.activeSplitSet,this.activeSplit,this.splitId,e)}onDeleteClick(){this.periodService.deleteSplit(this.activeSplitSet,this.splitId)}onCopyClick(){const e=this.activeSplitSet.splits.indexOf(this.activeSplitSet.splits.find(e=>e.id===this.splitId)),t=this.activeSplitSet.splits[e];this.activeSplitSet.splits.splice(e,0,{name:t.name,date_from:h(t.date_to,"DD-MM-YYYY").add(1,"days").toDate(),date_to:h(t.date_to,"DD-MM-YYYY").add(1+t.duration,"days").toDate(),id:this.activeSplitSet.splits.slice(-1).pop().id+1,duration:t.duration}),this.activeSplitSet.splits.map(t=>{if(this.activeSplitSet.splits.indexOf(t)>e+1){const e=this.activeSplitSet.splits[this.activeSplitSet.splits.indexOf(t)-1];t.date_from=h(e.date_to,"DD-MM-YYYY").add(1,"days").toDate(),t.date_from=h(e.date_to,"DD-MM-YYYY").add(1+t.duration,"days").toDate()}}),this.periodService.updateSplitSet(this.activeSplitSet)}onChangeSplitDuration(){this.periodService.changeSplitDuration(this.activeSplitSet,this.splitId)}ngOnDestroy(){this.subscription.unsubscribe()}}var Dt=l["\u0275crt"]({encapsulation:0,styles:[['.app-period-split-settings[_ngcontent-%COMP%]{width:310px;height:95px;border-radius:5px;background-color:#50597a}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:35px;padding:10px 10px 10px 15px;border-radius:5px 5px 0 0;color:#fff;background-color:#36405f}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__header[_ngcontent-%COMP%]   .app-period-split-settings__header--text[_ngcontent-%COMP%]{font:800 11px/15px NunitoSans-Bold;text-transform:uppercase}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__header[_ngcontent-%COMP%]   .app-period-split-settings__header--cross[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]{display:flex;padding:10px 15px}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__col[_ngcontent-%COMP%]{width:57px}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__col--duration[_ngcontent-%COMP%]{width:63px}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__col--duration[_ngcontent-%COMP%]   .app-period-split-settings__duration[_ngcontent-%COMP%]{display:flex}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__col--duration[_ngcontent-%COMP%]   .app-period-split-settings__duration[_ngcontent-%COMP%]   .app-period-split-settings__duration--field[_ngcontent-%COMP%]{width:41px;height:22px;padding:5px;border:1px solid #b6b6b6;border-radius:3px;font-size:12px}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__col--duration[_ngcontent-%COMP%]   .app-period-split-settings__duration[_ngcontent-%COMP%]   .app-period-split-settings__duration--text[_ngcontent-%COMP%]{margin:auto 0 auto 5px;font-size:12px;line-height:15px;color:#fff}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__cols[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:222px;padding:0 15px 0 0;position:relative}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__cols[_ngcontent-%COMP%]   .app-period-split-settings__col--text[_ngcontent-%COMP%]{margin:0 0 4px;font:400 9px/11px NunitoSans-Bold;color:#fff;text-transform:uppercase}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__cols[_ngcontent-%COMP%]   .app-period-split-settings__duration[_ngcontent-%COMP%]{display:flex}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__cols[_ngcontent-%COMP%]:after{position:absolute;content:"";width:1px;height:32px;top:9px;right:1px;background-color:#ebeeff}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__buttons[_ngcontent-%COMP%]{display:flex;flex-grow:1;justify-content:space-between;align-items:center;padding:0 0 0 15px;color:#fff}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__buttons-ico[_ngcontent-%COMP%]{font-size:12px}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__buttons-ico[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7}']],data:{}});function It(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,38,"div",[["class","app-period-split-settings"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,3,"div",[["class","app-period-split-settings__header"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,1,"h3",[["class","app-period-split-settings__header--text"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Split Settings"])),(e()(),l["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-times app-period-split-settings__header--cross"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onCloseInfo()&&l),l},null,null)),(e()(),l["\u0275eld"](5,0,null,null,33,"div",[["class","app-period-split-settings__content"]],null,null,null,null,null)),(e()(),l["\u0275eld"](6,0,null,null,29,"div",[["class","app-period-split-settings__cols"]],null,null,null,null,null)),(e()(),l["\u0275eld"](7,0,null,null,7,"div",[["class","app-period-split-settings__col"]],null,null,null,null,null)),(e()(),l["\u0275eld"](8,0,null,null,1,"p",[["class","app-period-split-settings__col--text"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Starts"])),(e()(),l["\u0275eld"](10,0,null,null,4,"app-datepicker-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(e,t,n){var l=!0,i=e.component;return"ngModelChange"===t&&(l=!1!==(i.activeSplit.date_from=n)&&l),"ngModelChange"===t&&(l=!1!==i.onChangeSplitDate("dateFrom")&&l),l},ge.b,ge.a)),l["\u0275did"](11,671744,null,0,ue.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,ue.q,null,[ue.u]),l["\u0275did"](13,16384,null,0,ue.r,[[4,ue.q]],null,null),l["\u0275did"](14,114688,null,0,_e.a,[[6,ue.q]],{isInvalid:[0,"isInvalid"],width:[1,"width"],dateInputFormat:[2,"dateInputFormat"],style:[3,"style"]},null),(e()(),l["\u0275eld"](15,0,null,null,12,"div",[["class","app-period-split-settings__col--duration"]],null,null,null,null,null)),(e()(),l["\u0275eld"](16,0,null,null,1,"p",[["class","app-period-split-settings__col--text"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Duration"])),(e()(),l["\u0275eld"](18,0,null,null,9,"div",[["class","app-period-split-settings__duration"]],null,null,null,null,null)),(e()(),l["\u0275eld"](19,0,[["input",1]],null,6,"input",[["class","app-period-split-settings__duration--field"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==l["\u0275nov"](e,20)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l["\u0275nov"](e,20).onTouched()&&i),"compositionstart"===t&&(i=!1!==l["\u0275nov"](e,20)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l["\u0275nov"](e,20)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==l["\u0275nov"](e,21).onChange(n.target.value)&&i),"input"===t&&(i=!1!==l["\u0275nov"](e,21).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l["\u0275nov"](e,21).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.activeSplit.duration=n)&&i),"ngModelChange"===t&&(i=!1!==o.onChangeSplitDuration()&&i),i},null,null)),l["\u0275did"](20,16384,null,0,ue.d,[l.Renderer2,l.ElementRef,[2,ue.a]],null,null),l["\u0275did"](21,16384,null,0,ue.w,[l.Renderer2,l.ElementRef],null,null),l["\u0275prd"](1024,null,ue.p,function(e,t){return[e,t]},[ue.d,ue.w]),l["\u0275did"](23,671744,null,0,ue.u,[[8,null],[8,null],[8,null],[6,ue.p]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,ue.q,null,[ue.u]),l["\u0275did"](25,16384,null,0,ue.r,[[4,ue.q]],null,null),(e()(),l["\u0275eld"](26,0,null,null,1,"div",[["class","app-period-split-settings__duration--text"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["days"])),(e()(),l["\u0275eld"](28,0,null,null,7,"div",[["class","app-period-split-settings__col"]],null,null,null,null,null)),(e()(),l["\u0275eld"](29,0,null,null,1,"p",[["class","app-period-split-settings__col--text"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Ends"])),(e()(),l["\u0275eld"](31,0,null,null,4,"app-datepicker-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(e,t,n){var l=!0,i=e.component;return"ngModelChange"===t&&(l=!1!==(i.activeSplit.date_to=n)&&l),"ngModelChange"===t&&(l=!1!==i.onChangeSplitDate("dateTo")&&l),l},ge.b,ge.a)),l["\u0275did"](32,671744,null,0,ue.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,ue.q,null,[ue.u]),l["\u0275did"](34,16384,null,0,ue.r,[[4,ue.q]],null,null),l["\u0275did"](35,114688,null,0,_e.a,[[6,ue.q]],{isInvalid:[0,"isInvalid"],width:[1,"width"],dateInputFormat:[2,"dateInputFormat"],style:[3,"style"]},null),(e()(),l["\u0275eld"](36,0,null,null,2,"div",[["class","app-period-split-settings__buttons"]],null,null,null,null,null)),(e()(),l["\u0275eld"](37,0,null,null,0,"i",[["class","fas fa-trash app-period-split-settings__buttons-ico"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onDeleteClick()&&l),l},null,null)),(e()(),l["\u0275eld"](38,0,null,null,0,"i",[["class","fas fa-copy app-period-split-settings__buttons-ico"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onCopyClick()&&l),l},null,null))],function(e,t){var n=t.component;e(t,11,0,n.activeSplit.date_from),e(t,14,0,n.activeSplit.date_from>n.activeSplit.date_to,"57px","MM/DD","short"),e(t,23,0,n.activeSplit.duration),e(t,32,0,n.activeSplit.date_to),e(t,35,0,n.activeSplit.date_from>n.activeSplit.date_to,"57px","MM/DD","short")},function(e,t){e(t,10,0,l["\u0275nov"](t,13).ngClassUntouched,l["\u0275nov"](t,13).ngClassTouched,l["\u0275nov"](t,13).ngClassPristine,l["\u0275nov"](t,13).ngClassDirty,l["\u0275nov"](t,13).ngClassValid,l["\u0275nov"](t,13).ngClassInvalid,l["\u0275nov"](t,13).ngClassPending),e(t,19,0,l["\u0275nov"](t,25).ngClassUntouched,l["\u0275nov"](t,25).ngClassTouched,l["\u0275nov"](t,25).ngClassPristine,l["\u0275nov"](t,25).ngClassDirty,l["\u0275nov"](t,25).ngClassValid,l["\u0275nov"](t,25).ngClassInvalid,l["\u0275nov"](t,25).ngClassPending),e(t,31,0,l["\u0275nov"](t,34).ngClassUntouched,l["\u0275nov"](t,34).ngClassTouched,l["\u0275nov"](t,34).ngClassPristine,l["\u0275nov"](t,34).ngClassDirty,l["\u0275nov"](t,34).ngClassValid,l["\u0275nov"](t,34).ngClassInvalid,l["\u0275nov"](t,34).ngClassPending)})}const Rt=new l.InjectionToken("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(l.inject)(r.DOCUMENT)}});let Et=(()=>{class e{constructor(e){if(this.value="ltr",this.change=new l.EventEmitter,e){const t=e.documentElement?e.documentElement.dir:null,n=(e.body?e.body.dir:null)||t;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return e.ngInjectableDef=Object(l.defineInjectable)({factory:function(){return new e(Object(l.inject)(Rt,8))},token:e,providedIn:"root"}),e})();class kt{constructor(){this.closeError=new l.EventEmitter}ngOnInit(){setTimeout(()=>{this.closeError.emit()},3e3)}onCloseError(){this.closeError.emit()}isString(e){return"string"==typeof e}}var Tt=l["\u0275crt"]({encapsulation:0,styles:[[".app-period-error[_ngcontent-%COMP%]{width:317px;min-height:65px;position:relative;z-index:2;display:flex;padding:15px 0;background-color:#36405f;border-radius:5px;border-left:5px solid #e65757}.app-period-error[_ngcontent-%COMP%]   .app-period-error__sign[_ngcontent-%COMP%]{width:31px;padding:3px 12px}.app-period-error[_ngcontent-%COMP%]   .app-period-error__sign[_ngcontent-%COMP%]   .app-period-error__sign--ico[_ngcontent-%COMP%]{color:#e65757}.app-period-error[_ngcontent-%COMP%]   .app-period-error__header[_ngcontent-%COMP%]{color:#e65757;text-transform:uppercase}.app-period-error[_ngcontent-%COMP%]   .app-period-error__error[_ngcontent-%COMP%]{padding:0 27px 0 0;color:#fff}.app-period-error[_ngcontent-%COMP%]   .app-period-error__cross[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;width:16px;height:16px}.app-period-error[_ngcontent-%COMP%]   .app-period-error__cross[_ngcontent-%COMP%]   .app-period-error__cross--ico[_ngcontent-%COMP%]{color:#fff}.app-period-error[_ngcontent-%COMP%]   .app-period-error__cross[_ngcontent-%COMP%]:hover{cursor:pointer}"]],data:{animation:[{type:7,name:"fadeAnimation",definitions:[{type:0,name:"in",styles:{type:6,styles:{opacity:1,offset:0},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:4,styles:{type:6,styles:{opacity:0,offset:1},offset:null},timings:3200}],options:null}],options:{}}]}});function Nt(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,[" "," "]))],null,function(e,t){e(t,1,0,t.component.errors)})}function Yt(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,[" "," "]))],null,function(e,t){e(t,1,0,t.context.$implicit)})}function jt(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,Yt)),l["\u0275did"](2,278528,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.errors)},null)}function Ft(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,11,"div",[["class","app-period-error"]],[[24,"@fadeAnimation",0]],null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"div",[["class","app-period-error__sign"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-exclamation app-period-error__sign--ico"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,1,"div",[["class","app-period-error__header"]],null,null,null,null,null)),(e()(),l["\u0275ted"](4,null,["",""])),(e()(),l["\u0275eld"](5,0,null,null,4,"div",[["class","app-period-error__error"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,Nt)),l["\u0275did"](7,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,jt)),l["\u0275did"](9,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](10,0,null,null,1,"div",[["class","app-period-error__cross"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onCloseError()&&l),l},null,null)),(e()(),l["\u0275eld"](11,0,null,null,0,"i",[["class","fa fa-times app-period-error__cross--ico"]],null,null,null,null,null))],function(e,t){var n=t.component;e(t,7,0,n.isString(n.errors)),e(t,9,0,!n.isString(n.errors))},function(e,t){var n=t.component;e(t,0,0,"leave"),e(t,4,0,n.header)})}var Vt=n("zC7G");class At{constructor(e){this.ngControl=e,this.value="",this.inputStyle=null,this.inputColor=null,this.onChangeField=new l.EventEmitter,this.ngControl&&(this.ngControl.valueAccessor=this)}ngOnInit(){}writeValue(e){this.value=e}setDisabledState(e){this.disabled=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}onChange(e){return this.onChangeField.emit({fieldValue:e,type:"input"}),e}onTouched(){}onPenClick(){this.input.nativeElement.focus()}}var Lt=l["\u0275crt"]({encapsulation:0,styles:[[".app-input-editable-field[_ngcontent-%COMP%]{width:auto;height:14px;position:relative;display:flex;justify-content:center;padding:0;margin:auto;border:none;border-radius:0;color:#fff}.app-input-editable-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;height:14px;font-size:12px}.app-input-editable-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.app-input-editable-field[_ngcontent-%COMP%]   input.app-input-field__value[_ngcontent-%COMP%]{padding-top:10px}.app-input-editable-field[_ngcontent-%COMP%]   .app-input-editable-field__ico[_ngcontent-%COMP%]{width:9px;height:9px;margin:auto 0;color:#fff;font-size:9px}.app-input-editable-field[_ngcontent-%COMP%]   .app-input-editable-field__input[_ngcontent-%COMP%]{color:#fff;background-color:#36405f}.app-input-editable-field.app-input-editable-field__header[_ngcontent-%COMP%]{justify-content:left;color:#000}.app-input-editable-field.app-input-editable-field__header[_ngcontent-%COMP%]   .app-input-editable-field__input[_ngcontent-%COMP%]{min-width:10px;padding:5px 0 0;margin:0 5px 0 0;color:#000;background-color:#fff;font:11px/15px NunitoSans-Bold}.app-input-editable-field.app-input-editable-field__header[_ngcontent-%COMP%]   .app-input-editable-field__ico[_ngcontent-%COMP%]{width:12px;height:12px;margin:auto 0;color:grey;font-size:12px}"]],data:{}});function $t(e){return l["\u0275vid"](0,[l["\u0275qud"](402653184,1,{input:0}),(e()(),l["\u0275eld"](1,0,null,null,14,"div",[["class","app-input-editable-field"]],null,null,null,null,null)),l["\u0275prd"](512,null,r["\u0275NgClassImpl"],r["\u0275NgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["\u0275did"](3,278528,null,0,r.NgClass,[r["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](4,{"app-input-editable-field__header":0}),(e()(),l["\u0275eld"](5,0,[[1,0],["input",1]],null,9,"input",[["AutoSizeInput",""],["class","form-control app-input-editable-field__input"]],[[8,"value",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==l["\u0275nov"](e,9)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l["\u0275nov"](e,9).onTouched()&&i),"compositionstart"===t&&(i=!1!==l["\u0275nov"](e,9)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l["\u0275nov"](e,9)._compositionEnd(n.target.value)&&i),"input"===t&&(i=!1!==l["\u0275nov"](e,14).onInput(n.target)&&i),"ngModelChange"===t&&(i=!1!==(o.value=n)&&i),"input"===t&&(i=!1!==o.onChange(n.target.value)&&i),"blur"===t&&(i=!1!==o.onTouched()&&i),i},null,null)),l["\u0275prd"](512,null,r["\u0275NgStyleImpl"],r["\u0275NgStyleR2Impl"],[l.ElementRef,l.KeyValueDiffers,l.Renderer2]),l["\u0275did"](7,278528,null,0,r.NgStyle,[r["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](8,{color:0}),l["\u0275did"](9,16384,null,0,ue.d,[l.Renderer2,l.ElementRef,[2,ue.a]],null,null),l["\u0275prd"](1024,null,ue.p,function(e){return[e]},[ue.d]),l["\u0275did"](11,671744,null,0,ue.u,[[8,null],[8,null],[8,null],[6,ue.p]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,ue.q,null,[ue.u]),l["\u0275did"](13,16384,null,0,ue.r,[[4,ue.q]],null,null),l["\u0275did"](14,2637824,null,0,Vt.AutoSizeInputDirective,[l.ElementRef],null,null),(e()(),l["\u0275eld"](15,0,null,null,0,"i",[["class","fas fa-pen app-input-editable-field__ico"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onPenClick()&&l),l},null,null))],function(e,t){var n=t.component,l=e(t,4,0,"header"===n.inputStyle);e(t,3,0,"app-input-editable-field",l);var i=e(t,8,0,n.inputColor);e(t,7,0,i),e(t,11,0,n.value)},function(e,t){e(t,5,0,t.component.value,l["\u0275nov"](t,13).ngClassUntouched,l["\u0275nov"](t,13).ngClassTouched,l["\u0275nov"](t,13).ngClassPristine,l["\u0275nov"](t,13).ngClassDirty,l["\u0275nov"](t,13).ngClassValid,l["\u0275nov"](t,13).ngClassInvalid,l["\u0275nov"](t,13).ngClassPending)})}class qt{constructor(e,t){this.store=e,this.periodService=t,this.subscription=new ee.a}ngOnInit(){this.subscription=this.periodService.getPeriodStore().subscribe(e=>{this.periodSplitSet=e.period.split_sets,this.activePeriodSet=e.period.split_sets.find(e=>e.id===this.splitSetId),this.activePeriodSet&&this.activePeriodSet.splits&&this.initScale(),this.savePeriodError=e.savePeriodError}),this.periodScale={width:6*this.getSplitSetLength(),length:this.getSplitSetLength(),items:[]},this.initScale()}getSplitSetLength(){return this.activePeriodSet&&this.activePeriodSet.splits&&this.activePeriodSet.splits.length?this.activePeriodSet.splits.reduce((e,t)=>e+t.duration,0):0}initScale(){const e=this.getSplitSetLength();this.periodScale={width:6*e,length:e,items:[]},this.activePeriodSet.splits.map(e=>{for(let t=0;t<e.duration;t++)this.periodScale.items.push({isExtreme:t===e.duration-1,extremeDate:t===e.duration-1?h(e.date_to,"DD-MM-YYYY").format("MM/DD"):null,label:2===t?e.name:null,splitId:e.id,slitDuration:2===t?e.duration:null,isPen:t===e.duration-5,isInfoOpen:!1,isLabelEdit:!1})})}dropItem(e){this.activePeriodSet.splits.map(e.currentIndex<e.previousIndex?t=>{t.id===parseInt(e.item.element.nativeElement.id,10)?(t.date_to=h(t.date_to,"DD-MM-YYYY").subtract(e.currentIndex-e.previousIndex,"days").toDate(),t.duration=t.duration-(e.previousIndex-e.currentIndex)):t.id===parseInt(e.item.element.nativeElement.id,10)+1&&(t.date_from=h(t.date_from,"DD-MM-YYYY").subtract(e.currentIndex-e.previousIndex,"days").toDate(),t.duration=t.duration+(e.previousIndex-e.currentIndex))}:t=>{t.id===parseInt(e.item.element.nativeElement.id,10)?(t.date_to=h(t.date_to,"DD-MM-YYYY").add(e.currentIndex-e.previousIndex,"days").toDate(),t.duration=t.duration+(e.currentIndex-e.previousIndex)):t.id===parseInt(e.item.element.nativeElement.id,10)+1&&(t.date_from=h(t.date_from,"DD-MM-YYYY").add(e.currentIndex-e.previousIndex,"days").toDate(),t.duration=t.duration-(e.currentIndex-e.previousIndex))}),this.periodService.updateSplitSet(this.activePeriodSet)}getColor(){return this.viewId%2==0?"#C87F13":"#1079C4"}onChangeSplitName(e,t){this.periodService.setSplitName(this.activePeriodSet,e,t)}onCreateSplit(){this.periodService.createSplit(this.activePeriodSet)}onPenClick(e){const t=this.periodScale.items[e].splitId;this.periodScale.items[e].isInfoOpen=!this.periodScale.items[e].isInfoOpen,this.periodScale.items.map(e=>{e.splitId===t&&(e.isLabelEdit=!e.isLabelEdit)})}onCloseInfo(e){const t=this.periodScale.items[e].splitId;this.periodScale.items[e].isInfoOpen=!1,this.periodScale.items.map(e=>{e.splitId===t&&(e.isLabelEdit=!1)})}getWidth(e){return 8*e.length+"px"}getIndex(e){return!e.isInfoOpen&&(e.isPen||e.isExtreme||e.label)?2:e.isInfoOpen?3:0}onCloseSplitSetError(){this.activePeriodSet.error.isBarErrorOpen=!1,this.periodService.updateSplitSet(this.activePeriodSet)}hasShownSplitSetError(e){return e.error&&e.error.text&&e.error.text.length&&e.error.isBarErrorOpen}onCloseSavePeriodError(){this.store.dispatch(new x({text:this.savePeriodError.text,isOpen:!1}))}ngOnDestroy(){this.subscription.unsubscribe()}}var zt=l["\u0275crt"]({encapsulation:0,styles:[['.app-period-split-bar[_ngcontent-%COMP%]{display:flex;padding:0 15px 5px;background-color:#fff;position:relative}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__header[_ngcontent-%COMP%]{min-width:115px;max-width:115px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]{display:flex;width:100%;max-width:853px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale[_ngcontent-%COMP%]{display:flex;position:relative;overflow:visible;min-width:100px;max-width:1003px;height:65px;padding:10px 10px 15px 0}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale[_ngcontent-%COMP%]   .app-period-split-bar__scale--label[_ngcontent-%COMP%]{position:absolute;z-index:1;overflow:hidden}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__add_split[_ngcontent-%COMP%]{flex-grow:2;height:19px;width:19px;margin:5px 0 0;cursor:pointer;color:#4350a2;background-color:#ebeeff;border:1px dashed #4350a2;text-align:center;vertical-align:middle}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__add_split[_ngcontent-%COMP%]   .app-period-split-bar__add_split--ico[_ngcontent-%COMP%]{font-size:14px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__add_split.app-period-split-bar__add_split--error[_ngcontent-%COMP%]{background-color:#fff3f3;border:1px dashed #e65757}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--cell[_ngcontent-%COMP%]{width:6px;height:14px;position:relative}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--cell[_ngcontent-%COMP%]   .app-period-split-bar--date[_ngcontent-%COMP%]{position:absolute;bottom:-14px;left:-8px;height:10px;font-size:10px;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--cell[_ngcontent-%COMP%]   .app-period-split-bar--input[_ngcontent-%COMP%]{position:absolute;top:2px;height:10px;font-size:10px;line-height:13px;border:none;border-radius:5px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar--label[_ngcontent-%COMP%]{position:absolute;height:14px;z-index:1;font-size:10px;line-height:15px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar--label--yellow[_ngcontent-%COMP%]{color:#c87f13}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar--label--blue[_ngcontent-%COMP%]{color:#1079c4}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--cell[_ngcontent-%COMP%]::before{content:"";position:absolute;top:-7px;height:4px;width:4px;background-color:#c87f13}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__cell--selected[_ngcontent-%COMP%]{width:5.5px;height:14px;background-color:#a4a8be}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--yellow[_ngcontent-%COMP%]{background-color:#fbe2bc}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--yellow[_ngcontent-%COMP%]::before{background-color:#c87f13}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--blue[_ngcontent-%COMP%]{background-color:#def1ff}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--blue[_ngcontent-%COMP%]::before{background-color:#1079c4}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__add[_ngcontent-%COMP%]{width:100%;max-width:853px;height:23px;margin:0 0 20px;cursor:pointer;font:12px/23px NunitoSans-Bold;color:#4350a2;background-color:#ebeeff;border:1px dashed #4350a2;text-align:center}.app-period-split-bar[_ngcontent-%COMP%]   .cdk-drag-placeholder[_ngcontent-%COMP%]   .app-period-split-bar--date[_ngcontent-%COMP%]{display:none}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__ico[_ngcontent-%COMP%]{font-size:10px;position:absolute;top:2px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__ico[_ngcontent-%COMP%]:hover{cursor:pointer}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__settings[_ngcontent-%COMP%]{position:absolute;top:18px;right:-30px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__error[_ngcontent-%COMP%]{position:absolute;top:30px;right:0}.cdk-drag-preview[_ngcontent-%COMP%]{color:red}.cdk-drag-preview[_ngcontent-%COMP%]   .app-period-split-bar--date[_ngcontent-%COMP%]{display:none}']],data:{}});function Bt(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","app-period-split-bar--date"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,["",""]))],null,function(e,t){e(t,1,0,t.parent.context.$implicit.extremeDate)})}function Ut(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"app-carets",[["cdkDragHandle",""],["class","app-period-bar__cell--extreme cdk-drag-handle"]],null,null,null,Oe,Pe)),l["\u0275did"](1,147456,[[2,4]],0,Ct,[l.ElementRef,[2,bt]],null,null),l["\u0275did"](2,114688,null,0,ve,[],null,null)],function(e,t){e(t,2,0)},null)}function Ht(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,7,"div",[["class","app-period-split-bar--label"]],null,null,null,null,null)),l["\u0275prd"](512,null,r["\u0275NgClassImpl"],r["\u0275NgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["\u0275did"](2,278528,null,0,r.NgClass,[r["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](3,{"app-period-split-bar--label--yellow":0,"app-period-split-bar--label--blue":1}),l["\u0275prd"](512,null,r["\u0275NgStyleImpl"],r["\u0275NgStyleR2Impl"],[l.ElementRef,l.KeyValueDiffers,l.Renderer2]),l["\u0275did"](5,278528,null,0,r.NgStyle,[r["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](6,{width:0}),(e()(),l["\u0275ted"](7,null,[" ",""]))],function(e,t){var n=t.component,l=e(t,3,0,n.viewId%2==0,n.viewId%2==1);e(t,2,0,"app-period-split-bar--label",l);var i=e(t,6,0,n.getWidth(t.parent.context.$implicit.label));e(t,5,0,i)},function(e,t){e(t,7,0,t.parent.context.$implicit.label)})}function Gt(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,8,"input",[["class","app-period-split-bar--input"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==l["\u0275nov"](e,4)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l["\u0275nov"](e,4).onTouched()&&i),"compositionstart"===t&&(i=!1!==l["\u0275nov"](e,4)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l["\u0275nov"](e,4)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(e.parent.context.$implicit.label=n)&&i),"ngModelChange"===t&&(i=!1!==o.onChangeSplitName(n,e.parent.context.$implicit.splitId)&&i),i},null,null)),l["\u0275prd"](512,null,r["\u0275NgStyleImpl"],r["\u0275NgStyleR2Impl"],[l.ElementRef,l.KeyValueDiffers,l.Renderer2]),l["\u0275did"](2,278528,null,0,r.NgStyle,[r["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](3,{width:0}),l["\u0275did"](4,16384,null,0,ue.d,[l.Renderer2,l.ElementRef,[2,ue.a]],null,null),l["\u0275prd"](1024,null,ue.p,function(e){return[e]},[ue.d]),l["\u0275did"](6,671744,null,0,ue.u,[[8,null],[8,null],[8,null],[6,ue.p]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,ue.q,null,[ue.u]),l["\u0275did"](8,16384,null,0,ue.r,[[4,ue.q]],null,null)],function(e,t){var n=e(t,3,0,t.component.getWidth(t.parent.context.$implicit.label));e(t,2,0,n),e(t,6,0,t.parent.context.$implicit.label)},function(e,t){e(t,0,0,l["\u0275nov"](t,8).ngClassUntouched,l["\u0275nov"](t,8).ngClassTouched,l["\u0275nov"](t,8).ngClassPristine,l["\u0275nov"](t,8).ngClassDirty,l["\u0275nov"](t,8).ngClassValid,l["\u0275nov"](t,8).ngClassInvalid,l["\u0275nov"](t,8).ngClassPending)})}function Kt(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,"i",[["class","fas fa-pen app-period-split-bar__ico"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onPenClick(e.parent.context.index)&&l),l},null,null)),l["\u0275prd"](512,null,r["\u0275NgStyleImpl"],r["\u0275NgStyleR2Impl"],[l.ElementRef,l.KeyValueDiffers,l.Renderer2]),l["\u0275did"](2,278528,null,0,r.NgStyle,[r["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](3,{color:0})],function(e,t){var n=e(t,3,0,t.component.getColor());e(t,2,0,n)},null)}function Zt(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-split-bar__settings"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"app-period-split-settings",[],null,[[null,"closeInfo"]],function(e,t,n){var l=!0;return"closeInfo"===t&&(l=!1!==e.component.onCloseInfo(n)&&l),l},It,Dt)),l["\u0275did"](2,245760,null,0,yt,[F.n,Y],{splitSetId:[0,"splitSetId"],splitId:[1,"splitId"],periodScaleItemId:[2,"periodScaleItemId"]},{closeInfo:"closeInfo"})],function(e,t){e(t,2,0,t.component.splitSetId,t.parent.context.$implicit.splitId,t.parent.context.index)},null)}function Wt(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,16777216,null,null,23,"div",[["cdkDrag",""],["cdkDragBoundary",".app-period-bar__scale"],["cdkDragLockAxis","x"],["class","app-period-split-bar__scale--cell cdk-drag"]],[[8,"id",0],[2,"cdk-drag-disabled",null],[2,"cdk-drag-dragging",null]],null,null,null,null)),l["\u0275prd"](6144,null,bt,null,[Pt]),l["\u0275did"](2,4866048,[[1,4]],3,Pt,[l.ElementRef,[3,mt],r.DOCUMENT,l.NgZone,l.ViewContainerRef,Be,_t,vt,[2,Et],ft,l.ChangeDetectorRef],{lockAxis:[0,"lockAxis"],boundaryElementSelector:[1,"boundaryElementSelector"],disabled:[2,"disabled"]},null),l["\u0275qud"](603979776,2,{_handles:1}),l["\u0275qud"](335544320,3,{_previewTemplate:0}),l["\u0275qud"](335544320,4,{_placeholderTemplate:0}),l["\u0275prd"](512,null,r["\u0275NgClassImpl"],r["\u0275NgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["\u0275did"](7,278528,null,0,r.NgClass,[r["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](8,{"app-period-split-bar__scale--yellow":0,"app-period-split-bar__scale--blue":1}),l["\u0275prd"](512,null,r["\u0275NgStyleImpl"],r["\u0275NgStyleR2Impl"],[l.ElementRef,l.KeyValueDiffers,l.Renderer2]),l["\u0275did"](10,278528,null,0,r.NgStyle,[r["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](11,{"z-index":0}),(e()(),l["\u0275and"](16777216,null,null,1,null,Bt)),l["\u0275did"](13,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,Ut)),l["\u0275did"](15,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,Ht)),l["\u0275did"](17,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,Gt)),l["\u0275did"](19,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,Kt)),l["\u0275did"](21,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,Zt)),l["\u0275did"](23,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](0,null,null,0))],function(e,t){var n=t.component;e(t,2,0,"x",".app-period-bar__scale",!t.context.$implicit.isExtreme);var l=e(t,8,0,n.viewId%2==0,n.viewId%2==1);e(t,7,0,"app-period-split-bar__scale--cell",l);var i=e(t,11,0,n.getIndex(t.context.$implicit));e(t,10,0,i),e(t,13,0,t.context.$implicit.extremeDate),e(t,15,0,t.context.$implicit.isExtreme),e(t,17,0,t.context.$implicit.label&&t.context.$implicit.slitDuration>10&&!t.context.$implicit.isLabelEdit),e(t,19,0,t.context.$implicit.label&&t.context.$implicit.slitDuration>10&&t.context.$implicit.isLabelEdit),e(t,21,0,t.context.$implicit.isPen),e(t,23,0,t.context.$implicit.isInfoOpen)},function(e,t){e(t,0,0,l["\u0275inlineInterpolate"](1,"",t.context.$implicit.splitId,""),l["\u0275nov"](t,2).disabled,l["\u0275nov"](t,2)._dragRef.isDragging())})}function Xt(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,12,"div",[["class","app-period-split-bar__splitset"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,6,"div",[["cdkDropList",""],["cdkDropListOrientation","horizontal"],["class","app-period-split-bar__scale cdk-drop-list"]],[[8,"id",0],[2,"cdk-drop-list-disabled",null],[2,"cdk-drop-list-dragging",null],[2,"cdk-drop-list-receiving",null]],[[null,"cdkDropListDropped"]],function(e,t,n){var l=!0;return"cdkDropListDropped"===t&&(l=!1!==e.component.dropItem(n)&&l),l},null,null)),l["\u0275prd"](6144,null,mt,null,[St]),l["\u0275did"](3,1196032,null,1,St,[l.ElementRef,_t,l.ChangeDetectorRef,[2,Et],[3,Mt],[2,r.DOCUMENT],ft],{orientation:[0,"orientation"]},{dropped:"cdkDropListDropped"}),l["\u0275qud"](603979776,1,{_draggables:1}),l["\u0275prd"](256,null,Mt,void 0,[]),(e()(),l["\u0275and"](16777216,null,null,1,null,Wt)),l["\u0275did"](7,278528,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275eld"](8,0,null,null,4,"div",[["class","app-period-split-bar__add_split"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onCreateSplit()&&l),l},null,null)),l["\u0275prd"](512,null,r["\u0275NgClassImpl"],r["\u0275NgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["\u0275did"](10,278528,null,0,r.NgClass,[r["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](11,{"app-period-split-bar__add_split--error":0}),(e()(),l["\u0275eld"](12,0,null,null,0,"i",[["class","fa fa-plus app-period-split-bar__add_split--ico"]],null,null,null,null,null))],function(e,t){var n=t.component;e(t,3,0,"horizontal"),e(t,7,0,n.periodScale.items);var l=e(t,11,0,n.hasShownSplitSetError(n.activePeriodSet));e(t,10,0,"app-period-split-bar__add_split",l)},function(e,t){e(t,1,0,l["\u0275nov"](t,3).id,l["\u0275nov"](t,3).disabled,l["\u0275nov"](t,3)._dropListRef.isDragging(),l["\u0275nov"](t,3)._dropListRef.isReceiving())})}function Jt(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","app-period-split-bar__add"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onCreateSplit()&&l),l},null,null)),(e()(),l["\u0275ted"](-1,null,[" + Create first split "]))],null,null)}function Qt(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-split-bar__error"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"app-period-error",[],null,[[null,"closeError"]],function(e,t,n){var l=!0;return"closeError"===t&&(l=!1!==e.component.onCloseSplitSetError()&&l),l},Ft,Tt)),l["\u0275did"](2,114688,null,0,kt,[],{errors:[0,"errors"]},{closeError:"closeError"})],function(e,t){e(t,2,0,t.component.activePeriodSet.error.text)},null)}function en(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-split-bar__error"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"app-period-error",[],null,[[null,"closeError"]],function(e,t,n){var l=!0;return"closeError"===t&&(l=!1!==e.component.onCloseSavePeriodError()&&l),l},Ft,Tt)),l["\u0275did"](2,114688,null,0,kt,[],{errors:[0,"errors"]},{closeError:"closeError"})],function(e,t){e(t,2,0,t.component.savePeriodError.text)},null)}function tn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,14,"div",[["class","app-period-split-bar"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,5,"div",[["class","app-period-split-bar__header"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,4,"app-input-editable-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(e,t,n){var l=!0;return"ngModelChange"===t&&(l=!1!==(e.component.activePeriodSet.name=n)&&l),l},$t,Lt)),l["\u0275did"](3,671744,null,0,ue.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,ue.q,null,[ue.u]),l["\u0275did"](5,16384,null,0,ue.r,[[4,ue.q]],null,null),l["\u0275did"](6,114688,null,0,At,[[6,ue.q]],{inputStyle:[0,"inputStyle"],inputColor:[1,"inputColor"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,Xt)),l["\u0275did"](8,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,Jt)),l["\u0275did"](10,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,Qt)),l["\u0275did"](12,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,en)),l["\u0275did"](14,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,3,0,n.activePeriodSet.name),e(t,6,0,"header",n.getColor()),e(t,8,0,n.getSplitSetLength()),e(t,10,0,!n.getSplitSetLength()),e(t,12,0,n.hasShownSplitSetError(n.activePeriodSet)),e(t,14,0,n.savePeriodError&&n.savePeriodError.text&&n.savePeriodError.isOpen)},function(e,t){e(t,2,0,l["\u0275nov"](t,5).ngClassUntouched,l["\u0275nov"](t,5).ngClassTouched,l["\u0275nov"](t,5).ngClassPristine,l["\u0275nov"](t,5).ngClassDirty,l["\u0275nov"](t,5).ngClassValid,l["\u0275nov"](t,5).ngClassInvalid,l["\u0275nov"](t,5).ngClassPending)})}var nn=n("99Bj"),ln=n("mEqT");class on{constructor(e,t,n){this.store=e,this.fb=t,this.periodService=n,this.viewSplits=[],this.periodDuration=0,this.splitUnits=["months","weeks","days","equal parts"],this.sortingParam={name:null,order:null},this.subscription=new ee.a,this.splitSetTableColumns=[{id:"name",title:"SPLIT NAME",sort:!0,search:!0,width:"170px"},{id:"date_from",title:"SPLIT START",sort:!0,dateSearch:!0,width:"170px"},{id:"date_to",title:"SPLIT END",sort:!0,dateSearch:!0,width:"170px"},{id:"duration",title:"DAYS IN SPLIT",sort:!0,search:!0,width:"170px"},{}],this.splitInformationForm=t.group({splitUnit:["months",ue.C.required],splitAmount:[null,ue.C.required],splitDuration:[null,ue.C.required]}),this.viewSplits=[]}ngOnInit(){this.subscription=this.periodService.getPeriodStore().subscribe(e=>{this.activeSplitSet=e.period.split_sets.find(e=>e.id===this.splitSetId),this.periodDuration=e.period.duration,this.activeSplitSet&&this.activeSplitSet.splits&&(this.viewSplits=this.getSortedSplits(this.activeSplitSet.splits,this.sortingParam.order,this.sortingParam.name))})}getBkgColor(){return this.viewId%2==0?"#FBE2BC":"#DEF1FF"}getRowColor(e){return this.hasShownSplitSetError(this.activeSplitSet)?"#FFF3F3":e%2==0?"transparent":"#FAFAFA"}onSortSplits(e){this.sortingParam={name:e.id,order:e.order},this.viewSplits=this.getSortedSplits(this.viewSplits,this.sortingParam.order,this.sortingParam.name)}getSortedSplits(e,t,n){const l=e.slice();return t&&n&&e&&("DESC"===t?l.sort((e,t)=>"name"===n?f.a.nameDescCompare(e,t):e[n]>t[n]?1:-1):"ASC"===t&&l.sort((e,t)=>"name"===n?f.a.nameAscCompare(e,t):e[n]<t[n]?1:-1)),l}onDeleteClick(){this.store.dispatch(new R({index:this.activeSplitSet.id}))}onCreateSplit(){const e=this.getUnit(),t=this.splitInformationForm.get("splitAmount").value,n="equal parts"===this.splitInformationForm.get("splitUnit").value?1:this.splitInformationForm.get("splitDuration").value;if(t&&n&&t>0&&n>0){for(let l=0;l<t;l++){const i=this.activeSplitSet.splits[l-1];this.activeSplitSet.splits.push({name:l+1+" split",date_from:i?h(i.date_to,"DD-MM-YYYY").add(1,"days").toDate():new Date,date_to:i?h(i.date_to,"DD-MM-YYYY").add(e*n,"days").toDate():h(new Date,"DD-MM-YYYY").add(e*n,"days").toDate(),id:l+1,duration:"equal parts"===this.splitInformationForm.get("splitUnit").value?e:e*t})}this.periodService.updateSplitSet(this.activeSplitSet)}}onModifySplit(){const e=this.getUnit(),t=this.splitInformationForm.get("splitAmount").value,n="equal parts"===this.splitInformationForm.get("splitUnit").value?1:this.splitInformationForm.get("splitDuration").value;if(t&&n&&t>0&&n>0){if(t>=this.activeSplitSet.splits.length)for(let l=0;l<t;l++){const i=this.activeSplitSet.splits[l-1],o=this.activeSplitSet.splits[l];o?(o.date_from=i?h(i.date_to,"DD-MM-YYYY").add(1,"days").toDate():o.date_from,o.date_to=i?h(i.date_to,"DD-MM-YYYY").add(e*n,"days").toDate():h(o.date_from,"DD-MM-YYYY").add(e*n,"days").toDate(),o.duration=e*n):this.activeSplitSet.splits.push({name:l+1+" split",date_from:i?h(i.date_to,"DD-MM-YYYY").add(1,"days").toDate():new Date,date_to:i?h(i.date_to,"DD-MM-YYYY").add(e*t,"days").toDate():h(new Date,"DD-MM-YYYY").add(e*n,"days").toDate(),id:i?i.id+1:0,duration:e*n})}else{this.activeSplitSet.splits.splice(t,this.activeSplitSet.splits.length);for(let l=0;l<t;l++){const t=this.activeSplitSet.splits[l],i=this.activeSplitSet.splits[l-1];t&&(t.date_from=i?h(i.date_to,"DD-MM-YYYY").add(1,"days").toDate():t.date_from,t.date_to=i?h(i.date_to,"DD-MM-YYYY").add(e*n,"days").toDate():h(t.date_from,"DD-MM-YYYY").add(e*n,"days").toDate(),t.duration=e*n)}}this.periodService.updateSplitSet(this.activeSplitSet)}}getUnit(){return"months"===this.splitInformationForm.get("splitUnit").value?31:"weeks"===this.splitInformationForm.get("splitUnit").value?7:"days"===this.splitInformationForm.get("splitUnit").value?1:"equal parts"===this.splitInformationForm.get("splitUnit").value?Math.ceil(this.periodDuration/this.splitInformationForm.get("splitAmount").value):void 0}onChangeName(e,t){this.periodService.setSplitName(this.activeSplitSet,e,t)}onChangeDate(e,t){this.periodService.changeSplitDate(this.activeSplitSet,e,e.id,t)}onChangeDuration(e){this.periodService.changeSplitDuration(this.activeSplitSet,e)}onSplitCreate(){this.periodService.createSplit(this.activeSplitSet)}onDeleteSplit(e){this.periodService.deleteSplit(this.activeSplitSet,e)}onSearch(e){e.value?"name"===e.name?this.viewSplits=this.viewSplits.filter(t=>t[e.name].includes(e.value)):"duration"===e.name&&e.value?this.viewSplits=this.activeSplitSet.splits.filter(t=>parseInt(t[e.name],10)===parseInt(e.value,10)):e.value&&(this.viewSplits=this.activeSplitSet.splits.filter(t=>h(h(t[e.name])).isSame(h(e.value),"day"))):this.viewSplits=this.getSortedSplits(this.activeSplitSet.splits,this.sortingParam.order,this.sortingParam.name)}onCloseSplitSetError(){this.activeSplitSet.error.isTableErrorOpen=!1,this.periodService.updateSplitSet(this.activeSplitSet)}hasShownSplitSetError(e){return e.error&&e.error.text&&e.error.text.length&&e.error.isTableErrorOpen}ngOnDestroy(){this.subscription.unsubscribe()}}var rn=l["\u0275crt"]({encapsulation:0,styles:[['.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:55px;padding:0 15px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__header[_ngcontent-%COMP%]   .app-period-split-information__header--input[_ngcontent-%COMP%]{width:188px;margin:auto 0}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__header[_ngcontent-%COMP%]   .app-period-split-information__header--icons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:47px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information--cog[_ngcontent-%COMP%], .app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information--trash[_ngcontent-%COMP%]{font-size:14px;margin:auto 0}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information--cog[_ngcontent-%COMP%]:hover, .app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information--trash[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information--trash[_ngcontent-%COMP%]{color:gray}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information--cog[_ngcontent-%COMP%]{color:#4350a2}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:60px;margin:15px 15px 20px;padding:15px;background-color:#f3f3f3}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]   .app-period-split-information__modification--select[_ngcontent-%COMP%]{width:116px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]   .app-period-split-information__modification--input[_ngcontent-%COMP%]{width:50px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]   .app-period-split-information__modification--label[_ngcontent-%COMP%]{margin:auto 0;font-size:12px;line-height:15px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]   .app-period-split-information__modification--field-container[_ngcontent-%COMP%]{display:flex}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]   .app-period-split-information__modification--field-container[_ngcontent-%COMP%]   .app-period-split-information__modification--split-unit[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:space-between;width:194px;padding:0 20px 0 0}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]   .app-period-split-information__modification--field-container[_ngcontent-%COMP%]   .app-period-split-information__modification--split-unit[_ngcontent-%COMP%]::after{content:"";position:absolute;width:1px;right:1px;top:-3px;height:40px;background-color:#cacaca}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]   .app-period-split-information__modification--field-container[_ngcontent-%COMP%]   .app-period-split-information__modification--split-amount[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:133px;padding:0 0 0 20px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]   .app-period-split-information__modification--field-container[_ngcontent-%COMP%]   .app-period-split-information__modification--split-duration[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:155px;padding:0 0 0 10px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]   .app-period-split-information__modification--button[_ngcontent-%COMP%]{width:101px;height:25px;margin:auto 0;font-size:12px;line-height:20px;background-color:#4350a2;color:#fff;border-radius:3px;align-items:center;vertical-align:middle}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]   .app-period-split-information__modification--button[_ngcontent-%COMP%]:hover{background-color:#3a458c}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]{padding:0 15px 25px;position:relative}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]   .app-period-split-information__information--header[_ngcontent-%COMP%]{font:800 13px/15px NunitoSans-Bold;text-transform:uppercase;margin:0 0 10px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]   .app-period-split-information__information--button[_ngcontent-%COMP%]{margin:0 0 0 15px;font:800 13px/15px NunitoSans-Bold;color:#4350a2;background-color:transparent;border-color:transparent}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]   .app-period-split-information__table[_ngcontent-%COMP%]{width:100%;margin:0 0 10px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]   .app-period-split-information__table[_ngcontent-%COMP%]   .app-period-split-information__row[_ngcontent-%COMP%]{height:45px;border-bottom:1px solid #e7e7e7}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]   .app-period-split-information__table[_ngcontent-%COMP%]   .app-period-split-information__row[_ngcontent-%COMP%]   .app-period-split-information__cell[_ngcontent-%COMP%]{width:170px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]   .app-period-split-information__table[_ngcontent-%COMP%]   .app-period-split-information__row[_ngcontent-%COMP%]   .app-period-split-information__cell[_ngcontent-%COMP%]   .app-period-split-information__field[_ngcontent-%COMP%]{padding:6px 3px 6px 10px;width:92px;min-height:25px;max-height:25px;border:1px solid #b6b6b6;border-radius:3px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]   .app-period-split-information__table[_ngcontent-%COMP%]   .app-period-split-information__row[_ngcontent-%COMP%]   .app-period-split-information--trash[_ngcontent-%COMP%]{display:block}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]   .app-period-split-information__table[_ngcontent-%COMP%]   .app-period-split-information__row[_ngcontent-%COMP%]   .app-period-split-information__cell[_ngcontent-%COMP%]:last-of-type{width:auto;height:45px;display:flex;justify-content:flex-end;padding:0 10px 0 0}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]   .app-period-split-information__table[_ngcontent-%COMP%]   .app-period-split-information__row[_ngcontent-%COMP%]   .app-period-split-information__cell[_ngcontent-%COMP%]:nth-child(1){padding:0 0 0 15px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]   .app-period-split-information__error[_ngcontent-%COMP%]{position:absolute;bottom:-10px;right:0}']],data:{}});function an(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"button",[["class","app-period-split-information__modification--button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onCreateSplit()&&l),l},null,null)),(e()(),l["\u0275ted"](-1,null,[" Create Split "]))],null,null)}function pn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"button",[["class","app-period-split-information__modification--button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onModifySplit()&&l),l},null,null)),(e()(),l["\u0275ted"](-1,null,[" Modify Split "]))],null,null)}function sn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,31,"tr",[["class","app-period-split-information__row"]],null,null,null,null,null)),l["\u0275prd"](512,null,r["\u0275NgStyleImpl"],r["\u0275NgStyleR2Impl"],[l.ElementRef,l.KeyValueDiffers,l.Renderer2]),l["\u0275did"](2,278528,null,0,r.NgStyle,[r["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](3,{"background-color":0}),(e()(),l["\u0275eld"](4,0,null,null,5,"td",[["class","app-period-split-information__cell"]],null,null,null,null,null)),(e()(),l["\u0275eld"](5,0,null,null,4,"app-input-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(e,t,n){var l=!0,i=e.component;return"ngModelChange"===t&&(l=!1!==(e.context.$implicit.name=n)&&l),"ngModelChange"===t&&(l=!1!==i.onChangeName(n,e.context.$implicit.id)&&l),l},de.b,de.a)),l["\u0275did"](6,671744,null,0,ue.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,ue.q,null,[ue.u]),l["\u0275did"](8,16384,null,0,ue.r,[[4,ue.q]],null,null),l["\u0275did"](9,114688,null,0,ce.a,[[6,ue.q]],{style:[0,"style"]},null),(e()(),l["\u0275eld"](10,0,null,null,5,"td",[["class","app-period-split-information__cell"]],null,null,null,null,null)),(e()(),l["\u0275eld"](11,0,null,null,4,"app-datepicker-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(e,t,n){var l=!0,i=e.component;return"ngModelChange"===t&&(l=!1!==(e.context.$implicit.date_from=n)&&l),"ngModelChange"===t&&(l=!1!==i.onChangeDate(e.context.$implicit,"dateFrom")&&l),l},ge.b,ge.a)),l["\u0275did"](12,671744,null,0,ue.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,ue.q,null,[ue.u]),l["\u0275did"](14,16384,null,0,ue.r,[[4,ue.q]],null,null),l["\u0275did"](15,114688,null,0,_e.a,[[6,ue.q]],{width:[0,"width"],dateInputFormat:[1,"dateInputFormat"],style:[2,"style"]},null),(e()(),l["\u0275eld"](16,0,null,null,5,"td",[["class","app-period-split-information__cell"]],null,null,null,null,null)),(e()(),l["\u0275eld"](17,0,null,null,4,"app-datepicker-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(e,t,n){var l=!0,i=e.component;return"ngModelChange"===t&&(l=!1!==(e.context.$implicit.date_to=n)&&l),"ngModelChange"===t&&(l=!1!==i.onChangeDate(e.context.$implicit,"dateTo")&&l),l},ge.b,ge.a)),l["\u0275did"](18,671744,null,0,ue.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,ue.q,null,[ue.u]),l["\u0275did"](20,16384,null,0,ue.r,[[4,ue.q]],null,null),l["\u0275did"](21,114688,null,0,_e.a,[[6,ue.q]],{width:[0,"width"],dateInputFormat:[1,"dateInputFormat"],style:[2,"style"]},null),(e()(),l["\u0275eld"](22,0,null,null,7,"td",[["class","app-period-split-information__cell"]],null,null,null,null,null)),(e()(),l["\u0275eld"](23,0,null,null,6,"input",[["class","app-period-split-information__field"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==l["\u0275nov"](e,24)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l["\u0275nov"](e,24).onTouched()&&i),"compositionstart"===t&&(i=!1!==l["\u0275nov"](e,24)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l["\u0275nov"](e,24)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==l["\u0275nov"](e,25).onChange(n.target.value)&&i),"input"===t&&(i=!1!==l["\u0275nov"](e,25).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l["\u0275nov"](e,25).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(e.context.$implicit.duration=n)&&i),"ngModelChange"===t&&(i=!1!==o.onChangeDuration(e.context.$implicit.id)&&i),i},null,null)),l["\u0275did"](24,16384,null,0,ue.d,[l.Renderer2,l.ElementRef,[2,ue.a]],null,null),l["\u0275did"](25,16384,null,0,ue.w,[l.Renderer2,l.ElementRef],null,null),l["\u0275prd"](1024,null,ue.p,function(e,t){return[e,t]},[ue.d,ue.w]),l["\u0275did"](27,671744,null,0,ue.u,[[8,null],[8,null],[8,null],[6,ue.p]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,ue.q,null,[ue.u]),l["\u0275did"](29,16384,null,0,ue.r,[[4,ue.q]],null,null),(e()(),l["\u0275eld"](30,0,null,null,1,"td",[["class","app-period-split-information__cell"]],null,null,null,null,null)),(e()(),l["\u0275eld"](31,0,null,null,0,"i",[["class","fas fa-trash app-period-split-information--trash"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onDeleteSplit(e.context.$implicit.id)&&l),l},null,null))],function(e,t){var n=e(t,3,0,t.component.getRowColor(t.context.index));e(t,2,0,n),e(t,6,0,t.context.$implicit.name),e(t,9,0,"cell"),e(t,12,0,t.context.$implicit.date_from),e(t,15,0,"92px","MM/DD","cell"),e(t,18,0,t.context.$implicit.date_to),e(t,21,0,"92px","MM/DD","cell"),e(t,27,0,t.context.$implicit.duration)},function(e,t){e(t,5,0,l["\u0275nov"](t,8).ngClassUntouched,l["\u0275nov"](t,8).ngClassTouched,l["\u0275nov"](t,8).ngClassPristine,l["\u0275nov"](t,8).ngClassDirty,l["\u0275nov"](t,8).ngClassValid,l["\u0275nov"](t,8).ngClassInvalid,l["\u0275nov"](t,8).ngClassPending),e(t,11,0,l["\u0275nov"](t,14).ngClassUntouched,l["\u0275nov"](t,14).ngClassTouched,l["\u0275nov"](t,14).ngClassPristine,l["\u0275nov"](t,14).ngClassDirty,l["\u0275nov"](t,14).ngClassValid,l["\u0275nov"](t,14).ngClassInvalid,l["\u0275nov"](t,14).ngClassPending),e(t,17,0,l["\u0275nov"](t,20).ngClassUntouched,l["\u0275nov"](t,20).ngClassTouched,l["\u0275nov"](t,20).ngClassPristine,l["\u0275nov"](t,20).ngClassDirty,l["\u0275nov"](t,20).ngClassValid,l["\u0275nov"](t,20).ngClassInvalid,l["\u0275nov"](t,20).ngClassPending),e(t,23,0,l["\u0275nov"](t,29).ngClassUntouched,l["\u0275nov"](t,29).ngClassTouched,l["\u0275nov"](t,29).ngClassPristine,l["\u0275nov"](t,29).ngClassDirty,l["\u0275nov"](t,29).ngClassValid,l["\u0275nov"](t,29).ngClassInvalid,l["\u0275nov"](t,29).ngClassPending)})}function dn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,sn)),l["\u0275did"](2,278528,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.viewSplits)},null)}function un(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-split-information__error"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"app-period-error",[],null,[[null,"closeError"]],function(e,t,n){var l=!0;return"closeError"===t&&(l=!1!==e.component.onCloseSplitSetError()&&l),l},Ft,Tt)),l["\u0275did"](2,114688,null,0,kt,[],{errors:[0,"errors"]},{closeError:"closeError"})],function(e,t){e(t,2,0,t.component.activeSplitSet.error.text)},null)}function cn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,62,"div",[["class","app-period-split-information"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,12,"div",[["class","app-period-split-information__header"]],null,null,null,null,null)),l["\u0275prd"](512,null,r["\u0275NgStyleImpl"],r["\u0275NgStyleR2Impl"],[l.ElementRef,l.KeyValueDiffers,l.Renderer2]),l["\u0275did"](3,278528,null,0,r.NgStyle,[r["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](4,{"background-color":0}),(e()(),l["\u0275eld"](5,0,null,null,5,"div",[["class","app-period-split-information__header--input"]],null,null,null,null,null)),(e()(),l["\u0275eld"](6,0,null,null,4,"app-input-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(e,t,n){var l=!0;return"ngModelChange"===t&&(l=!1!==(e.component.activeSplitSet.name=n)&&l),l},de.b,de.a)),l["\u0275did"](7,671744,null,0,ue.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,ue.q,null,[ue.u]),l["\u0275did"](9,16384,null,0,ue.r,[[4,ue.q]],null,null),l["\u0275did"](10,114688,null,0,ce.a,[[6,ue.q]],{label:[0,"label"]},null),(e()(),l["\u0275eld"](11,0,null,null,2,"div",[["class","app-period-split-information__header--icons"]],null,null,null,null,null)),(e()(),l["\u0275eld"](12,0,null,null,0,"i",[["class","fas fa-trash app-period-split-information--trash"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onDeleteClick()&&l),l},null,null)),(e()(),l["\u0275eld"](13,0,null,null,0,"i",[["class","fas fa-cog app-period-split-information--cog"]],null,null,null,null,null)),(e()(),l["\u0275eld"](14,0,null,null,36,"form",[["class","app-period-split-information__modification"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==l["\u0275nov"](e,16).onSubmit(n)&&i),"reset"===t&&(i=!1!==l["\u0275nov"](e,16).onReset()&&i),i},null,null)),l["\u0275did"](15,16384,null,0,ue.H,[],null,null),l["\u0275did"](16,540672,null,0,ue.k,[[8,null],[8,null]],{form:[0,"form"]},null),l["\u0275prd"](2048,null,ue.c,null,[ue.k]),l["\u0275did"](18,16384,null,0,ue.s,[[4,ue.c]],null,null),(e()(),l["\u0275eld"](19,0,null,null,27,"div",[["class","app-period-split-information__modification--field-container"]],null,null,null,null,null)),(e()(),l["\u0275eld"](20,0,null,null,8,"div",[["class","app-period-split-information__modification--split-unit"]],null,null,null,null,null)),(e()(),l["\u0275eld"](21,0,null,null,1,"p",[["class","app-period-split-information__modification--label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Split Into"])),(e()(),l["\u0275eld"](23,0,null,null,5,"div",[["class","app-period-split-information__modification--select"]],null,null,null,null,null)),(e()(),l["\u0275eld"](24,0,null,null,4,"app-select-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,nn.b,nn.a)),l["\u0275did"](25,671744,null,0,ue.i,[[3,ue.c],[8,null],[8,null],[8,null],[2,ue.F]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,ue.q,null,[ue.i]),l["\u0275did"](27,16384,null,0,ue.r,[[4,ue.q]],null,null),l["\u0275did"](28,114688,null,0,ln.a,[[6,ue.q]],{items:[0,"items"],value:[1,"value"],style:[2,"style"]},null),(e()(),l["\u0275eld"](29,0,null,null,8,"div",[["class","app-period-split-information__modification--split-amount"]],null,null,null,null,null)),(e()(),l["\u0275eld"](30,0,null,null,5,"div",[["class","app-period-split-information__modification--input"]],null,null,null,null,null)),(e()(),l["\u0275eld"](31,0,null,null,4,"app-input-field",[["fieldType","table"],["type","'number'"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,de.b,de.a)),l["\u0275did"](32,671744,null,0,ue.i,[[3,ue.c],[8,null],[8,null],[8,null],[2,ue.F]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,ue.q,null,[ue.i]),l["\u0275did"](34,16384,null,0,ue.r,[[4,ue.q]],null,null),l["\u0275did"](35,114688,null,0,ce.a,[[6,ue.q]],{fieldType:[0,"fieldType"],type:[1,"type"]},null),(e()(),l["\u0275eld"](36,0,null,null,1,"p",[["class","app-period-split-information__modification--label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["splits of"])),(e()(),l["\u0275eld"](38,0,null,null,8,"div",[["class","app-period-split-information__modification--split-duration"]],null,null,null,null,null)),(e()(),l["\u0275eld"](39,0,null,null,5,"div",[["class","app-period-split-information__modification--input"]],null,null,null,null,null)),(e()(),l["\u0275eld"](40,0,null,null,4,"app-input-field",[["fieldType","table"],["type","'number'"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,de.b,de.a)),l["\u0275did"](41,671744,null,0,ue.i,[[3,ue.c],[8,null],[8,null],[8,null],[2,ue.F]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,ue.q,null,[ue.i]),l["\u0275did"](43,16384,null,0,ue.r,[[4,ue.q]],null,null),l["\u0275did"](44,114688,null,0,ce.a,[[6,ue.q]],{fieldType:[0,"fieldType"],type:[1,"type"]},null),(e()(),l["\u0275eld"](45,0,null,null,1,"p",[["class","app-period-split-information__modification--label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](46,null,[" "," each "])),(e()(),l["\u0275and"](16777216,null,null,1,null,an)),l["\u0275did"](48,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,pn)),l["\u0275did"](50,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](51,0,null,null,11,"div",[["class","app-period-split-information__information"]],null,null,null,null,null)),(e()(),l["\u0275eld"](52,0,null,null,1,"h3",[["class","app-period-split-information__information--header"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["split information"])),(e()(),l["\u0275eld"](54,0,null,null,4,"table",[["class","app-period-split-information__table"]],null,null,null,null,null)),(e()(),l["\u0275eld"](55,0,null,null,1,"thead",[["app-table-thead",""]],null,[[null,"sortFilter"],[null,"searchValueEvent"]],function(e,t,n){var l=!0,i=e.component;return"sortFilter"===t&&(l=!1!==i.onSortSplits(n)&&l),"searchValueEvent"===t&&(l=!1!==i.onSearch(n)&&l),l},d.b,d.a)),l["\u0275did"](56,114688,null,0,u.a,[],{columns:[0,"columns"]},{sortFilter:"sortFilter",searchValueEvent:"searchValueEvent"}),(e()(),l["\u0275and"](16777216,null,null,1,null,dn)),l["\u0275did"](58,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,un)),l["\u0275did"](60,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](61,0,null,null,1,"button",[["class","app-period-split-information__information--button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onSplitCreate()&&l),l},null,null)),(e()(),l["\u0275ted"](-1,null,["Crete Split Row"]))],function(e,t){var n=t.component,l=e(t,4,0,n.getBkgColor());e(t,3,0,l),e(t,7,0,n.activeSplitSet.name),e(t,10,0,"Split Name"),e(t,16,0,n.splitInformationForm),e(t,25,0,"splitUnit"),e(t,28,0,n.splitUnits,n.splitUnits[0],"thead"),e(t,32,0,"splitAmount"),e(t,35,0,"table","'number'"),e(t,41,0,"splitDuration"),e(t,44,0,"table","'number'"),e(t,48,0,!n.activeSplitSet.splits||!(n.activeSplitSet.splits&&n.activeSplitSet.splits.length)),e(t,50,0,n.activeSplitSet.splits&&n.activeSplitSet.splits.length),e(t,56,0,n.splitSetTableColumns),e(t,58,0,n.viewSplits&&n.viewSplits.length),e(t,60,0,n.hasShownSplitSetError(n.activeSplitSet))},function(e,t){var n=t.component;e(t,6,0,l["\u0275nov"](t,9).ngClassUntouched,l["\u0275nov"](t,9).ngClassTouched,l["\u0275nov"](t,9).ngClassPristine,l["\u0275nov"](t,9).ngClassDirty,l["\u0275nov"](t,9).ngClassValid,l["\u0275nov"](t,9).ngClassInvalid,l["\u0275nov"](t,9).ngClassPending),e(t,14,0,l["\u0275nov"](t,18).ngClassUntouched,l["\u0275nov"](t,18).ngClassTouched,l["\u0275nov"](t,18).ngClassPristine,l["\u0275nov"](t,18).ngClassDirty,l["\u0275nov"](t,18).ngClassValid,l["\u0275nov"](t,18).ngClassInvalid,l["\u0275nov"](t,18).ngClassPending),e(t,24,0,l["\u0275nov"](t,27).ngClassUntouched,l["\u0275nov"](t,27).ngClassTouched,l["\u0275nov"](t,27).ngClassPristine,l["\u0275nov"](t,27).ngClassDirty,l["\u0275nov"](t,27).ngClassValid,l["\u0275nov"](t,27).ngClassInvalid,l["\u0275nov"](t,27).ngClassPending),e(t,31,0,l["\u0275nov"](t,34).ngClassUntouched,l["\u0275nov"](t,34).ngClassTouched,l["\u0275nov"](t,34).ngClassPristine,l["\u0275nov"](t,34).ngClassDirty,l["\u0275nov"](t,34).ngClassValid,l["\u0275nov"](t,34).ngClassInvalid,l["\u0275nov"](t,34).ngClassPending),e(t,40,0,l["\u0275nov"](t,43).ngClassUntouched,l["\u0275nov"](t,43).ngClassTouched,l["\u0275nov"](t,43).ngClassPristine,l["\u0275nov"](t,43).ngClassDirty,l["\u0275nov"](t,43).ngClassValid,l["\u0275nov"](t,43).ngClassInvalid,l["\u0275nov"](t,43).ngClassPending),e(t,46,0,n.splitInformationForm.get("splitUnit").value)})}class gn{constructor(e,t){this.store=e,this.periodService=t,this.subscription=new ee.a}ngOnInit(){this.subscription=this.periodService.getPeriodStore().subscribe(e=>{this.period=e.period,this.initScale()}),this.periodScale={width:2196,length:366,items:[],label:this.period.name,duration:this.period.duration>366?366:this.period.duration},this.initScale()}initScale(){this.periodScale={width:2196,length:366,items:[],label:this.period.name,duration:this.period.duration>366?366:this.period.duration};for(let e=0;e<this.periodScale.length;e++)this.drawItem(e);this.periodScale.items&&this.period&&this.period.duration&&this.period.duration>0&&(this.periodScale.items[0].isLowExtreme=!0,this.periodScale.items[this.periodScale.duration-1].isHighExtreme=!0)}drawItem(e){1===h(this.period.date_from,"DD-MM-YYYY").add(e,"days").date()?this.periodScale.items.push({id:e,label:h().month(h(this.period.date_from,"DD-MM-YYYY").add(e,"days").month()).format("MMMM").slice(0,3),isLowExtreme:!1,isHighExtreme:!1}):this.periodScale.items.push({id:e,isLowExtreme:!1,isHighExtreme:!1}),this.periodScale.items[e].isSelected=h(this.period.date_from,"DD-MM-YYYY")<=h(this.period.date_from,"DD-MM-YYYY").add(e,"days")&&h(this.period.date_from,"DD-MM-YYYY").add(e,"days")<=h(this.period.date_to,"DD-MM-YYYY")}dropItem(e){Array.prototype.slice.call(e.item.element.nativeElement.children).map(t=>{if(t.className.includes("app-period-bar__cell--high-extreme"))this.store.dispatch(new P({name:this.periodScale.label,date_from:this.period.date_from,date_to:h(this.period.date_from,"DD-MM-YYYY").add(e.currentIndex+1,"days").toDate(),duration:e.currentIndex+2,split_sets:this.period.split_sets}));else if(t.className.includes("app-period-bar__cell--low-extreme")){const t=this.period.duration;this.store.dispatch(new P({name:this.periodScale.label,date_from:h(this.period.date_from,"DD-MM-YYYY").add(e.currentIndex,"days").toDate(),date_to:this.period.date_to,duration:t-e.currentIndex+1,split_sets:this.period.split_sets}))}})}getWidth(){return this.periodScale.duration>15?(6*this.periodScale.duration-12).toString()+"px":"0px"}onChangeName(e){this.store.dispatch(new P({name:e,date_from:this.period.date_from,date_to:this.period.date_to,duration:this.period.duration,split_sets:this.period.split_sets}))}ngOnDestroy(){this.subscription.unsubscribe()}}var _n=l["\u0275crt"]({encapsulation:0,styles:[['.app-period-bar[_ngcontent-%COMP%]{display:flex;padding:20px 15px 0;background-color:#fff;overflow-x:hidden}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__header[_ngcontent-%COMP%]{min-width:113px;max-width:113px;height:15px;font:800 12px/15px NunitoSans-Bold;margin:7px 0 auto}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale[_ngcontent-%COMP%]{flex-grow:1;display:flex;position:relative;overflow:visible;min-width:500px;max-width:853px;height:65px;padding:10px 0 15px 7px;overflow-y:auto}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale[_ngcontent-%COMP%]   .app-period-bar__scale--label[_ngcontent-%COMP%]{position:absolute;z-index:1;overflow:hidden}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]{width:4px;height:14px;margin:0 2px 0 0;background-color:#f7f8ff;position:relative}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]   .app-period-bar__cell--month[_ngcontent-%COMP%]{position:absolute;bottom:-14px;height:10px;font-size:10px;color:#000}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]   .app-period-bar__cell--month[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:9px;left:1px;height:7px;width:2px;background-color:#000}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]   .app-period-bar__cell--high-extreme[_ngcontent-%COMP%], .app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]   .app-period-bar__cell--low-extreme[_ngcontent-%COMP%]{position:absolute;z-index:2;top:1px;right:-2px}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]   .app-period-bar__cell--high-extreme[_ngcontent-%COMP%]{right:-4px}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]::before{content:"";position:absolute;top:-7px;height:4px;width:4px;background-color:#36405f}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__cell--selected[_ngcontent-%COMP%]{width:5.5px;height:14px;background-color:#36405f}.app-period-bar[_ngcontent-%COMP%]   .cdk-drag-placeholder[_ngcontent-%COMP%]   .app-period-bar__cell--month[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   .app-period-bar__cell--month[_ngcontent-%COMP%]{display:none}']],data:{}});function hn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","app-period-bar__cell--month"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,["",""]))],null,function(e,t){e(t,1,0,t.parent.context.$implicit.label)})}function fn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,0,"div",[["class","app-period-bar__cell--selected"]],null,null,null,null,null))],null,null)}function mn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"app-carets",[["cdkDragHandle",""],["class","app-period-bar__cell--high-extreme cdk-drag-handle"]],null,null,null,Oe,Pe)),l["\u0275did"](1,147456,[[2,4]],0,Ct,[l.ElementRef,[2,bt]],null,null),l["\u0275did"](2,114688,null,0,ve,[],null,null)],function(e,t){e(t,2,0)},null)}function bn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"app-carets",[["cdkDragHandle",""],["class","app-period-bar__cell--low-extreme cdk-drag-handle"]],null,null,null,Oe,Pe)),l["\u0275did"](1,147456,[[2,4]],0,Ct,[l.ElementRef,[2,bt]],null,null),l["\u0275did"](2,114688,null,0,ve,[],null,null)],function(e,t){e(t,2,0)},null)}function Cn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,16777216,null,null,13,"div",[["cdkDrag",""],["cdkDragBoundary",".app-period-bar__scale"],["cdkDragLockAxis","x"],["class","app-period-bar__scale--cell cdk-drag"]],[[2,"cdk-drag-disabled",null],[2,"cdk-drag-dragging",null]],null,null,null,null)),l["\u0275prd"](6144,null,bt,null,[Pt]),l["\u0275did"](2,4866048,[[1,4]],3,Pt,[l.ElementRef,[3,mt],r.DOCUMENT,l.NgZone,l.ViewContainerRef,Be,_t,vt,[2,Et],ft,l.ChangeDetectorRef],{lockAxis:[0,"lockAxis"],boundaryElementSelector:[1,"boundaryElementSelector"],disabled:[2,"disabled"]},null),l["\u0275qud"](603979776,2,{_handles:1}),l["\u0275qud"](335544320,3,{_previewTemplate:0}),l["\u0275qud"](335544320,4,{_placeholderTemplate:0}),(e()(),l["\u0275and"](16777216,null,null,1,null,hn)),l["\u0275did"](7,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,fn)),l["\u0275did"](9,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,mn)),l["\u0275did"](11,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,bn)),l["\u0275did"](13,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](0,null,null,0))],function(e,t){e(t,2,0,"x",".app-period-bar__scale",!(t.context.$implicit.isHighExtreme||t.context.$implicit.isLowExtreme)),e(t,7,0,t.context.$implicit.label),e(t,9,0,t.context.$implicit.isSelected),e(t,11,0,t.context.$implicit.isHighExtreme),e(t,13,0,t.context.$implicit.isLowExtreme)},function(e,t){e(t,0,0,l["\u0275nov"](t,2).disabled,l["\u0275nov"](t,2)._dragRef.isDragging())})}function vn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,15,"div",[["class","app-period-bar"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"h2",[["class","app-period-bar__header"]],null,null,null,null,null)),(e()(),l["\u0275ted"](2,null,["",""])),(e()(),l["\u0275eld"](3,0,null,null,12,"div",[["cdkDropList",""],["cdkDropListOrientation","horizontal"],["class","app-period-bar__scale cdk-drop-list"]],[[8,"id",0],[2,"cdk-drop-list-disabled",null],[2,"cdk-drop-list-dragging",null],[2,"cdk-drop-list-receiving",null]],[[null,"cdkDropListDropped"]],function(e,t,n){var l=!0;return"cdkDropListDropped"===t&&(l=!1!==e.component.dropItem(n)&&l),l},null,null)),l["\u0275prd"](6144,null,mt,null,[St]),l["\u0275did"](5,1196032,null,1,St,[l.ElementRef,_t,l.ChangeDetectorRef,[2,Et],[3,Mt],[2,r.DOCUMENT],ft],{orientation:[0,"orientation"]},{dropped:"cdkDropListDropped"}),l["\u0275qud"](603979776,1,{_draggables:1}),l["\u0275prd"](256,null,Mt,void 0,[]),(e()(),l["\u0275eld"](8,0,null,null,5,"div",[["class","app-period-bar__scale--label"]],[[4,"width",null]],null,null,null,null)),(e()(),l["\u0275eld"](9,0,null,null,4,"app-input-editable-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(e,t,n){var l=!0,i=e.component;return"ngModelChange"===t&&(l=!1!==(i.period.name=n)&&l),"ngModelChange"===t&&(l=!1!==i.onChangeName(n)&&l),l},$t,Lt)),l["\u0275did"](10,671744,null,0,ue.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,ue.q,null,[ue.u]),l["\u0275did"](12,16384,null,0,ue.r,[[4,ue.q]],null,null),l["\u0275did"](13,114688,null,0,At,[[6,ue.q]],null,null),(e()(),l["\u0275and"](16777216,null,null,1,null,Cn)),l["\u0275did"](15,278528,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=t.component;e(t,5,0,"horizontal"),e(t,10,0,n.period.name),e(t,13,0),e(t,15,0,n.periodScale.items)},function(e,t){var n=t.component;e(t,2,0,n.period.name),e(t,3,0,l["\u0275nov"](t,5).id,l["\u0275nov"](t,5).disabled,l["\u0275nov"](t,5)._dropListRef.isDragging(),l["\u0275nov"](t,5)._dropListRef.isReceiving()),e(t,8,0,n.getWidth()),e(t,9,0,l["\u0275nov"](t,12).ngClassUntouched,l["\u0275nov"](t,12).ngClassTouched,l["\u0275nov"](t,12).ngClassPristine,l["\u0275nov"](t,12).ngClassDirty,l["\u0275nov"](t,12).ngClassValid,l["\u0275nov"](t,12).ngClassInvalid,l["\u0275nov"](t,12).ngClassPending)})}class Pn{constructor(e,t,n){this.store=e,this.periodService=t,this.router=n,this.isPopupShown=!1,this.subscription=new ee.a}ngOnInit(){this.subscription=this.periodService.getPeriodStore().subscribe(e=>{this.splitSet=e.period.split_sets,this.period=e})}onAddSplit(){this.store.dispatch(new D({name:"Academical",id:0===this.splitSet.length?0:this.splitSet.slice(-1).pop().id+1,splits:[],error:{text:null,isBarErrorOpen:!1,isTableErrorOpen:!1}}))}onModify(){this.periodService.validatePeriod(this.period),this.periodService.validateSplitSet(this.period),this.periodService.isError(this.period)||this.store.dispatch("create"===this.mode?new O(this.period):new M(this.period))}onCancel(){this.period.period.name||this.period.period.date_to||this.period.period.date_from||this.period.period.split_sets.length?this.isPopupShown=!0:this.goToPeriodPage()}ngOnDestroy(){this.subscription.unsubscribe()}goToPeriodPage(){this.router.navigate(["/period"])}}var On=l["\u0275crt"]({encapsulation:0,styles:[[".app-period-general-settings[_ngcontent-%COMP%]{position:relative}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings-popup[_ngcontent-%COMP%]{position:absolute;top:-120px;right:-20px;z-index:4}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__container[_ngcontent-%COMP%]{margin:0 0 20px}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__container[_ngcontent-%COMP%]   .app-period-general-settings__split-set-info[_ngcontent-%COMP%]{margin:0 0 10px;background-color:#fff}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:0;padding:20px 15px 0;background-color:#fff}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__header[_ngcontent-%COMP%]   .app-period-general-settings__header-text[_ngcontent-%COMP%]{font:800 13px/15px NunitoSans-Bold;text-transform:uppercase;margin:auto 0}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__header[_ngcontent-%COMP%]   .app-period-general-settings__header-button[_ngcontent-%COMP%]{width:165px;height:30px;font-size:12px;line-height:15px;background-color:#4350a2;color:#fff;border-radius:3px;align-items:center;vertical-align:middle}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__header[_ngcontent-%COMP%]   .app-period-general-settings__header-button[_ngcontent-%COMP%]:hover{background-color:#3a458c}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__add[_ngcontent-%COMP%]{font:10px/11px NunitoSans-Bold;color:#4350a2;cursor:pointer}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__add[_ngcontent-%COMP%]:hover{opacity:.6}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__buttons[_ngcontent-%COMP%]   .app-period-general-settings__button--cancel[_ngcontent-%COMP%]{width:80px;height:30px;box-sizing:border-box;margin:0 15px 0 0;font:800 12px/15px NunitoSans-Bold;background-color:#e5e5e5;color:#4350a2;border-radius:3px;border:1px solid #4350a2;align-items:center;vertical-align:middle}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__buttons[_ngcontent-%COMP%]   .app-period-general-settings__button--cancel[_ngcontent-%COMP%]:hover{background-color:#cacaca}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__buttons[_ngcontent-%COMP%]   .app-period-general-settings__button--create[_ngcontent-%COMP%]{width:115px;height:30px;margin:0 15px 0 0;font:800 12px/15px NunitoSans-Bold;background-color:#4350a2;color:#fff;border-radius:3px;align-items:center;vertical-align:middle}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__buttons[_ngcontent-%COMP%]   .app-period-general-settings__button--create[_ngcontent-%COMP%]:hover{background-color:#3a458c}"]],data:{}});function Mn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"button",[["class","app-period-general-settings__header-button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onAddSplit()&&l),l},null,null)),(e()(),l["\u0275ted"](-1,null,[" Create New Split Type "]))],null,null)}function xn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-general-settings__split-set"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"app-period-split-bar",[],null,null,null,tn,zt)),l["\u0275did"](2,245760,null,0,qt,[F.n,Y],{splitSetId:[0,"splitSetId"],viewId:[1,"viewId"]},null)],function(e,t){e(t,2,0,t.component.splitSet[t.context.index].id,t.context.index)},null)}function Sn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-general-settings__split-sets"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,xn)),l["\u0275did"](2,278528,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.splitSet)},null)}function wn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-general-settings__split-set-info"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"app-period-split-information",[],null,null,null,cn,rn)),l["\u0275did"](2,245760,null,0,on,[F.n,ue.f,Y],{splitSetId:[0,"splitSetId"],viewId:[1,"viewId"]},null)],function(e,t){e(t,2,0,t.component.splitSet[t.context.index].id,t.context.index)},null)}function yn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,wn)),l["\u0275did"](2,278528,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.splitSet)},null)}function Dn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"app-period-popup",[],null,[[null,"cancel"],[null,"accept"]],function(e,t,n){var l=!0,i=e.component;return"cancel"===t&&(l=0!=(i.isPopupShown=!i.isPopupShown)&&l),"accept"===t&&(l=!1!==i.goToPeriodPage()&&l),l},_,g)),l["\u0275did"](1,114688,null,0,c,[],{text:[0,"text"]},{cancel:"cancel",accept:"accept"})],function(e,t){e(t,1,0,"Are you sure you want to get out of this period? All data will be lost.")},null)}function In(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,21,"div",[["class","app-period-general-settings"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,9,"div",[["class","app-period-general-settings__container"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,4,"div",[["class","app-period-general-settings__header"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,1,"h2",[["class","app-period-general-settings__header-text"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Period Schedule"])),(e()(),l["\u0275and"](16777216,null,null,1,null,Mn)),l["\u0275did"](6,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](7,0,null,null,1,"app-period-bar",[],null,null,null,vn,_n)),l["\u0275did"](8,245760,null,0,gn,[F.n,Y],null,null),(e()(),l["\u0275and"](16777216,null,null,1,null,Sn)),l["\u0275did"](10,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](11,0,null,null,2,"div",[["class","app-period-general-settings__container"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,yn)),l["\u0275did"](13,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](14,0,null,null,4,"div",[["class","app-period-general-settings__buttons"]],null,null,null,null,null)),(e()(),l["\u0275eld"](15,0,null,null,1,"button",[["class","app-period-general-settings__button--cancel"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onCancel()&&l),l},null,null)),(e()(),l["\u0275ted"](-1,null,["Cancel"])),(e()(),l["\u0275eld"](17,0,null,null,1,"button",[["class","app-period-general-settings__button--create"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onModify()&&l),l},null,null)),(e()(),l["\u0275ted"](18,null,[" "," "])),(e()(),l["\u0275eld"](19,0,null,null,2,"div",[["class","app-period-general-settings-popup"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,Dn)),l["\u0275did"](21,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,6,0,n.splitSet),e(t,8,0),e(t,10,0,n.splitSet),e(t,13,0,n.splitSet),e(t,21,0,n.isPopupShown)},function(e,t){e(t,18,0,"create"===t.component.mode?"Create Period":"Update Period")})}class Rn{constructor(e){this.periodService=e}ngOnInit(){this.periodService.onOpenCreateNewPeriodPage()}}var En=l["\u0275crt"]({encapsulation:0,styles:[[".app-period-create[_ngcontent-%COMP%]{height:100vh;padding:30px 20px}.app-period-create[_ngcontent-%COMP%]   .app-period-create-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.app-period-create[_ngcontent-%COMP%]   .app-period-create-left-panel[_ngcontent-%COMP%]{width:320px;margin:0 20px 0 0}.app-period-create[_ngcontent-%COMP%]   .app-period-create-right-panel[_ngcontent-%COMP%]{flex-grow:1}"]],data:{}});function kn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"app-period-page-header",[],null,null,null,se,ae)),l["\u0275did"](1,245760,null,0,re,[F.n,Y,V.k],{titleHeader:[0,"titleHeader"],isBackArrowEnable:[1,"isBackArrowEnable"],link:[2,"link"]},null),(e()(),l["\u0275eld"](2,0,null,null,7,"div",[["class","app-period-create"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,6,"div",[["class","app-period-create-container"]],null,null,null,null,null)),(e()(),l["\u0275eld"](4,0,null,null,2,"div",[["class","app-period-create-left-panel"]],null,null,null,null,null)),(e()(),l["\u0275eld"](5,0,null,null,1,"app-period-duration-setting",[],null,null,null,Ce,fe)),l["\u0275did"](6,245760,null,0,he,[F.n,Y],null,null),(e()(),l["\u0275eld"](7,0,null,null,2,"div",[["class","app-period-create-right-panel"]],null,null,null,null,null)),(e()(),l["\u0275eld"](8,0,null,null,1,"app-period-general-setting",[],null,null,null,In,On)),l["\u0275did"](9,245760,null,0,Pn,[F.n,Y,V.k],{mode:[0,"mode"]},null)],function(e,t){e(t,1,0,"CREATE PERIOD",!0,"/period"),e(t,6,0),e(t,9,0,"create")},null)}function Tn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"app-period-create",[],null,null,null,kn,En)),l["\u0275did"](1,114688,null,0,Rn,[Y],null,null)],function(e,t){e(t,1,0)},null)}var Nn=l["\u0275ccf"]("app-period-create",Rn,Tn,{},{},[]);class Yn{constructor(e,t){this.store=e,this.periodService=t,this.subscription=new ee.a}ngOnInit(){this.subscription=this.periodService.getPeriodStore().subscribe(e=>{this.periodId=e.editPeriodId,this.periodData=e.periods}),this.periodId&&this.periodData&&this.periodService.onOpenEditPeriodPage(this.periodData.find(e=>e.id===this.periodId))}ngOnDestroy(){this.subscription.unsubscribe()}}var jn=l["\u0275crt"]({encapsulation:0,styles:[[".app-period-edit[_ngcontent-%COMP%]{height:100vh;padding:30px 20px}.app-period-edit[_ngcontent-%COMP%]   .app-period-edit-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.app-period-edit[_ngcontent-%COMP%]   .app-period-edit-left-panel[_ngcontent-%COMP%]{width:320px;margin:0 20px 0 0}.app-period-edit[_ngcontent-%COMP%]   .app-period-edit-right-panel[_ngcontent-%COMP%]{flex-grow:1}"]],data:{}});function Fn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"app-period-page-header",[],null,null,null,se,ae)),l["\u0275did"](1,245760,null,0,re,[F.n,Y,V.k],{titleHeader:[0,"titleHeader"],isBackArrowEnable:[1,"isBackArrowEnable"],link:[2,"link"]},null),(e()(),l["\u0275eld"](2,0,null,null,7,"div",[["class","app-period-edit"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,6,"div",[["class","app-period-edit-container"]],null,null,null,null,null)),(e()(),l["\u0275eld"](4,0,null,null,2,"div",[["class","app-period-edit-left-panel"]],null,null,null,null,null)),(e()(),l["\u0275eld"](5,0,null,null,1,"app-period-duration-setting",[],null,null,null,Ce,fe)),l["\u0275did"](6,245760,null,0,he,[F.n,Y],null,null),(e()(),l["\u0275eld"](7,0,null,null,2,"div",[["class","app-period-edit-right-panel"]],null,null,null,null,null)),(e()(),l["\u0275eld"](8,0,null,null,1,"app-period-general-setting",[],null,null,null,In,On)),l["\u0275did"](9,245760,null,0,Pn,[F.n,Y,V.k],{mode:[0,"mode"]},null)],function(e,t){e(t,1,0,"EDIT PERIOD",!0,"/period"),e(t,6,0),e(t,9,0,"update")},null)}function Vn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"app-period-edit",[],null,null,null,Fn,jn)),l["\u0275did"](1,245760,null,0,Yn,[F.n,Y],null,null)],function(e,t){e(t,1,0)},null)}var An=l["\u0275ccf"]("app-period-edit",Yn,Vn,{},{},[]),Ln=n("atuK"),$n=n("9AJC"),qn=n("G0yt"),zn=n("2uy1"),Bn=n("z/SZ"),Un=n("ienR");class Hn{}var Gn=n("8Ykh"),Kn=n("D2tp");const Zn={periods:[],period:{name:"new period",date_from:new Date,date_to:h(new Date,"DD-MM-YYYY").add(365,"days").toDate(),duration:366,split_sets:[{name:"Financial",id:1,error:{text:null,isBarErrorOpen:!1,isTableErrorOpen:!1},splits:[{name:"1 split",date_from:new Date,date_to:h(new Date,"DD-MM-YYYY").add(30,"days").toDate(),id:1,duration:31}]}]},savePeriodError:{text:null,isOpen:!1},editPeriodId:null};function Wn(e=Zn,t){switch(t.type){case C.ChangePeriod:case C.OpenCreatePeriodPage:return Object.assign({},e,{period:Object.assign({},t.payload)});case C.GetPeriodsResponse:return Object.assign({},e,{periods:t.payload});case C.AddSplitSet:return Object.assign({},e,{period:Object.assign({},e.period,{split_sets:[...e.period.split_sets,t.payload]})});case C.ChangeSplitSet:{const n=[...e.period.split_sets].map(e=>e.id===t.payload.index?t.payload.splitSet:e);return Object.assign({},e,{period:Object.assign({},e.period,{split_sets:n})})}case C.DeleteSplitSet:{const n=[...e.period.split_sets].filter(e=>e.id!==t.payload.index);return Object.assign({},e,{period:Object.assign({},e.period,{split_sets:n})})}case C.ValidatePeriod:return Object.assign({},e,{period:Object.assign({},e.period,{error:t.payload})});case C.ChangePeriodError:return Object.assign({},e,{savePeriodError:t.payload});case C.ChangeEditPeriodId:return Object.assign({},e,{editPeriodId:t.payload});default:return e}}var Xn=n("Yml6"),Jn=n("mrSG"),Qn=n("z6cu"),el=n("5+tZ"),tl=n("JIr8");let nl=(()=>{class e{constructor(e,t,n){this.actions$=e,this.periodService=t,this.router=n,this.createPeriod$=this.actions$.pipe(Object(Xn.d)(C.CreatePeriodRequest),Object(el.a)(e=>this.periodService.createPeriod(e.payload).pipe(Object(b.a)(e=>(this.router.navigate(["/period"]),new x({text:null,isOpen:!1}))),Object(tl.a)(e=>(console.log("error saving period",e),Object(Qn.a)(e),Object(ke.a)(new x({text:e.error.errors,isOpen:!0}))))))),this.updatePeriod=this.actions$.pipe(Object(Xn.d)(C.UpdateExistingPeriodRequest),Object(el.a)(e=>this.periodService.updatePeriod(e.payload).pipe(Object(b.a)(e=>(this.router.navigate(["/period"]),new x({text:null,isOpen:!1}))),Object(tl.a)(e=>(console.log("error saving period",e),Object(Qn.a)(e),Object(ke.a)(new x({text:e.error.errors,isOpen:!0}))))))),this.getPeriods$=this.actions$.pipe(Object(Xn.d)(C.GetPeriodsRequest),Object(qe.a)(()=>this.periodService.getPeriods()),Object(b.a)(e=>new w(this.periodService.convertGetPeriodResponse(e.data.periods))),Object(tl.a)(e=>(console.log("error periods request",e),Object(Qn.a)(e)))),this.deletePeriod=this.actions$.pipe(Object(Xn.d)(C.DeletePeriod),Object(el.a)(e=>this.periodService.deletePeriod(e.payload).pipe(Object(b.a)(e=>new S),Object(tl.a)(e=>(console.log("error saving period",e),Object(Qn.a)(e))))))}}return Jn.b([Object(Xn.b)(),Jn.c("design:type",Re.a)],e.prototype,"createPeriod$",void 0),Jn.b([Object(Xn.b)(),Jn.c("design:type",Re.a)],e.prototype,"updatePeriod",void 0),Jn.b([Object(Xn.b)(),Jn.c("design:type",Re.a)],e.prototype,"getPeriods$",void 0),Jn.b([Object(Xn.b)(),Jn.c("design:type",Re.a)],e.prototype,"deletePeriod",void 0),e})();n.d(t,"PeriodModuleNgFactory",function(){return ll});var ll=l["\u0275cmf"](i,[],function(e){return l["\u0275mod"]([l["\u0275mpd"](512,l.ComponentFactoryResolver,l["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,oe,Nn,An,Ln.a,Ln.b,Ln.c,$n.a,$n.b,$n.l,$n.m,$n.i,$n.j,$n.k]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["\u0275mpd"](4608,ft,ft,[r.DOCUMENT,l.NgZone,Be,_t]),l["\u0275mpd"](4608,r.NgLocalization,r.NgLocaleLocalization,[l.LOCALE_ID,[2,r["\u0275angular_packages_common_common_a"]]]),l["\u0275mpd"](4608,ue.E,ue.E,[]),l["\u0275mpd"](4608,ue.f,ue.f,[]),l["\u0275mpd"](4608,qn.E,qn.E,[l.ComponentFactoryResolver,l.Injector,qn.wb,qn.F]),l["\u0275mpd"](4608,zn.a,zn.a,[l.RendererFactory2,l.PLATFORM_ID]),l["\u0275mpd"](4608,Bn.a,Bn.a,[l.ComponentFactoryResolver,l.NgZone,l.Injector,zn.a,l.ApplicationRef]),l["\u0275mpd"](4608,Un.w,Un.w,[]),l["\u0275mpd"](4608,Un.y,Un.y,[]),l["\u0275mpd"](4608,Un.a,Un.a,[]),l["\u0275mpd"](4608,Un.e,Un.e,[]),l["\u0275mpd"](4608,Un.c,Un.c,[]),l["\u0275mpd"](4608,Un.f,Un.f,[]),l["\u0275mpd"](4608,Un.x,Un.x,[Un.y,Un.f]),l["\u0275mpd"](4608,f.a,f.a,[]),l["\u0275mpd"](1073742336,wt,wt,[]),l["\u0275mpd"](1073742336,r.CommonModule,r.CommonModule,[]),l["\u0275mpd"](1073742336,ue.D,ue.D,[]),l["\u0275mpd"](1073742336,ue.m,ue.m,[]),l["\u0275mpd"](1073742336,ue.z,ue.z,[]),l["\u0275mpd"](1073742336,V.o,V.o,[[2,V.t],[2,V.k]]),l["\u0275mpd"](1073742336,Hn,Hn,[]),l["\u0275mpd"](1073742336,Un.d,Un.d,[]),l["\u0275mpd"](1073742336,qn.c,qn.c,[]),l["\u0275mpd"](1073742336,qn.f,qn.f,[]),l["\u0275mpd"](1073742336,qn.h,qn.h,[]),l["\u0275mpd"](1073742336,qn.m,qn.m,[]),l["\u0275mpd"](1073742336,qn.n,qn.n,[]),l["\u0275mpd"](1073742336,qn.u,qn.u,[]),l["\u0275mpd"](1073742336,qn.A,qn.A,[]),l["\u0275mpd"](1073742336,qn.G,qn.G,[]),l["\u0275mpd"](1073742336,qn.K,qn.K,[]),l["\u0275mpd"](1073742336,qn.P,qn.P,[]),l["\u0275mpd"](1073742336,qn.S,qn.S,[]),l["\u0275mpd"](1073742336,qn.X,qn.X,[]),l["\u0275mpd"](1073742336,qn.cb,qn.cb,[]),l["\u0275mpd"](1073742336,qn.gb,qn.gb,[]),l["\u0275mpd"](1073742336,qn.jb,qn.jb,[]),l["\u0275mpd"](1073742336,qn.kb,qn.kb,[]),l["\u0275mpd"](1073742336,qn.H,qn.H,[]),l["\u0275mpd"](1073742336,Gn.c,Gn.c,[]),l["\u0275mpd"](1073742336,Vt.AutoSizeInputModule,Vt.AutoSizeInputModule,[]),l["\u0275mpd"](1073742336,Kn.a,Kn.a,[]),l["\u0275mpd"](131584,F.a,F.a,[]),l["\u0275mpd"](2048,F.h,null,[F.a]),l["\u0275mpd"](256,F.t,void 0,[]),l["\u0275mpd"](1024,F.d,F.y,[F.t]),l["\u0275mpd"](256,F.s,{state:Wn},[]),l["\u0275mpd"](2048,F.v,null,[F.s]),l["\u0275mpd"](1024,F.c,F.x,[l.Injector,F.s,F.v]),l["\u0275mpd"](256,F.u,F.z,[]),l["\u0275mpd"](256,F.e,[],[]),l["\u0275mpd"](1024,F.f,F.C,[F.u,F.e]),l["\u0275mpd"](131584,F.g,F.g,[F.h,F.d,F.c,F.f]),l["\u0275mpd"](2048,F.i,null,[F.g]),l["\u0275mpd"](131584,F.k,F.k,[]),l["\u0275mpd"](131584,F.l,F.l,[F.a,F.i,F.k,F.d]),l["\u0275mpd"](2048,F.m,null,[F.l]),l["\u0275mpd"](512,F.n,F.n,[F.m,F.a,F.g]),l["\u0275mpd"](1073742336,F.p,F.p,[F.a,F.i,F.k,F.n]),l["\u0275mpd"](512,Xn.c,Xn.c,[l.ErrorHandler,F.n]),l["\u0275mpd"](131584,Xn.j,Xn.j,[Xn.c,F.n]),l["\u0275mpd"](512,Xn.a,Xn.a,[F.k]),l["\u0275mpd"](512,Y,Y,[F.n,m.c]),l["\u0275mpd"](512,nl,nl,[Xn.a,Y,V.k]),l["\u0275mpd"](1024,Xn.h,Xn.e,[nl]),l["\u0275mpd"](1073742336,Xn.f,Xn.f,[Xn.c,Xn.j,F.n,Xn.h,[2,F.p],[2,F.o]]),l["\u0275mpd"](1073742336,i,i,[]),l["\u0275mpd"](1024,V.i,function(){return[[{path:"",component:te},{path:"create",component:Rn},{path:"edit",component:Yn}]]},[]),l["\u0275mpd"](256,Gn.d,Gn.e,[])])})},"Io+N":function(e,t,n){"use strict";var l=n("8Y7J"),i=n("SVse"),o=n("s7LF");n("H54p"),n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a});var r=l["\u0275crt"]({encapsulation:0,styles:[[".app-search-field[_ngcontent-%COMP%]{border:none;border-radius:0;color:#151515;padding:0;height:26px;background:#fff;width:auto;position:relative}.app-search-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #b6b6b6;border-radius:3px;width:100%;min-height:26px;padding:0 30px 0 10px;font-size:12px}.app-search-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.app-search-field[_ngcontent-%COMP%]   .app-search-field-icon[_ngcontent-%COMP%]{background:url(icon-search.58516c3e4430fd49d804.svg) center/16px no-repeat;width:18px;height:18px;position:absolute;top:5px;right:8px}.app-search-field.app-search-field-has-error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-color:#e65757}.app-search-field.app-search-field-gray[_ngcontent-%COMP%]{height:30px}.app-search-field.app-search-field-gray[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-color:#f2f2f2;background:#f2f2f2;min-height:30px}.app-search-field.app-search-field-gray[_ngcontent-%COMP%]   .app-search-field-icon[_ngcontent-%COMP%]{top:6px}"]],data:{}});function a(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,13,"div",[["class","app-search-field"]],null,null,null,null,null)),l["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["\u0275did"](2,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](3,{"app-search-field-has-error":0,"app-search-field-gray":1}),(e()(),l["\u0275eld"](4,0,null,null,8,"input",[["class","form-control"],["type","search"]],[[8,"placeholder",0],[8,"id",0],[8,"value",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==l["\u0275nov"](e,8)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l["\u0275nov"](e,8).onTouched()&&i),"compositionstart"===t&&(i=!1!==l["\u0275nov"](e,8)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l["\u0275nov"](e,8)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(o.value=n)&&i),"input"===t&&(i=!1!==o.onChange(n.target.value)&&i),"blur"===t&&(i=!1!==o.onTouched()&&i),i},null,null)),l["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["\u0275did"](6,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](7,{"app-search-field__value":0}),l["\u0275did"](8,16384,null,0,o.d,[l.Renderer2,l.ElementRef,[2,o.a]],null,null),l["\u0275prd"](1024,null,o.p,function(e){return[e]},[o.d]),l["\u0275did"](10,671744,null,0,o.u,[[8,null],[8,null],[8,null],[6,o.p]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,o.q,null,[o.u]),l["\u0275did"](12,16384,null,0,o.r,[[4,o.q]],null,null),(e()(),l["\u0275eld"](13,0,null,null,0,"div",[["class","app-search-field-icon"]],null,null,null,null,null))],function(e,t){var n=t.component,l=e(t,3,0,n.isInvalid,"gray"===n.type);e(t,2,0,"app-search-field",l);var i=e(t,7,0,n.value);e(t,6,0,"form-control",i),e(t,10,0,n.disabled,n.value)},function(e,t){var n=t.component;e(t,4,0,n.placeholder,n.id,n.value,l["\u0275nov"](t,12).ngClassUntouched,l["\u0275nov"](t,12).ngClassTouched,l["\u0275nov"](t,12).ngClassPristine,l["\u0275nov"](t,12).ngClassDirty,l["\u0275nov"](t,12).ngClassValid,l["\u0275nov"](t,12).ngClassInvalid,l["\u0275nov"](t,12).ngClassPending)})}},tXiM:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var l=function(e){return e.DESC="DESC",e.ASC="ASC",e}({})}}]);