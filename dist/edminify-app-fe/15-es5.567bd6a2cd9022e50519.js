(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{H54p:function(n,t,e){"use strict";e.d(t,"a",function(){return l});var l=function(){function n(n){this.ngControl=n,this.isInvalid=!1,this.placeholder="",this.value="",this.ngControl&&(this.ngControl.valueAccessor=this)}return n.prototype.ngOnInit=function(){},n.prototype.writeValue=function(n){this.value=n},n.prototype.setDisabledState=function(n){this.disabled=n},n.prototype.registerOnChange=function(n){this.onChange=n},n.prototype.registerOnTouched=function(n){this.onTouched=n},n.prototype.onChange=function(n){return n},n.prototype.onTouched=function(){},n}()},IhLC:function(n,t,e){"use strict";e.r(t);var l=e("CcnG"),i=function(){return function(){}}(),o=e("pMnS"),r=e("Ip0R"),p=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),a=l["\u0275crt"]({encapsulation:0,styles:[[".app-bordered-label[_ngcontent-%COMP%]{padding:3px 12px;margin:0 0 5px;border-radius:15px;font:800 10px/13px NunitoSans-Bold}"]],data:{}});function d(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,4,"div",[["class","app-bordered-label"]],null,null,null,null,null)),l["\u0275prd"](512,null,r["\u0275NgStyleImpl"],r["\u0275NgStyleR2Impl"],[l.ElementRef,l.KeyValueDiffers,l.Renderer2]),l["\u0275did"](2,278528,null,0,r.NgStyle,[r["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](3,{border:0,color:1}),(n()(),l["\u0275ted"](4,null,[" ","\n"]))],function(n,t){var e=t.component,l=n(t,3,0,"1px solid "+e.color,e.color);n(t,2,0,l)},function(n,t){n(t,4,0,t.component.label)})}var s=e("JGVx"),u=e("DBKO"),c=function(){function n(){this.text="",this.cancel=new l.EventEmitter,this.accept=new l.EventEmitter}return n.prototype.ngOnInit=function(){window.scroll(0,0)},n.prototype.onCancel=function(){this.cancel.emit()},n.prototype.onAccept=function(){this.accept.emit()},n}(),g=l["\u0275crt"]({encapsulation:0,styles:[[".app-period-popup[_ngcontent-%COMP%]{position:relative;width:100vw;height:100vw;padding:200px 0;background-color:rgba(0,0,0,.85)}.app-period-popup[_ngcontent-%COMP%]   .app-period-popup__container[_ngcontent-%COMP%]{display:flex;width:340px;height:115px;margin:0 auto;padding:0 0 15px 15px;border-radius:3px;background-color:#fff}.app-period-popup[_ngcontent-%COMP%]   .app-period-popup__container[_ngcontent-%COMP%]   .app-period-popup__content[_ngcontent-%COMP%]{width:290px;padding:15px 0 0;text-align:center}.app-period-popup[_ngcontent-%COMP%]   .app-period-popup__container[_ngcontent-%COMP%]   .app-period-popup__buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:150px;margin:0 0 0 95px}.app-period-popup[_ngcontent-%COMP%]   .app-period-popup__container[_ngcontent-%COMP%]   .app-period-popup__buttons[_ngcontent-%COMP%]   .app-period-popup__button[_ngcontent-%COMP%]{margin:0 15px 0 0;font:800 12px/15px NunitoSans-Bold;border-radius:3px;border:1px solid #4350a2;align-items:center;vertical-align:middle}.app-period-popup[_ngcontent-%COMP%]   .app-period-popup__container[_ngcontent-%COMP%]   .app-period-popup__buttons[_ngcontent-%COMP%]   .app-period-popup__button--cancel[_ngcontent-%COMP%]{width:80px;height:30px;box-sizing:border-box;background-color:#e5e5e5;color:#4350a2}.app-period-popup[_ngcontent-%COMP%]   .app-period-popup__container[_ngcontent-%COMP%]   .app-period-popup__buttons[_ngcontent-%COMP%]   .app-period-popup__button--cancel[_ngcontent-%COMP%]:hover{background-color:#cacaca}.app-period-popup[_ngcontent-%COMP%]   .app-period-popup__container[_ngcontent-%COMP%]   .app-period-popup__buttons[_ngcontent-%COMP%]   .app-period-popup__button--ok[_ngcontent-%COMP%]{width:50px;height:30px;background-color:#4350a2;color:#fff}.app-period-popup[_ngcontent-%COMP%]   .app-period-popup__container[_ngcontent-%COMP%]   .app-period-popup__buttons[_ngcontent-%COMP%]   .app-period-popup__button--ok[_ngcontent-%COMP%]:hover{background-color:#3a458c}.app-period-popup[_ngcontent-%COMP%]   .app-period-popup__container[_ngcontent-%COMP%]   .app-period-popup__cross[_ngcontent-%COMP%]{margin:5px 0 0 15px}.app-period-popup[_ngcontent-%COMP%]   .app-period-popup__container[_ngcontent-%COMP%]   .app-period-popup__cross[_ngcontent-%COMP%]:hover{cursor:pointer}"]],data:{}});function _(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,11,"div",[["class","app-period-popup"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onCancel()&&l),l},null,null)),(n()(),l["\u0275eld"](1,0,null,null,10,"div",[["class","app-period-popup__container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,7,"div",[["class","app-period-popup__content"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,1,"p",[["class","app-period-popup__text"]],null,null,null,null,null)),(n()(),l["\u0275ted"](4,null,[" "," "])),(n()(),l["\u0275eld"](5,0,null,null,4,"div",[["class","app-period-popup__buttons"]],null,null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,1,"button",[["class","app-period-popup__button app-period-popup__button--cancel"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onCancel()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["Cancel "])),(n()(),l["\u0275eld"](8,0,null,null,1,"button",[["class","app-period-popup__button app-period-popup__button--ok"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onAccept()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["Ok "])),(n()(),l["\u0275eld"](10,0,null,null,1,"div",[["class","app-period-popup__cross"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onCancel()&&l),l},null,null)),(n()(),l["\u0275eld"](11,0,null,null,0,"i",[["class","fa fa-times app-period-popup--ico"]],null,null,null,null,null))],null,function(n,t){n(t,4,0,t.component.text)})}var f=e("wd/R"),h=e("CEuH"),m=e("t/Na"),b=e("67Y/"),v=function(n){return n.AddPeriod="[Period] Add Period",n.ChangePeriod="[Period] Change Period",n.OpenCreatePeriodPage="[Period] Open Create Period Page",n.CreatePeriodRequest="[Period] Create Period Request",n.ChangePeriodError="[Period] Change Period Error",n.GetPeriodsRequest="[Period] Get Periods Request",n.GetPeriodsResponse="[Period] Get Periods Response",n.AddSplitSet="[Period] Add split Set",n.ValidatePeriod="[Period] Validate period",n.ChangeSplitSet="[Period] Change split",n.DeleteSplitSet="[Period] Delete split",n.ChangeEditPeriodId="[Period] Edit Period",n.DeletePeriod="[Period] Delete period",n.UpdateExistingPeriodRequest="[Period] Update existing period",n}({}),C=function(){return function(n){this.payload=n,this.type=v.OpenCreatePeriodPage}}(),P=function(){return function(n){this.payload=n,this.type=v.ChangePeriod}}(),O=function(){return function(n){this.payload=n,this.type=v.CreatePeriodRequest}}(),M=function(){return function(n){this.payload=n,this.type=v.UpdateExistingPeriodRequest}}(),y=function(){return function(n){this.payload=n,this.type=v.ChangePeriodError}}(),x=function(){return function(){this.type=v.GetPeriodsRequest}}(),S=function(){return function(n){this.payload=n,this.type=v.GetPeriodsResponse}}(),w=function(){return function(n){this.payload=n,this.type=v.ValidatePeriod}}(),D=function(){return function(n){this.payload=n,this.type=v.AddSplitSet}}(),I=function(){return function(n){this.payload=n,this.type=v.ChangeSplitSet}}(),R=function(){return function(n){this.payload=n,this.type=v.DeleteSplitSet}}(),E=function(){return function(n){this.payload=n,this.type=v.ChangeEditPeriodId}}(),k="http://fin.red.dev.codeblue.ventures/api/v1",T={headers:new m.i({"Content-Type":"application/json",Authorization:"Bearer 123"})},N=["#CD690E","#1AA6D2","#6A23DD","#DB2869","#2AAF5F","#1E68D7"],Y=function(){function n(n,t){this.store=n,this.http=t,this.periodStore=n.select("state")}return n.getSplitTypeColor=function(n){return n>5?N[n-6*Math.floor(n/6)]:N[n]},n.getDuration=function(n,t){return f(t).diff(f(n),"days")},n.prototype.setSplitName=function(n,t,e){n&&(n.splits.map(function(n){n.id===e&&(n.name=t)}),this.updateSplitSet(n))},n.prototype.getPeriodStore=function(){return this.periodStore},n.prototype.onOpenCreateNewPeriodPage=function(){this.store.dispatch(new C({name:"new period",date_from:new Date,date_to:f(new Date,"DD-MM-YYYY").add(365,"days").toDate(),duration:366,split_sets:[{name:"Financial",id:1,error:{text:null,isBarErrorOpen:!1,isTableErrorOpen:!1},splits:[{name:"1 split",date_from:new Date,date_to:f(new Date,"DD-MM-YYYY").add(30,"days").toDate(),id:1,duration:31}]}]})),this.store.dispatch(new y({text:null,isOpen:!1}))},n.prototype.onOpenEditPeriodPage=function(n){this.store.dispatch(new C({name:n.name,date_from:n.date_from,date_to:n.date_to,duration:n.duration,id:n.id,split_sets:n.split_sets})),this.store.dispatch(new y({text:null,isOpen:!1}))},n.prototype.createSplit=function(n){var t=n.splits&&n.splits.length?n.splits.slice(-1).pop().id:0;if(n.splits&&n.splits.length){var e=f(n.splits.slice(-1).pop().date_to,"DD-MM-YYYY").add(1,"days").toDate();n.splits.push({name:t+1+" split",date_from:e,date_to:f(e,"DD-MM-YYYY").add(31,"days").toDate(),id:t+1,duration:31})}else n.splits.push({name:t+1+" split",date_from:new Date,date_to:f(new Date,"DD-MM-YYYY").add(31,"days").toDate(),id:t+1,duration:31});this.updateSplitSet(n)},n.prototype.changeSplitDate=function(n,t,e,l){var i=n.splits.indexOf(n.splits.find(function(n){return n.id===e})),o=t.duration,r=f(t.date_to).diff(f(t.date_from),"days")+1;if(r>7){if(n.splits[i]={name:t.name,date_from:t.date_from,date_to:t.date_to,id:t.id,duration:r},"dateFrom"===l&&n.splits[i-1]){var p=n.splits[i-1];n.splits[i-1]={name:p.name,date_from:p.date_from,date_to:f(t.date_from,"DD-MM-YYYY").subtract(1,"days").toDate(),id:p.id,duration:p.duration-(r-o)}}else if("dateTo"===l&&n.splits[i+1]){var a=n.splits[i+1];n.splits[i+1]={name:a.name,date_from:f(t.date_to,"DD-MM-YYYY").add(1,"days").toDate(),date_to:a.date_to,id:a.id,duration:a.duration-(r-o)}}this.updateSplitSet(n)}},n.prototype.changeSplitDuration=function(n,t){var e=n.splits.indexOf(n.splits.find(function(n){return n.id===t})),l=n.splits[e],i=f(l.date_from,"DD-MM-YYYY").add(l.duration,"days").toDate();l.duration>5&&(void 0===n.splits[e+1]?n.splits[e].date_to=i:(n.splits[e].date_to=i,n.splits.map(function(t){if(n.splits.indexOf(t)>e){var l=n.splits[n.splits.indexOf(t)-1];t.date_from=f(l.date_to,"DD-MM-YYYY").add(1,"days").toDate(),t.date_to=f(t.date_from,"DD-MM-YYYY").add(t.duration,"days").toDate()}}))),this.updateSplitSet(n)},n.prototype.deleteSplit=function(n,t){var e=n.splits.indexOf(n.splits.find(function(n){return n.id===t}));n.splits[e+1]&&(n.splits[e+1].date_from=n.splits[e].date_from,n.splits[e+1].duration+=n.splits[e].duration),n.splits.splice(e,1),this.updateSplitSet(n)},n.prototype.updateSplitSet=function(n){this.store.dispatch(new I({index:n.id,splitSet:n}))},n.prototype.createPeriod=function(n){this.store.dispatch(new y({text:null,isOpen:!1}));var t=this.convertPeriodDataForRequest(n);return this.http.post(k+"/periods",t,T).pipe(Object(b.a)(function(n){return n}))},n.prototype.updatePeriod=function(n){this.store.dispatch(new y({text:null,isOpen:!1}));var t=this.convertPeriodDataForRequest(n);return this.http.put(k+"/periods/"+n.period.id,t,T).pipe(Object(b.a)(function(n){return n}))},n.prototype.convertPeriodDataForRequest=function(n){var t=[];return n.period.split_sets&&n.period.split_sets.map(function(n){var e=[];n.splits.map(function(n){e.push({name:n.name,date_from:f(n.date_from).format("YYYY-MM-DD"),date_to:f(n.date_to).format("YYYY-MM-DD")})}),t.push({name:n.name,splits:e})}),{name:n.period.name,date_from:f(n.period.date_from).format("YYYY-MM-DD"),date_to:f(n.period.date_to).format("YYYY-MM-DD"),split_sets:t}},n.prototype.getPeriods=function(){return this.http.get(k+"/periods",T).pipe(Object(b.a)(function(n){return n}))},n.prototype.deletePeriod=function(n){return this.http.delete(k+"/periods/"+n,T).pipe(Object(b.a)(function(n){return n}))},n.prototype.validatePeriod=function(n){var t=[];n.period.name||t.push("Period name is required"),n.period.date_from||t.push("Period start date is required"),n.period.date_to||t.push("Period end date is required"),this.store.dispatch(new w(t))},n.prototype.validateSplitSet=function(n){var t=this;n.period.split_sets.map(function(n){var e=[];n.splits?n.splits.map(function(n){n.name||e.push("Split name is required"),n.date_from||e.push("Split date is required"),n.date_to||e.push("Split date is required"),n.duration||e.push("Split duration is required")}):n.splits.length&&e.push("Split is required"),n.error={text:e,isBarErrorOpen:!0,isTableErrorOpen:!0},t.updateSplitSet(n)})},n.prototype.isError=function(n){var t=!1;return n.period.split_sets.map(function(n){n.error&&n.error.text&&n.error.text.length&&(t=!0)}),t},n.prototype.convertGetPeriodResponseToTableData=function(t){var e=[];return t.map(function(l){var i=[],o=[];l.split_sets.map(function(t){var e=null;t.splits&&t.splits.length&&(e=t.splits.length,t.splits.map(function(i){i.type={name:t.name+" "+e,color:n.getSplitTypeColor(l.split_sets.indexOf(t))}})),i.push({name:t.name,splits:t.splits,id:t.id,period_id:l.id,isViewed:!1,type:{name:t.name+" "+e,color:n.getSplitTypeColor(l.split_sets.indexOf(t))},dataTableType:"split_set"}),o.push({name:t.name+" "+e,color:n.getSplitTypeColor(l.split_sets.indexOf(t))})});var r={name:l.name,date_from:l.date_from,date_to:l.date_to,dataTableType:"period",period_id:l.id,open:!1,type:o,bkgColor:t.indexOf(l)%2==0?"#FFFFFF":"#FAFAFA",sortingSplitSetParams:{name:null,order:null}};e.push(r),e.push({dataTableType:"split_set",splitSets:i,open:!1,period_id:l.id,isAllSelected:!0,selectedSplitSetId:null})}),e},n.prototype.convertGetPeriodResponse=function(t){return t.map(function(t){t.date_to=new Date(t.date_to),t.date_from=new Date(t.date_from),t.duration=n.getDuration(t.date_from,t.date_to),t.split_sets.map(function(t){t.splits.map(function(t){t.date_to=new Date(t.date_to),t.date_from=new Date(t.date_from),t.duration=n.getDuration(t.date_from,t.date_to)})})}),t},n}(),F=function(){function n(n,t,e,l){this.store=n,this.periodService=t,this.router=e,this.sortService=l,this.isPopupShown=!1,this.periodsData=[],this.purePeriodData=[],this.periodTableColumns=[{id:"name",title:"NAME",sort:!0,search:!0,width:"20%"},{id:"date_from",title:"PERIOD START",sort:!0,dateSearch:!0,width:"8%"},{id:"duration",title:"DURATION",sort:!0,search:!0,width:"8%"},{id:"date_to",title:"PERIOD END",sort:!0,dateSearch:!0,width:"8%"},{id:"type",title:"SPLIT TYPES",search:!0,width:"26%"},{width:"27%"},{width:"3%"}],this.splitsTableColumns=[{id:"name",title:"SPLITS",sort:!0,width:"22%"},{id:"date_from",title:"SPLIT START",sort:!0,width:"9%"},{id:"duration",title:"DURATION",sort:!0,width:"9%"},{id:"date_to",title:"SPLIT END",sort:!0,width:"9%"},{id:"type",title:"SPLIT TYPES",width:"51%",sort:!0}]}return n.prototype.ngOnInit=function(){this.periodsData=this.periodService.convertGetPeriodResponseToTableData(this.periods)},n.prototype.ngOnChanges=function(){this.periodsData=this.periodService.convertGetPeriodResponseToTableData(this.periods),this.purePeriodData=this.periodsData},n.prototype.onOpenRow=function(n){this.periodsData.map(function(t){t.open=t.period_id===n&&!t.open})},n.prototype.selectAll=function(n){this.periodsData.map(function(t){t.period_id===n&&(t.isAllSelected=!0,t.selectedSplitSetId=null,t.sortingSplitSetParams=null)})},n.prototype.selectSplitSet=function(n,t){this.periodsData.map(function(e){e.period_id===t&&(e.isAllSelected=!1,e.selectedSplitSetId=n,e.sortingSplitSetParams=null)})},n.prototype.getSplits=function(n){var t=[];return this.periodsData.map(function(e){e.period_id===n&&"split_set"===e.dataTableType&&(e.splitSets.map(e.isAllSelected?function(n){t=t&&t.length?t.concat(n.splits):n.splits}:function(n){n.id===e.selectedSplitSetId&&(console.log("select",n),t=n.splits)}),e.sortingSplitSetParams&&e.sortingSplitSetParams.order&&e.sortingSplitSetParams.name&&("DESC"===e.sortingSplitSetParams.order?t.sort(function(n,t){return"name"===e.sortingSplitSetParams.name?h.a.nameDescCompare(n,t):"type"===e.sortingSplitSetParams.name?n[e.sortingSplitSetParams.name].name>t[e.sortingSplitSetParams.name].name?1:-1:n[e.sortingSplitSetParams.name]>t[e.sortingSplitSetParams.name]?1:-1}):"ASC"===e.sortingSplitSetParams.order&&t.sort(function(n,t){return"name"===e.sortingSplitSetParams.name?h.a.nameAscCompare(n,t):"type"===e.sortingSplitSetParams.name?n[e.sortingSplitSetParams.name].name<t[e.sortingSplitSetParams.name].name?1:-1:n[e.sortingSplitSetParams.name]<t[e.sortingSplitSetParams.name]?1:-1})))}),t},n.prototype.onSortSplitSet=function(n,t){this.periodsData.map(function(e){e.period_id===t&&(e.sortingSplitSetParams={name:n.id,order:n.order})})},n.prototype.onSortPeriods=function(n){this.periodsData=this.sortService.getComplexSort(this.periodsData,n,"period","dataTableType","period_id")},n.prototype.pushItemToFilterValue=function(n,t){return n.push(t),n.push(this.purePeriodData[this.purePeriodData.indexOf(t)+1]),n},n.prototype.onSearchPeriod=function(n){var t=this,e=[];n.value?this.purePeriodData.map(function(l){"name"===n.name&&"period"===l.dataTableType&&l[n.name].toLowerCase().includes(n.value.toLowerCase())?t.pushItemToFilterValue(e,l):"duration"===n.name&&"period"===l.dataTableType&&parseInt(l[n.name],10)===parseInt(n.value,10)?t.pushItemToFilterValue(e,l):"date_from"!==n.name&&"date_to"!==n.name||"period"!==l.dataTableType||!f(f(l[n.name])).isSame(f(n.value),"day")?"type"===n.name&&"period"===l.dataTableType&&l.type.map(function(i){i.name.toLowerCase().includes(n.value.toLowerCase())&&t.pushItemToFilterValue(e,l)}):t.pushItemToFilterValue(e,l)}):e=this.purePeriodData,this.periodsData=e},n.prototype.onEditPeriod=function(n){this.store.dispatch(new E(n)),this.router.navigate(["/period/edit"])},n.prototype.onDeletePeriod=function(){console.log("delete")},n}(),j=e("yGQT"),V=e("ZYCi"),A=l["\u0275crt"]({encapsulation:0,styles:[[".app-period-table[_ngcontent-%COMP%]{position:relative}.app-period-table[_ngcontent-%COMP%]   .app-period-table__popup[_ngcontent-%COMP%]{position:absolute;top:-160px;right:-20px;z-index:4}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]{padding:0 0 0 10px;border-bottom:1px solid #e7e7e7}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__cell[_ngcontent-%COMP%]{padding:15px 0 15px 5px}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__cell[_ngcontent-%COMP%]   .app-period-table__cell--types[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__cell[_ngcontent-%COMP%]   .app-period-table__cell--types[_ngcontent-%COMP%]   .app-period-table__cell--type[_ngcontent-%COMP%]{margin:0 5px 0 0}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__cell.app-period-table__cell--name[_ngcontent-%COMP%]{font-weight:800}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__cell.app-period-table__cell--controls[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:15px 10px 15px 5px}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__cell.app-period-table__cell--arrow[_ngcontent-%COMP%]{position:relative;padding:0;border-left:1px solid #cacaca}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__cell.app-period-table__cell--arrow[_ngcontent-%COMP%]   .app-period-table__arrow--ico[_ngcontent-%COMP%]{position:absolute;top:37%;left:30%;color:gray;font-size:20px}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__cell.app-period-table__cell--arrow[_ngcontent-%COMP%]   .app-period-table__arrow--ico--selected[_ngcontent-%COMP%]{position:absolute;top:25%;left:30%;color:#4350a2}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__cell.app-period-table__cell--arrow[_ngcontent-%COMP%]   .app-period-table__arrow--ico[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__cell[_ngcontent-%COMP%]   .app-period-table__button[_ngcontent-%COMP%]{display:flex;width:49px;height:16px;margin:auto 13px auto 0;padding:0 8px 0 3px;border-radius:3px;color:#fff;background-color:#4350a2;vertical-align:center}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__cell[_ngcontent-%COMP%]   .app-period-table__button[_ngcontent-%COMP%]   .app-period-table__button--pen[_ngcontent-%COMP%]{margin:2px 4px 0 3px;font-size:8px}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__cell[_ngcontent-%COMP%]   .app-period-table__button[_ngcontent-%COMP%]   .app-period-table__button--label[_ngcontent-%COMP%]{margin:0;font:800 10px/15px NunitoSans-Bold}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__cell[_ngcontent-%COMP%]   .app-period-table__button[_ngcontent-%COMP%]:hover{background-color:#3a458c}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__cell[_ngcontent-%COMP%]   .app-period-table__trash[_ngcontent-%COMP%]{border:none;background-color:transparent}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__cell[_ngcontent-%COMP%]   .app-period-table__trash[_ngcontent-%COMP%]   .app-period-table__trash-ico[_ngcontent-%COMP%]{color:gray}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__cell[_ngcontent-%COMP%]   .app-period-table__trash[_ngcontent-%COMP%]   .app-period-table__trash-ico[_ngcontent-%COMP%]:hover{opacity:.7}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period__table__split_set[_ngcontent-%COMP%]{padding:10px 15px;background-color:#f3f3f3}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period__table__split_set[_ngcontent-%COMP%]   .app-period__table__split_set--header[_ngcontent-%COMP%]{margin:0 0 10px;font:800 11px/15px NunitoSans-Bold;text-transform:uppercase}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period__table__split_set[_ngcontent-%COMP%]   .app-period__table__split_set--list[_ngcontent-%COMP%]{display:flex;margin:0 0 5px;padding:0;list-style:none}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period__table__split_set[_ngcontent-%COMP%]   .app-period__table__split_set--list[_ngcontent-%COMP%]   .app-period__table__split_set--item[_ngcontent-%COMP%]{margin:0 20px 0 0;color:#909090}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period__table__split_set[_ngcontent-%COMP%]   .app-period__table__split_set--list[_ngcontent-%COMP%]   .app-period__table__split_set--item.app-period__table__split_set--selected-item[_ngcontent-%COMP%]{color:#4350a2;text-decoration:underline}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period__table__split_set[_ngcontent-%COMP%]   .app-period__table__split_set--list[_ngcontent-%COMP%]   .app-period__table__split_set--item[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__split-table[_ngcontent-%COMP%]{width:100%}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__split-table[_ngcontent-%COMP%]   .app-period__split-row[_ngcontent-%COMP%]{background-color:#fff;padding:0 0 0 10px;border-bottom:1px solid #e7e7e7}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__split-table[_ngcontent-%COMP%]   .app-period__split-row[_ngcontent-%COMP%]   .app-period-table__split-cell[_ngcontent-%COMP%]{padding:10px 0 10px 5px}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__split-table[_ngcontent-%COMP%]   .app-period__split-row[_ngcontent-%COMP%]   .app-period-table__split-cell--name[_ngcontent-%COMP%]{font-weight:800}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__split-table[_ngcontent-%COMP%]   .app-period__split-row[_ngcontent-%COMP%]   .app-period-table__split--types[_ngcontent-%COMP%]{display:flex}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__split-table[_ngcontent-%COMP%]   .app-period-table__all-split-table[_ngcontent-%COMP%]{width:100%;margin:0 0 5px}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__split-table[_ngcontent-%COMP%]   .app-period-table__all-split-table[_ngcontent-%COMP%]   .app-period-table__all-split-table--row[_ngcontent-%COMP%]{background-color:#fff;padding:0 0 0 10px;border-bottom:1px solid #e7e7e7}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__split-table[_ngcontent-%COMP%]   .app-period-table__all-split-table[_ngcontent-%COMP%]   .app-period-table__all-split-table--row[_ngcontent-%COMP%]   .app-period-table__all-split-table--cel-name[_ngcontent-%COMP%]{width:22%;padding:10px 0 10px 5px;font-weight:800}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__split-table[_ngcontent-%COMP%]   .app-period-table__all-split-table[_ngcontent-%COMP%]   .app-period-table__all-split-table--row[_ngcontent-%COMP%]   .app-period-table__all-split-table--cel-date[_ngcontent-%COMP%], .app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__split-table[_ngcontent-%COMP%]   .app-period-table__all-split-table[_ngcontent-%COMP%]   .app-period-table__all-split-table--row[_ngcontent-%COMP%]   .app-period-table__all-split-table--cel-duration[_ngcontent-%COMP%]{width:9%;padding:10px 0 10px 5px}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period-table__row[_ngcontent-%COMP%]   .app-period-table__split-table[_ngcontent-%COMP%]   .app-period-table__all-split-table[_ngcontent-%COMP%]   .app-period-table__all-split-table--row[_ngcontent-%COMP%]   .app-period-table__all-split-table--cel-types[_ngcontent-%COMP%]{display:flex;padding:10px 0 10px 5px}.app-period-table[_ngcontent-%COMP%]   .app-period-table__table[_ngcontent-%COMP%]   .app-period__table--split-set[_ngcontent-%COMP%]{width:100%}"]],data:{}});function L(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"td",[["class","app-period-table__cell app-period-table__cell--name"]],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,[" "," "]))],null,function(n,t){n(t,1,0,t.parent.context.$implicit.name)})}function q(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"td",[["class","app-period-table__cell"]],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,[" "," "])),l["\u0275ppd"](2,2)],null,function(n,t){var e=l["\u0275unv"](t,1,0,n(t,2,0,l["\u0275nov"](t.parent.parent,0),t.parent.context.$implicit.date_from,"MM/dd/yyyy"));n(t,1,0,e)})}function $(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"td",[["class","app-period-table__cell"]],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,[" "," "]))],null,function(n,t){n(t,1,0,t.parent.context.$implicit.duration)})}function z(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"td",[["class","app-period-table__cell"]],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,[" "," "])),l["\u0275ppd"](2,2)],null,function(n,t){var e=l["\u0275unv"](t,1,0,n(t,2,0,l["\u0275nov"](t.parent.parent,0),t.parent.context.$implicit.date_to,"MM/dd/yyyy"));n(t,1,0,e)})}function B(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"app-bordered-label",[["class","app-period-table__cell--type"]],null,null,null,d,a)),l["\u0275did"](1,114688,null,0,p,[],{label:[0,"label"],color:[1,"color"]},null)],function(n,t){n(t,1,0,t.context.$implicit.name,t.context.$implicit.color)},null)}function U(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"td",[["class","app-period-table__cell"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"div",[["class","app-period-table__cell--types"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,B)),l["\u0275did"](3,278528,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,3,0,t.parent.context.$implicit.type)},null)}function H(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,6,"td",[["class","app-period-table__cell app-period-table__cell--controls"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,3,"button",[["class","app-period-table__button"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onEditPeriod(n.parent.context.$implicit.period_id)&&l),l},null,null)),(n()(),l["\u0275eld"](2,0,null,null,0,"i",[["class","fas fa-pen app-period-table__button--pen"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,1,"span",[["class","app-period-table__button--label"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Edit"])),(n()(),l["\u0275eld"](5,0,null,null,1,"button",[["class","app-period-table__trash"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=0!=(n.component.isPopupShown=!0)&&l),l},null,null)),(n()(),l["\u0275eld"](6,0,null,null,0,"i",[["class","fas fa-trash app-period-table__trash-ico"]],null,null,null,null,null))],null,null)}function G(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,4,"td",[["class","app-period-table__cell app-period-table__cell--arrow"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,3,"i",[["class","fas app-period-table__arrow--ico"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onOpenRow(n.parent.context.$implicit.period_id)&&l),l},null,null)),l["\u0275prd"](512,null,r["\u0275NgClassImpl"],r["\u0275NgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["\u0275did"](3,278528,null,0,r.NgClass,[r["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](4,{"fa-sort-down app-period-table__arrow--ico--selected":0,"fa-sort-up":1})],function(n,t){var e=n(t,4,0,t.parent.context.$implicit.open,!t.parent.context.$implicit.open);n(t,3,0,"fas app-period-table__arrow--ico",e)},null)}function K(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,4,"li",[["class","app-period__table__split_set--item"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.selectSplitSet(n.context.$implicit.id,n.parent.parent.context.$implicit.period_id)&&l),l},null,null)),l["\u0275prd"](512,null,r["\u0275NgClassImpl"],r["\u0275NgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["\u0275did"](2,278528,null,0,r.NgClass,[r["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](3,{"app-period__table__split_set--selected-item":0}),(n()(),l["\u0275ted"](4,null,[" "," "]))],function(n,t){var e=n(t,3,0,t.parent.parent.context.$implicit.selectedSplitSetId===t.context.$implicit.id);n(t,2,0,"app-period__table__split_set--item",e)},function(n,t){n(t,4,0,t.context.$implicit.name)})}function Z(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,14,"tr",[["class","app-period__split-row"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"td",[["class","app-period-table__split-cell app-period-table__split-cell--name"]],null,null,null,null,null)),(n()(),l["\u0275ted"](2,null,["",""])),(n()(),l["\u0275eld"](3,0,null,null,2,"td",[["class","app-period-table__split-cell"]],null,null,null,null,null)),(n()(),l["\u0275ted"](4,null,["",""])),l["\u0275ppd"](5,2),(n()(),l["\u0275eld"](6,0,null,null,1,"td",[["class","app-period-table__split-cell"]],null,null,null,null,null)),(n()(),l["\u0275ted"](7,null,["",""])),(n()(),l["\u0275eld"](8,0,null,null,2,"td",[["class","app-period-table__split-cell"]],null,null,null,null,null)),(n()(),l["\u0275ted"](9,null,["",""])),l["\u0275ppd"](10,2),(n()(),l["\u0275eld"](11,0,null,null,3,"td",[["class","app-period-table__split-cell"]],null,null,null,null,null)),(n()(),l["\u0275eld"](12,0,null,null,2,"div",[["class","app-period-table__split--types"]],null,null,null,null,null)),(n()(),l["\u0275eld"](13,0,null,null,1,"app-bordered-label",[["class","app-period-table__cell--type"]],null,null,null,d,a)),l["\u0275did"](14,114688,null,0,p,[],{label:[0,"label"],color:[1,"color"]},null)],function(n,t){n(t,14,0,t.context.$implicit.type.name,t.context.$implicit.type.color)},function(n,t){n(t,2,0,t.context.$implicit.name);var e=l["\u0275unv"](t,4,0,n(t,5,0,l["\u0275nov"](t.parent.parent.parent,0),t.context.$implicit.date_from,"MM/dd/yyyy"));n(t,4,0,e),n(t,7,0,t.context.$implicit.duration);var i=l["\u0275unv"](t,9,0,n(t,10,0,l["\u0275nov"](t.parent.parent.parent,0),t.context.$implicit.date_to,"MM/dd/yyyy"));n(t,9,0,i)})}function W(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,17,"td",[["class","app-period-table__cell--split-set"],["colspan","7"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,16,"div",[["class","app-period__table__split_set"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"h2",[["class","app-period__table__split_set--header"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Splits types"])),(n()(),l["\u0275eld"](4,0,null,null,7,"ul",[["class","app-period__table__split_set--list"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,4,"li",[["class","app-period__table__split_set--item"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.selectAll(n.parent.context.$implicit.period_id)&&l),l},null,null)),l["\u0275prd"](512,null,r["\u0275NgClassImpl"],r["\u0275NgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["\u0275did"](7,278528,null,0,r.NgClass,[r["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](8,{"app-period__table__split_set--selected-item":0}),(n()(),l["\u0275ted"](-1,null,["all"])),(n()(),l["\u0275and"](16777216,null,null,1,null,K)),l["\u0275did"](11,278528,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275eld"](12,0,null,null,5,"table",[["class","app-period-table__split-table"]],null,null,null,null,null)),(n()(),l["\u0275eld"](13,0,null,null,1,"thead",[["app-table-thead",""]],null,[[null,"sortFilter"]],function(n,t,e){var l=!0;return"sortFilter"===t&&(l=!1!==n.component.onSortSplitSet(e,n.parent.context.$implicit.period_id)&&l),l},s.b,s.a)),l["\u0275did"](14,114688,null,0,u.a,[],{columns:[0,"columns"]},{sortFilter:"sortFilter"}),(n()(),l["\u0275eld"](15,0,null,null,2,"tbody",[],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Z)),l["\u0275did"](17,278528,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,t){var e=t.component,l=n(t,8,0,t.parent.context.$implicit.isAllSelected);n(t,7,0,"app-period__table__split_set--item",l),n(t,11,0,t.parent.context.$implicit.splitSets),n(t,14,0,e.splitsTableColumns),n(t,17,0,e.getSplits(t.parent.context.$implicit.period_id))},null)}function X(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,19,"tr",[["class","app-period-table__row"]],null,null,null,null,null)),l["\u0275prd"](512,null,r["\u0275NgStyleImpl"],r["\u0275NgStyleR2Impl"],[l.ElementRef,l.KeyValueDiffers,l.Renderer2]),l["\u0275did"](2,278528,null,0,r.NgStyle,[r["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](3,{"background-color":0}),(n()(),l["\u0275and"](16777216,null,null,1,null,L)),l["\u0275did"](5,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,q)),l["\u0275did"](7,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,$)),l["\u0275did"](9,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,z)),l["\u0275did"](11,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,U)),l["\u0275did"](13,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,H)),l["\u0275did"](15,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,G)),l["\u0275did"](17,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,W)),l["\u0275did"](19,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=n(t,3,0,t.context.$implicit.open?"#EBEEFF":t.context.$implicit.bkgColor);n(t,2,0,e),n(t,5,0,"period"===t.context.$implicit.dataTableType),n(t,7,0,"period"===t.context.$implicit.dataTableType),n(t,9,0,"period"===t.context.$implicit.dataTableType),n(t,11,0,"period"===t.context.$implicit.dataTableType),n(t,13,0,"period"===t.context.$implicit.dataTableType),n(t,15,0,"period"===t.context.$implicit.dataTableType),n(t,17,0,"period"===t.context.$implicit.dataTableType),n(t,19,0,"split_set"===t.context.$implicit.dataTableType&&t.context.$implicit.open)},null)}function J(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"app-period-popup",[],null,[[null,"cancel"],[null,"accept"]],function(n,t,e){var l=!0,i=n.component;return"cancel"===t&&(l=0!=(i.isPopupShown=!i.isPopupShown)&&l),"accept"===t&&(l=!1!==i.onDeletePeriod()&&l),l},_,g)),l["\u0275did"](1,114688,null,0,c,[],{text:[0,"text"]},{cancel:"cancel",accept:"accept"})],function(n,t){n(t,1,0,"Are you sure you want to delete period? Period data will be lost.")},null)}function Q(n){return l["\u0275vid"](2,[l["\u0275pid"](0,r.DatePipe,[l.LOCALE_ID]),(n()(),l["\u0275eld"](1,0,null,null,9,"div",[["class","app-period-table"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,5,"table",[["class","app-period-table__table"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,1,"thead",[["app-table-thead",""]],null,[[null,"sortFilter"],[null,"searchValueEvent"]],function(n,t,e){var l=!0,i=n.component;return"sortFilter"===t&&(l=!1!==i.onSortPeriods(e)&&l),"searchValueEvent"===t&&(l=!1!==i.onSearchPeriod(e)&&l),l},s.b,s.a)),l["\u0275did"](4,114688,null,0,u.a,[],{columns:[0,"columns"]},{sortFilter:"sortFilter",searchValueEvent:"searchValueEvent"}),(n()(),l["\u0275eld"](5,0,null,null,2,"tbody",[],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,X)),l["\u0275did"](7,278528,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275eld"](8,0,null,null,2,"div",[["class","app-period-table__popup"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,J)),l["\u0275did"](10,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,4,0,e.periodTableColumns),n(t,7,0,e.periodsData),n(t,10,0,e.isPopupShown)},null)}var nn=e("pugT"),tn=function(){function n(n,t,e){var l=this;this.store=n,this.periodService=t,this.router=e,this.periods=[],this.subscription=new nn.a,this.subscription=this.periodService.getPeriodStore().subscribe(function(n){l.periods=n.periods})}return n.prototype.ngOnInit=function(){this.store.dispatch(new x)},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n.prototype.onAddPeriod=function(){this.router.navigate(["/period/create"])},n}(),en=l["\u0275crt"]({encapsulation:0,styles:[[".app-period[_ngcontent-%COMP%]{margin:0 15px}.app-period[_ngcontent-%COMP%]   .app-period__header-page[_ngcontent-%COMP%]{height:60px;display:flex}.app-period[_ngcontent-%COMP%]   .app-period__header-page[_ngcontent-%COMP%]   .app-period__header-page--text[_ngcontent-%COMP%]{margin:auto 0;font:800 18px/20px NunitoSans-Bold}.app-period[_ngcontent-%COMP%]   .app-period__header-page[_ngcontent-%COMP%]   .app-period__header-page__button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;flex-grow:1}.app-period[_ngcontent-%COMP%]   .app-period__header-page[_ngcontent-%COMP%]   .app-period__header-page__button-container[_ngcontent-%COMP%]   .app-period__header-page__button[_ngcontent-%COMP%]{width:118px;height:30px;margin:auto 0;font:800 12px/15px NunitoSans-Bold;background-color:#4350a2;color:#fff;border-radius:3px;align-items:center;vertical-align:middle}.app-period[_ngcontent-%COMP%]   .app-period__header-page[_ngcontent-%COMP%]   .app-period__header-page__button-container[_ngcontent-%COMP%]   .app-period__header-page__button[_ngcontent-%COMP%]:hover{background-color:#3a458c}.app-period[_ngcontent-%COMP%]   .app-period__content[_ngcontent-%COMP%]{padding:15px;background-color:#fff}.app-period[_ngcontent-%COMP%]   .app-period__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:0 0 25px}.app-period[_ngcontent-%COMP%]   .app-period__header[_ngcontent-%COMP%]   .app-period__header--text[_ngcontent-%COMP%]{font:800 13px/15px NunitoSans-Bold;text-transform:uppercase;margin:0}.app-period[_ngcontent-%COMP%]   .app-period__table[_ngcontent-%COMP%]{width:100%}.app-period[_ngcontent-%COMP%]   .app-period__table[_ngcontent-%COMP%]   .app-period__cell--name[_ngcontent-%COMP%]{width:20%}.app-period[_ngcontent-%COMP%]   .app-period__table[_ngcontent-%COMP%]   .app-period__cell--date[_ngcontent-%COMP%], .app-period[_ngcontent-%COMP%]   .app-period__table[_ngcontent-%COMP%]   .app-period__cell--duration[_ngcontent-%COMP%]{width:8%}.app-period[_ngcontent-%COMP%]   .app-period__table[_ngcontent-%COMP%]   .app-period__cell--type[_ngcontent-%COMP%]{width:26%}.app-period[_ngcontent-%COMP%]   .app-period__table[_ngcontent-%COMP%]   .app-period__cell--edit[_ngcontent-%COMP%]{width:30%}"]],data:{}});function ln(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,14,"div",[["class","app-period"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,5,"div",[["class","app-period__header-page"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"h2",[["class","app-period__header-page--text"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Period Management"])),(n()(),l["\u0275eld"](4,0,null,null,2,"div",[["class","app-period__header-page__button-container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,1,"button",[["class","app-period__header-page__button"],["type","button"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onAddPeriod()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,[" Create Period "])),(n()(),l["\u0275eld"](7,0,null,null,7,"div",[["class","app-period__content"]],null,null,null,null,null)),(n()(),l["\u0275eld"](8,0,null,null,4,"div",[["class","app-period__header"]],null,null,null,null,null)),(n()(),l["\u0275eld"](9,0,null,null,1,"h2",[["class","app-period__header--text"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["List of Periods"])),(n()(),l["\u0275eld"](11,0,null,null,1,"div",[["class","app-period__header--search"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Search"])),(n()(),l["\u0275eld"](13,0,null,null,1,"app-period-table",[],null,null,null,Q,A)),l["\u0275did"](14,638976,null,0,F,[j.n,Y,V.k,h.a],{periods:[0,"periods"]},null)],function(n,t){n(t,14,0,t.component.periods)},null)}function on(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"app-period",[],null,null,null,ln,en)),l["\u0275did"](1,245760,null,0,tn,[j.n,Y,V.k],null,null)],function(n,t){n(t,1,0)},null)}var rn=l["\u0275ccf"]("app-period",tn,on,{},{},[]),pn=function(){function n(n,t,e){this.store=n,this.periodService=t,this.router=e,this.isBackArrowEnable=!0,this.subscription=new nn.a}return n.prototype.ngOnInit=function(){var n=this;this.subscription=this.periodService.getPeriodStore().subscribe(function(t){n.period=t})},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n}(),an=l["\u0275crt"]({encapsulation:0,styles:[[".app-period-page-header[_ngcontent-%COMP%]{display:flex;height:40px;background-color:#fafafa}.app-period-page-header[_ngcontent-%COMP%]   .app-period-page-header__title[_ngcontent-%COMP%]{display:flex;display:flex;width:80%}.app-period-page-header[_ngcontent-%COMP%]   .app-period-page-header__title[_ngcontent-%COMP%]   .app-period-page-header__title--arrow[_ngcontent-%COMP%]{display:flex;width:3%;margin:0 15px 0 0;color:gray;border-right:1px solid #e5e5e5;border-top:1px solid #e5e5e5}.app-period-page-header[_ngcontent-%COMP%]   .app-period-page-header__title[_ngcontent-%COMP%]   .app-period-page-header__title--arrow[_ngcontent-%COMP%]   .app-period-page-header__title--arrow-ico[_ngcontent-%COMP%]{margin:auto}.app-period-page-header[_ngcontent-%COMP%]   .app-period-page-header__title[_ngcontent-%COMP%]   .app-period-page-header__title--arrow[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.8}.app-period-page-header[_ngcontent-%COMP%]   .app-period-page-header__title[_ngcontent-%COMP%]   .app-period-page-header__title--text[_ngcontent-%COMP%]{margin:auto 0;font-size:11px;line-height:15px;letter-spacing:.37px;text-transform:uppercase;color:gray}.app-period-page-header[_ngcontent-%COMP%]   .app-period-page-header__button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:baseline;width:20%}"]],data:{}});function dn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-page-header__title--arrow"]],null,[[null,"click"]],function(n,t,e){var i=!0;return"click"===t&&(i=!1!==l["\u0275nov"](n,1).onClick()&&i),i},null,null)),l["\u0275did"](1,16384,null,0,V.l,[V.k,V.a,[8,null],l.Renderer2,l.ElementRef],{routerLink:[0,"routerLink"]},null),(n()(),l["\u0275eld"](2,0,null,null,0,"i",[["class","fas fa-chevron-left app-period-page-header__title--arrow-ico"]],null,null,null,null,null))],function(n,t){n(t,1,0,t.component.link)},null)}function sn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,7,"div",[["class","app-period-page-header"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,4,"div",[["class","app-period-page-header__title"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,dn)),l["\u0275did"](3,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](4,0,null,null,1,"h2",[["class","app-period-page-header__title--text"]],null,null,null,null,null)),(n()(),l["\u0275ted"](5,null,["",""])),(n()(),l["\u0275eld"](6,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Search"]))],function(n,t){n(t,3,0,t.component.isBackArrowEnable)},function(n,t){n(t,5,0,t.component.titleHeader)})}var un=e("LHBH"),cn=e("gIcY"),gn=e("RzGa"),_n=e("p6zw"),fn=e("bubl"),hn=function(){function n(n,t){this.store=n,this.periodService=t,this.width="auto",this.subscription=new nn.a}return n.prototype.ngOnInit=function(){var n=this;this.subscription=this.periodService.getPeriodStore().subscribe(function(t){n.period=t.period})},n.prototype.onChangePeriod=function(){this.store.dispatch(new P({name:this.period.name,date_from:this.period.date_from,date_to:this.period.date_to,duration:Math.ceil(f.duration(f(this.period.date_to).diff(f(this.period.date_from))).asDays()),split_sets:this.period.split_sets}))},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n}(),mn=l["\u0275crt"]({encapsulation:0,styles:[[".app-period-duration-setting[_ngcontent-%COMP%]{background:#fff;padding:15px 10px}.app-period-duration-setting[_ngcontent-%COMP%]   .app-period-duration-setting__header[_ngcontent-%COMP%]{font:800 13px/15px NunitoSans-Bold;text-transform:uppercase;margin:0 0 15px}.app-period-duration-setting[_ngcontent-%COMP%]   .app-period-duration-setting__name[_ngcontent-%COMP%]{margin:0 0 10px}.app-period-duration-setting[_ngcontent-%COMP%]   .app-period-duration-setting__range[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.app-period-duration-setting[_ngcontent-%COMP%]   .app-period-duration-setting__error[_ngcontent-%COMP%]{color:red;margin:0}"]],data:{}});function bn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"p",[["class","app-period-duration-setting__error"]],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,[" "," "]))],null,function(n,t){n(t,1,0,t.context.$implicit)})}function vn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-duration-setting__error"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,bn)),l["\u0275did"](2,278528,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,2,0,t.component.period.error)},null)}function Cn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,21,"div",[["class","app-period-duration-setting"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"h2",[["class","app-period-duration-setting__header"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Period Settings"])),(n()(),l["\u0275eld"](3,0,null,null,5,"div",[["class","app-period-duration-setting__name"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,4,"app-input-field",[["label","Period Name"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,t,e){var l=!0,i=n.component;return"ngModelChange"===t&&(l=!1!==(i.period.name=e)&&l),"ngModelChange"===t&&(l=!1!==i.onChangePeriod()&&l),l},un.b,un.a)),l["\u0275did"](5,671744,null,0,cn.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,cn.q,null,[cn.u]),l["\u0275did"](7,16384,null,0,cn.r,[[4,cn.q]],null,null),l["\u0275did"](8,114688,null,0,gn.a,[[6,cn.q]],{label:[0,"label"],isInvalid:[1,"isInvalid"]},null),(n()(),l["\u0275eld"](9,0,null,null,10,"div",[["class","app-period-duration-setting__range"]],null,null,null,null,null)),(n()(),l["\u0275eld"](10,0,null,null,4,"app-datepicker-field",[["label","Period Start"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,t,e){var l=!0,i=n.component;return"ngModelChange"===t&&(l=!1!==(i.period.date_from=e)&&l),"ngModelChange"===t&&(l=!1!==i.onChangePeriod()&&l),l},_n.b,_n.a)),l["\u0275did"](11,671744,null,0,cn.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,cn.q,null,[cn.u]),l["\u0275did"](13,16384,null,0,cn.r,[[4,cn.q]],null,null),l["\u0275did"](14,114688,null,0,fn.a,[[6,cn.q]],{label:[0,"label"],isInvalid:[1,"isInvalid"],width:[2,"width"]},null),(n()(),l["\u0275eld"](15,0,null,null,4,"app-datepicker-field",[["label","Period End"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,t,e){var l=!0,i=n.component;return"ngModelChange"===t&&(l=!1!==(i.period.date_to=e)&&l),"ngModelChange"===t&&(l=!1!==i.onChangePeriod()&&l),l},_n.b,_n.a)),l["\u0275did"](16,671744,null,0,cn.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,cn.q,null,[cn.u]),l["\u0275did"](18,16384,null,0,cn.r,[[4,cn.q]],null,null),l["\u0275did"](19,114688,null,0,fn.a,[[6,cn.q]],{label:[0,"label"],isInvalid:[1,"isInvalid"],width:[2,"width"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,vn)),l["\u0275did"](21,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,5,0,e.period.name),n(t,8,0,"Period Name",!e.period.name),n(t,11,0,e.period.date_from),n(t,14,0,"Period Start",e.period.date_from>e.period.date_to,"147px"),n(t,16,0,e.period.date_to),n(t,19,0,"Period End",e.period.date_from>e.period.date_to,"147px"),n(t,21,0,e.period.error)},function(n,t){n(t,4,0,l["\u0275nov"](t,7).ngClassUntouched,l["\u0275nov"](t,7).ngClassTouched,l["\u0275nov"](t,7).ngClassPristine,l["\u0275nov"](t,7).ngClassDirty,l["\u0275nov"](t,7).ngClassValid,l["\u0275nov"](t,7).ngClassInvalid,l["\u0275nov"](t,7).ngClassPending),n(t,10,0,l["\u0275nov"](t,13).ngClassUntouched,l["\u0275nov"](t,13).ngClassTouched,l["\u0275nov"](t,13).ngClassPristine,l["\u0275nov"](t,13).ngClassDirty,l["\u0275nov"](t,13).ngClassValid,l["\u0275nov"](t,13).ngClassInvalid,l["\u0275nov"](t,13).ngClassPending),n(t,15,0,l["\u0275nov"](t,18).ngClassUntouched,l["\u0275nov"](t,18).ngClassTouched,l["\u0275nov"](t,18).ngClassPristine,l["\u0275nov"](t,18).ngClassDirty,l["\u0275nov"](t,18).ngClassValid,l["\u0275nov"](t,18).ngClassInvalid,l["\u0275nov"](t,18).ngClassPending)})}var Pn,On=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),Mn=l["\u0275crt"]({encapsulation:0,styles:[[".app-carets[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;border:1px solid gray;background:url(icon-carrets.aafb86db1d6d18d4707c.svg) 50%}.app-carets[_ngcontent-%COMP%]:active, .app-carets[_ngcontent-%COMP%]:hover{width:13px;height:13px;cursor:pointer}"]],data:{}});function yn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,"div",[["class","app-carets"]],null,null,null,null,null))],null,null)}try{Pn="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(tl){Pn=!1}var xn,Sn=function(){function n(n){this._platformId=n,this.isBrowser=this._platformId?Object(r.isPlatformBrowser)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Pn)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}return n.ngInjectableDef=Object(l.defineInjectable)({factory:function(){return new n(Object(l.inject)(l.PLATFORM_ID,8))},token:n,providedIn:"root"}),n}();function wn(n){return function(){if(null==xn&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return xn=!0}}))}finally{xn=xn||!1}return xn}()?n:!!n.capture}function Dn(n){return null!=n&&""+n!="false"}function In(n){return n instanceof l.ElementRef?n.nativeElement:n}var Rn=e("K9Ia"),En=e("6blF"),kn=e("p0ib"),Tn=e("F/XL"),Nn=e("bne5"),Yn=(e("tHPV"),e("mrSG")),Fn=(e("h9Dq"),e("ad02"),e("T1DM")),jn=e("MGBS"),Vn=e("zotm"),An=function(){function n(n){this.durationSelector=n}return n.prototype.call=function(n,t){return t.subscribe(new Ln(n,this.durationSelector))},n}(),Ln=function(n){function t(t,e){var l=n.call(this,t)||this;return l.durationSelector=e,l.hasValue=!1,l}return Yn.d(t,n),t.prototype._next=function(n){if(this.value=n,this.hasValue=!0,!this.throttled){var t=void 0;try{t=(0,this.durationSelector)(n)}catch(l){return this.destination.error(l)}var e=Object(Vn.a)(this,t);!e||e.closed?this.clearThrottle():this.add(this.throttled=e)}},t.prototype.clearThrottle=function(){var n=this.value,t=this.hasValue,e=this.throttled;e&&(this.remove(e),this.throttled=null,e.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(n))},t.prototype.notifyNext=function(n,t,e,l){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(jn.a),qn=e("gI3B");e("VnD/");var $n=e("ny24"),zn=e("p0Sj"),Bn=(e("qyHS"),e("15JJ"));e("zo3G"),e("mZXl"),e("8g8A"),e("uMaO");var Un=function(){function n(n,t){var e=this;this._platform=n,t.runOutsideAngular(function(){e._change=n.isBrowser?Object(kn.a)(Object(Nn.a)(window,"resize"),Object(Nn.a)(window,"orientationchange")):Object(Tn.a)(),e._invalidateCache=e.change().subscribe(function(){return e._updateViewportSize()})})}return n.prototype.ngOnDestroy=function(){this._invalidateCache.unsubscribe()},n.prototype.getViewportSize=function(){this._viewportSize||this._updateViewportSize();var n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n},n.prototype.getViewportRect=function(){var n=this.getViewportScrollPosition(),t=this.getViewportSize(),e=t.width,l=t.height;return{top:n.top,left:n.left,bottom:n.top+l,right:n.left+e,height:l,width:e}},n.prototype.getViewportScrollPosition=function(){if(!this._platform.isBrowser)return{top:0,left:0};var n=document.documentElement,t=n.getBoundingClientRect();return{top:-t.top||document.body.scrollTop||window.scrollY||n.scrollTop||0,left:-t.left||document.body.scrollLeft||window.scrollX||n.scrollLeft||0}},n.prototype.change=function(n){return void 0===n&&(n=20),n>0?this._change.pipe((t=n,void 0===e&&(e=Fn.a),l=function(){return Object(qn.a)(t,e)},function(n){return n.lift(new An(l))})):this._change;var t,e,l},n.prototype._updateViewportSize=function(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}},n.ngInjectableDef=Object(l.defineInjectable)({factory:function(){return new n(Object(l.inject)(Sn),Object(l.inject)(l.NgZone))},token:n,providedIn:"root"}),n}(),Hn=e("t9fZ"),Gn=e("xMyE");function Kn(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Zn(n,t){var e=t?"":"none";Kn(n.style,{touchAction:t?"":"none",webkitUserDrag:t?"":"none",webkitTapHighlightColor:t?"":"transparent",userSelect:e,msUserSelect:e,webkitUserSelect:e,MozUserSelect:e})}function Wn(n){var t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function Xn(n,t){return n.getPropertyValue(t).split(",").map(function(n){return n.trim()})}var Jn=wn({passive:!0}),Qn=wn({passive:!1}),nt=function(){function n(n,t,e,l,i,o){var r=this;this._config=t,this._document=e,this._ngZone=l,this._viewportRuler=i,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new Rn.a,this._moveEventSubscriptions=0,this._pointerMoveSubscription=nn.a.EMPTY,this._pointerUpSubscription=nn.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this._disabled=!1,this.beforeStarted=new Rn.a,this.started=new Rn.a,this.released=new Rn.a,this.ended=new Rn.a,this.entered=new Rn.a,this.exited=new Rn.a,this.dropped=new Rn.a,this.moved=new En.a(function(n){var t=r._moveEvents.subscribe(n);return r._moveEventSubscriptions++,function(){t.unsubscribe(),r._moveEventSubscriptions--}}),this._pointerDown=function(n){if(r.beforeStarted.next(),r._handles.length){var t=r._handles.find(function(t){var e=n.target;return!!e&&(e===t||t.contains(e))});!t||r._disabledHandles.has(t)||r.disabled||r._initializeDragSequence(t,n)}else r.disabled||r._initializeDragSequence(r._rootElement,n)},this._pointerMove=function(n){if(r._hasStartedDragging){r._boundaryElement&&(r._previewRect&&(r._previewRect.width||r._previewRect.height)||(r._previewRect=(r._preview||r._rootElement).getBoundingClientRect()));var t=r._getConstrainedPointerPosition(n);if(r._hasMoved=!0,n.preventDefault(),r._updatePointerDirectionDelta(t),r._dropContainer)r._updateActiveDropContainer(t);else{var e=r._activeTransform;e.x=t.x-r._pickupPositionOnPage.x+r._passiveTransform.x,e.y=t.y-r._pickupPositionOnPage.y+r._passiveTransform.y;var l=tt(e.x,e.y);r._rootElement.style.transform=r._initialTransform?l+" "+r._initialTransform:l,"undefined"!=typeof SVGElement&&r._rootElement instanceof SVGElement&&r._rootElement.setAttribute("transform","translate("+e.x+" "+e.y+")")}r._moveEventSubscriptions>0&&r._ngZone.run(function(){r._moveEvents.next({source:r,pointerPosition:t,event:n,delta:r._pointerDirectionDelta})})}else{var i=r._getPointerPositionOnPage(n);Math.abs(i.x-r._pickupPositionOnPage.x)+Math.abs(i.y-r._pickupPositionOnPage.y)>=r._config.dragStartThreshold&&(r._hasStartedDragging=!0,r._ngZone.run(function(){return r._startDragSequence(n)}))}},this._pointerUp=function(n){if(r._dragDropRegistry.isDragging(r)&&(r._removeSubscriptions(),r._dragDropRegistry.stopDragging(r),r._handles&&(r._rootElement.style.webkitTapHighlightColor=r._rootElementTapHighlight),r._hasStartedDragging)){if(r.released.next({source:r}),!r._dropContainer)return r._passiveTransform.x=r._activeTransform.x,r._passiveTransform.y=r._activeTransform.y,r._ngZone.run(function(){return r.ended.next({source:r})}),void r._dragDropRegistry.stopDragging(r);r._animatePreviewToPlaceholder().then(function(){r._cleanupDragArtifacts(n),r._dragDropRegistry.stopDragging(r)})}},this.withRootElement(n),o.registerDragItem(this)}return Object.defineProperty(n.prototype,"disabled",{get:function(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)},set:function(n){var t=Dn(n);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions())},enumerable:!0,configurable:!0}),n.prototype.getPlaceholderElement=function(){return this._placeholder},n.prototype.getRootElement=function(){return this._rootElement},n.prototype.withHandles=function(n){return this._handles=n.map(function(n){return In(n)}),this._handles.forEach(function(n){return Zn(n,!1)}),this._toggleNativeDragInteractions(),this},n.prototype.withPreviewTemplate=function(n){return this._previewTemplate=n,this},n.prototype.withPlaceholderTemplate=function(n){return this._placeholderTemplate=n,this},n.prototype.withRootElement=function(n){var t=In(n);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),t.addEventListener("mousedown",this._pointerDown,Qn),t.addEventListener("touchstart",this._pointerDown,Jn),this._initialTransform=void 0,this._rootElement=t),this},n.prototype.withBoundaryElement=function(n){return this._boundaryElement=n?In(n):null,this},n.prototype.dispose=function(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&it(this._rootElement),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._nextSibling=null},n.prototype.isDragging=function(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)},n.prototype.reset=function(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}},n.prototype.disableHandle=function(n){this._handles.indexOf(n)>-1&&this._disabledHandles.add(n)},n.prototype.enableHandle=function(n){this._disabledHandles.delete(n)},n.prototype.withDirection=function(n){return this._direction=n,this},n.prototype._withDropContainer=function(n){this._dropContainer=n},n.prototype._removeSubscriptions=function(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe()},n.prototype._destroyPreview=function(){this._preview&&it(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null},n.prototype._destroyPlaceholder=function(){this._placeholder&&it(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null},n.prototype._startDragSequence=function(n){if(this.started.next({source:this}),ot(n)&&(this._lastTouchEventTime=Date.now()),this._dropContainer){var t=this._rootElement;this._nextSibling=t.nextSibling;var e=this._preview=this._createPreviewElement(),l=this._placeholder=this._createPlaceholderElement();t.style.display="none",this._document.body.appendChild(t.parentNode.replaceChild(l,t)),this._document.body.appendChild(e),this._dropContainer.start()}},n.prototype._initializeDragSequence=function(n,t){t.stopPropagation();var e=this.isDragging(),l=ot(t),i=!l&&0!==t.button,o=this._rootElement,r=!l&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(t.target&&t.target.draggable&&"mousedown"===t.type&&t.preventDefault(),!(e||i||r)){null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._handles.length&&(this._rootElementTapHighlight=o.style.webkitTapHighlightColor,o.style.webkitTapHighlightColor="transparent"),this._toggleNativeDragInteractions(),this._hasStartedDragging=this._hasMoved=!1,this._initialContainer=this._dropContainer,this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollPosition=this._viewportRuler.getViewportScrollPosition(),this._boundaryElement&&(this._boundaryRect=this._boundaryElement.getBoundingClientRect()),this._pickupPositionInElement=this._previewTemplate&&this._previewTemplate.template?{x:0,y:0}:this._getPointerPositionInElement(n,t);var p=this._pickupPositionOnPage=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:p.x,y:p.y},this._dragDropRegistry.startDragging(this,t)}},n.prototype._cleanupDragArtifacts=function(n){var t=this;this._rootElement.style.display="",this._nextSibling?this._nextSibling.parentNode.insertBefore(this._rootElement,this._nextSibling):this._initialContainer.element.appendChild(this._rootElement),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(function(){var e=t._dropContainer,l=e.getItemIndex(t),i=t._getPointerPositionOnPage(n),o=e._isOverContainer(i.x,i.y);t.ended.next({source:t}),t.dropped.next({item:t,currentIndex:l,previousIndex:t._initialContainer.getItemIndex(t),container:e,previousContainer:t._initialContainer,isPointerOverContainer:o}),e.drop(t,l,t._initialContainer,o),t._dropContainer=t._initialContainer})},n.prototype._updateActiveDropContainer=function(n){var t=this,e=n.x,l=n.y,i=this._dropContainer._getSiblingContainerFromPosition(this,e,l)||this._initialContainer._getSiblingContainerFromPosition(this,e,l);!i&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,l)&&(i=this._initialContainer),i&&i!==this._dropContainer&&this._ngZone.run(function(){t.exited.next({item:t,container:t._dropContainer}),t._dropContainer.exit(t),t.entered.next({item:t,container:i}),t._dropContainer=i,t._dropContainer.enter(t,e,l)}),this._dropContainer._sortItem(this,e,l,this._pointerDirectionDelta),this._preview.style.transform=tt(e-this._pickupPositionInElement.x,l-this._pickupPositionInElement.y)},n.prototype._createPreviewElement=function(){var n,t=this._previewTemplate,e=t?t.template:null;if(e){var l=t.viewContainer.createEmbeddedView(e,t.context);n=l.rootNodes[0],this._previewRef=l,n.style.transform=tt(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{var i=this._rootElement,o=i.getBoundingClientRect();(n=et(i)).style.width=o.width+"px",n.style.height=o.height+"px",n.style.transform=tt(o.left,o.top)}return Kn(n.style,{pointerEvents:"none",position:"fixed",top:"0",left:"0",zIndex:"1000"}),Zn(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("dir",this._direction),n},n.prototype._animatePreviewToPlaceholder=function(){var n=this;if(!this._hasMoved)return Promise.resolve();var t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=tt(t.left,t.top);var e=function(n){var t=getComputedStyle(n),e=Xn(t,"transition-property"),l=e.find(function(n){return"transform"===n||"all"===n});if(!l)return 0;var i=e.indexOf(l),o=Xn(t,"transition-duration"),r=Xn(t,"transition-delay");return Wn(o[i])+Wn(r[i])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(function(){return new Promise(function(t){var l=function(e){(!e||e.target===n._preview&&"transform"===e.propertyName)&&(n._preview.removeEventListener("transitionend",l),t(),clearTimeout(i))},i=setTimeout(l,1.5*e);n._preview.addEventListener("transitionend",l)})})},n.prototype._createPlaceholderElement=function(){var n,t=this._placeholderTemplate,e=t?t.template:null;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),n=this._placeholderRef.rootNodes[0]):n=et(this._rootElement),n.classList.add("cdk-drag-placeholder"),n},n.prototype._getPointerPositionInElement=function(n,t){var e=this._rootElement.getBoundingClientRect(),l=n===this._rootElement?null:n,i=l?l.getBoundingClientRect():e,o=ot(t)?t.targetTouches[0]:t;return{x:i.left-e.left+(o.pageX-i.left-this._scrollPosition.left),y:i.top-e.top+(o.pageY-i.top-this._scrollPosition.top)}},n.prototype._getPointerPositionOnPage=function(n){var t=ot(n)?n.touches[0]||n.changedTouches[0]:n;return{x:t.pageX-this._scrollPosition.left,y:t.pageY-this._scrollPosition.top}},n.prototype._getConstrainedPointerPosition=function(n){var t=this._getPointerPositionOnPage(n),e=this._dropContainer?this._dropContainer.lockAxis:null;if("x"===this.lockAxis||"x"===e?t.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==e||(t.x=this._pickupPositionOnPage.x),this._boundaryRect){var l=this._pickupPositionInElement,i=l.x,o=l.y,r=this._boundaryRect,p=this._previewRect,a=r.top+o,d=r.bottom-(p.height-o);t.x=lt(t.x,r.left+i,r.right-(p.width-i)),t.y=lt(t.y,a,d)}return t},n.prototype._updatePointerDirectionDelta=function(n){var t=n.x,e=n.y,l=this._pointerDirectionDelta,i=this._pointerPositionAtLastDirectionChange,o=Math.abs(t-i.x),r=Math.abs(e-i.y);return o>this._config.pointerDirectionChangeThreshold&&(l.x=t>i.x?1:-1,i.x=t),r>this._config.pointerDirectionChangeThreshold&&(l.y=e>i.y?1:-1,i.y=e),l},n.prototype._toggleNativeDragInteractions=function(){if(this._rootElement&&this._handles){var n=this.disabled||this._handles.length>0;n!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=n,Zn(this._rootElement,n))}},n.prototype._removeRootElementListeners=function(n){n.removeEventListener("mousedown",this._pointerDown,Qn),n.removeEventListener("touchstart",this._pointerDown,Jn)},n}();function tt(n,t){return"translate3d("+Math.round(n)+"px, "+Math.round(t)+"px, 0)"}function et(n){var t=n.cloneNode(!0);return t.removeAttribute("id"),t}function lt(n,t,e){return Math.max(t,Math.min(e,n))}function it(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function ot(n){return n.type.startsWith("touch")}function rt(n,t){return Math.max(0,Math.min(t,n))}var pt=0,at=function(){function n(n,t,e){this._dragDropRegistry=t,this.id="cdk-drop-list-ref-"+pt++,this.disabled=!1,this.enterPredicate=function(){return!0},this.beforeStarted=new Rn.a,this.entered=new Rn.a,this.exited=new Rn.a,this.dropped=new Rn.a,this.sorted=new Rn.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",t.registerDropContainer(this),this._document=e,this.element=n instanceof l.ElementRef?n.nativeElement:n}return n.prototype.dispose=function(){this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._dragDropRegistry.removeDropContainer(this)},n.prototype.isDragging=function(){return this._isDragging},n.prototype.start=function(){var n=this;this.beforeStarted.next(),this._isDragging=!0,this._activeDraggables=this._draggables.slice(),this._cacheOwnPosition(),this._cacheItemPositions(),this._siblings.forEach(function(t){return t._startReceiving(n)})},n.prototype.enter=function(n,t,e){this.entered.next({item:n,container:this}),this.start();var l=this._getItemIndexFromPointerPosition(n,t,e),i=this._activeDraggables.indexOf(n),o=this._activeDraggables[l],r=n.getPlaceholderElement();if(i>-1&&this._activeDraggables.splice(i,1),o&&!this._dragDropRegistry.isDragging(o)){var p=o.getRootElement();p.parentElement.insertBefore(r,p),this._activeDraggables.splice(l,0,n)}else this.element.appendChild(r),this._activeDraggables.push(n);r.style.transform="",this._cacheItemPositions()},n.prototype.exit=function(n){this._reset(),this.exited.next({item:n,container:this})},n.prototype.drop=function(n,t,e,l){this._reset(),this.dropped.next({item:n,currentIndex:t,previousIndex:e.getItemIndex(n),container:this,previousContainer:e,isPointerOverContainer:l})},n.prototype.withItems=function(n){var t=this;return this._draggables=n,n.forEach(function(n){return n._withDropContainer(t)}),this},n.prototype.withDirection=function(n){return this._direction=n,this},n.prototype.connectedTo=function(n){return this._siblings=n.slice(),this},n.prototype.withOrientation=function(n){return this._orientation=n,this},n.prototype.getItemIndex=function(n){return this._isDragging?st("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,function(t){return t.drag===n}):this._draggables.indexOf(n)},n.prototype.isReceiving=function(){return this._activeSiblings.size>0},n.prototype._sortItem=function(n,t,e,l){if(this._isPointerNearDropContainer(t,e)){var i=this._itemPositions,o=this._getItemIndexFromPointerPosition(n,t,e,l);if(!(-1===o&&i.length>0)){var r="horizontal"===this._orientation,p=st(i,function(t){return t.drag===n}),a=i[o],d=i[p].clientRect,s=a.clientRect,u=p>o?1:-1;this._previousSwap.drag=a.drag,this._previousSwap.delta=r?l.x:l.y;var c=this._getItemOffsetPx(d,s,u),g=this._getSiblingOffsetPx(p,i,u),_=i.slice();!function(n,t,e){var l=rt(p,n.length-1),i=rt(e,n.length-1);if(l!==i){for(var o=n[l],r=i<l?-1:1,a=l;a!==i;a+=r)n[a]=n[a+r];n[i]=o}}(i,0,o),this.sorted.next({previousIndex:p,currentIndex:o,container:this,item:n}),i.forEach(function(t,e){if(_[e]!==t){var l=t.drag===n,i=l?c:g,o=l?n.getPlaceholderElement():t.drag.getRootElement();t.offset+=i,r?(o.style.transform="translate3d("+Math.round(t.offset)+"px, 0, 0)",dt(t.clientRect,0,i)):(o.style.transform="translate3d(0, "+Math.round(t.offset)+"px, 0)",dt(t.clientRect,i,0))}})}}},n.prototype._cacheOwnPosition=function(){this._clientRect=this.element.getBoundingClientRect()},n.prototype._cacheItemPositions=function(){var n=this,t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(function(t){var e=(n._dragDropRegistry.isDragging(t)?t.getPlaceholderElement():t.getRootElement()).getBoundingClientRect();return{drag:t,offset:0,clientRect:{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}}).sort(function(n,e){return t?n.clientRect.left-e.clientRect.left:n.clientRect.top-e.clientRect.top})},n.prototype._reset=function(){var n=this;this._isDragging=!1,this._activeDraggables.forEach(function(n){return n.getRootElement().style.transform=""}),this._siblings.forEach(function(t){return t._stopReceiving(n)}),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0},n.prototype._getSiblingOffsetPx=function(n,t,e){var l="horizontal"===this._orientation,i=t[n].clientRect,o=t[n+-1*e],r=i[l?"width":"height"]*e;if(o){var p=l?"left":"top",a=l?"right":"bottom";-1===e?r-=o.clientRect[p]-i[a]:r+=i[p]-o.clientRect[a]}return r},n.prototype._isPointerNearDropContainer=function(n,t){var e=this._clientRect,l=.05*e.width,i=.05*e.height;return t>e.top-i&&t<e.bottom+i&&n>e.left-l&&n<e.right+l},n.prototype._getItemOffsetPx=function(n,t,e){var l="horizontal"===this._orientation,i=l?t.left-n.left:t.top-n.top;return-1===e&&(i+=l?t.width-n.width:t.height-n.height),i},n.prototype._getItemIndexFromPointerPosition=function(n,t,e,l){var i=this,o="horizontal"===this._orientation;return st(this._itemPositions,function(r,p,a){var d=r.drag,s=r.clientRect;return d===n?a.length<2:(!l||d!==i._previousSwap.drag||(o?l.x:l.y)!==i._previousSwap.delta)&&(o?t>=Math.floor(s.left)&&t<=Math.floor(s.right):e>=Math.floor(s.top)&&e<=Math.floor(s.bottom))})},n.prototype._isOverContainer=function(n,t){return ut(this._clientRect,n,t)},n.prototype._getSiblingContainerFromPosition=function(n,t,e){return this._siblings.find(function(l){return l._canReceive(n,t,e)})},n.prototype._canReceive=function(n,t,e){if(!this.enterPredicate(n,this)||!ut(this._clientRect,t,e))return!1;var l=this._document.elementFromPoint(t,e);return!!l&&(l===this.element||this.element.contains(l))},n.prototype._startReceiving=function(n){var t=this._activeSiblings;t.has(n)||(t.add(n),this._cacheOwnPosition())},n.prototype._stopReceiving=function(n){this._activeSiblings.delete(n)},n}();function dt(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function st(n,t){for(var e=0;e<n.length;e++)if(t(n[e],e,n))return e;return-1}function ut(n,t,e){return e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right}var ct=wn({passive:!1,capture:!0}),gt=function(){function n(n,t){var e=this;this._ngZone=n,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new Rn.a,this.pointerUp=new Rn.a,this._preventDefaultWhileDragging=function(n){e._activeDragInstances.size&&n.preventDefault()},this._document=t}return n.prototype.registerDropContainer=function(n){if(!this._dropInstances.has(n)){if(this.getDropContainer(n.id))throw Error('Drop instance with id "'+n.id+'" has already been registered.');this._dropInstances.add(n)}},n.prototype.registerDragItem=function(n){var t=this;this._dragInstances.add(n),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(function(){t._document.addEventListener("touchmove",t._preventDefaultWhileDragging,ct)})},n.prototype.removeDropContainer=function(n){this._dropInstances.delete(n)},n.prototype.removeDragItem=function(n){this._dragInstances.delete(n),this.stopDragging(n),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,ct)},n.prototype.startDragging=function(n,t){var e=this;if(this._activeDragInstances.add(n),1===this._activeDragInstances.size){var l=t.type.startsWith("touch"),i=l?"touchend":"mouseup";this._globalListeners.set(l?"touchmove":"mousemove",{handler:function(n){return e.pointerMove.next(n)},options:ct}).set(i,{handler:function(n){return e.pointerUp.next(n)},options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:ct}),l||this._globalListeners.set("wheel",{handler:this._preventDefaultWhileDragging,options:ct}),this._ngZone.runOutsideAngular(function(){e._globalListeners.forEach(function(n,t){e._document.addEventListener(t,n.handler,n.options)})})}},n.prototype.stopDragging=function(n){this._activeDragInstances.delete(n),0===this._activeDragInstances.size&&this._clearGlobalListeners()},n.prototype.isDragging=function(n){return this._activeDragInstances.has(n)},n.prototype.getDropContainer=function(n){return Array.from(this._dropInstances).find(function(t){return t.id===n})},n.prototype.ngOnDestroy=function(){var n=this;this._dragInstances.forEach(function(t){return n.removeDragItem(t)}),this._dropInstances.forEach(function(t){return n.removeDropContainer(t)}),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()},n.prototype._clearGlobalListeners=function(){var n=this;this._globalListeners.forEach(function(t,e){n._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()},n.ngInjectableDef=Object(l.defineInjectable)({factory:function(){return new n(Object(l.inject)(l.NgZone),Object(l.inject)(r.DOCUMENT))},token:n,providedIn:"root"}),n}(),_t={dragStartThreshold:5,pointerDirectionChangeThreshold:5},ft=function(){function n(n,t,e,l){this._document=n,this._ngZone=t,this._viewportRuler=e,this._dragDropRegistry=l}return n.prototype.createDrag=function(n,t){return void 0===t&&(t=_t),new nt(n,t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)},n.prototype.createDropList=function(n){return new at(n,this._dragDropRegistry,this._document)},n.ngInjectableDef=Object(l.defineInjectable)({factory:function(){return new n(Object(l.inject)(r.DOCUMENT),Object(l.inject)(l.NgZone),Object(l.inject)(Un),Object(l.inject)(gt))},token:n,providedIn:"root"}),n}(),ht=new l.InjectionToken("CDK_DROP_LIST"),mt=new l.InjectionToken("CDK_DRAG_PARENT"),bt=function(){function n(n,t){this.element=n,this._stateChanges=new Rn.a,this._disabled=!1,this._parentDrag=t,Zn(n.nativeElement,!1)}return Object.defineProperty(n.prototype,"disabled",{get:function(){return this._disabled},set:function(n){this._disabled=Dn(n),this._stateChanges.next(this)},enumerable:!0,configurable:!0}),n.prototype.ngOnDestroy=function(){this._stateChanges.complete()},n}(),vt=new l.InjectionToken("CDK_DRAG_CONFIG",{providedIn:"root",factory:function(){return{dragStartThreshold:5,pointerDirectionChangeThreshold:5}}}),Ct=function(){function n(n,t,e,i,o,r,p,a,d,s,u){var c=this;this.element=n,this.dropContainer=t,this._document=e,this._ngZone=i,this._viewContainerRef=o,this._dir=d,this._changeDetectorRef=u,this._destroyed=new Rn.a,this._disabled=!1,this.started=new l.EventEmitter,this.released=new l.EventEmitter,this.ended=new l.EventEmitter,this.entered=new l.EventEmitter,this.exited=new l.EventEmitter,this.dropped=new l.EventEmitter,this.moved=new En.a(function(n){var t=c._dragRef.moved.pipe(Object(b.a)(function(n){return{source:c,pointerPosition:n.pointerPosition,event:n.event,delta:n.delta}})).subscribe(n);return function(){t.unsubscribe()}}),this._dragRef=s?s.createDrag(n,a):new nt(n,a,e,i,r,p),this._dragRef.data=this,this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}return Object.defineProperty(n.prototype,"disabled",{get:function(){return this._disabled||this.dropContainer&&this.dropContainer.disabled},set:function(n){this._disabled=Dn(n),this._dragRef.disabled=this._disabled},enumerable:!0,configurable:!0}),n.prototype.getPlaceholderElement=function(){return this._dragRef.getPlaceholderElement()},n.prototype.getRootElement=function(){return this._dragRef.getRootElement()},n.prototype.reset=function(){this._dragRef.reset()},n.prototype.ngAfterViewInit=function(){var n=this;this._ngZone.onStable.asObservable().pipe(Object(Hn.a)(1),Object($n.a)(this._destroyed)).subscribe(function(){n._updateRootElement(),n._handles.changes.pipe(Object(zn.a)(n._handles),Object(Gn.a)(function(t){var e=t.filter(function(t){return t._parentDrag===n}).map(function(n){return n.element});n._dragRef.withHandles(e)}),Object(Bn.a)(function(n){return kn.a.apply(void 0,n.map(function(n){return n._stateChanges}))}),Object($n.a)(n._destroyed)).subscribe(function(t){var e=n._dragRef,l=t.element.nativeElement;t.disabled?e.disableHandle(l):e.enableHandle(l)})})},n.prototype.ngOnChanges=function(n){var t=n.rootElementSelector;t&&!t.firstChange&&this._updateRootElement()},n.prototype.ngOnDestroy=function(){this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()},n.prototype._updateRootElement=function(){var n=this.element.nativeElement,t=this.rootElementSelector?Pt(n,this.rootElementSelector):n;if(t&&t.nodeType!==this._document.ELEMENT_NODE)throw Error('cdkDrag must be attached to an element node. Currently attached to "'+t.nodeName+'".');this._dragRef.withRootElement(t||n)},n.prototype._getBoundaryElement=function(){var n=this.boundaryElementSelector;return n?Pt(this.element.nativeElement,n):null},n.prototype._syncInputs=function(n){var t=this;n.beforeStarted.subscribe(function(){if(!n.isDragging()){var e=t._dir,l=t._placeholderTemplate?{template:t._placeholderTemplate.templateRef,context:t._placeholderTemplate.data,viewContainer:t._viewContainerRef}:null,i=t._previewTemplate?{template:t._previewTemplate.templateRef,context:t._previewTemplate.data,viewContainer:t._viewContainerRef}:null;n.disabled=t.disabled,n.lockAxis=t.lockAxis,n.withBoundaryElement(t._getBoundaryElement()).withPlaceholderTemplate(l).withPreviewTemplate(i),e&&n.withDirection(e.value)}})},n.prototype._handleEvents=function(n){var t=this;n.started.subscribe(function(){t.started.emit({source:t}),t._changeDetectorRef&&t._changeDetectorRef.markForCheck()}),n.released.subscribe(function(){t.released.emit({source:t})}),n.ended.subscribe(function(){t.ended.emit({source:t}),t._changeDetectorRef&&t._changeDetectorRef.markForCheck()}),n.entered.subscribe(function(n){t.entered.emit({container:n.container.data,item:t})}),n.exited.subscribe(function(n){t.exited.emit({container:n.container.data,item:t})}),n.dropped.subscribe(function(n){t.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,isPointerOverContainer:n.isPointerOverContainer,item:t})})},n}();function Pt(n,t){for(var e=n.parentElement;e;){if(e.matches?e.matches(t):e.msMatchesSelector(t))return e;e=e.parentElement}return null}var Ot=function(){function n(){this._items=new Set,this._disabled=!1}return Object.defineProperty(n.prototype,"disabled",{get:function(){return this._disabled},set:function(n){this._disabled=Dn(n)},enumerable:!0,configurable:!0}),n.prototype.ngOnDestroy=function(){this._items.clear()},n}(),Mt=0,yt=function(){function n(t,e,i,o,r,p,a){var d=this;this.element=t,this._changeDetectorRef=i,this._dir=o,this._group=r,this._destroyed=new Rn.a,this.connectedTo=[],this.orientation="vertical",this.id="cdk-drop-list-"+Mt++,this._disabled=!1,this.enterPredicate=function(){return!0},this.dropped=new l.EventEmitter,this.entered=new l.EventEmitter,this.exited=new l.EventEmitter,this.sorted=new l.EventEmitter,this._dropListRef=a?a.createDropList(t):new at(t,e,p||document),this._dropListRef.data=this,this._dropListRef.enterPredicate=function(n,t){return d.enterPredicate(n.data,t.data)},this._syncInputs(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),r&&r._items.add(this)}return Object.defineProperty(n.prototype,"disabled",{get:function(){return this._disabled||!!this._group&&this._group.disabled},set:function(n){this._disabled=Dn(n)},enumerable:!0,configurable:!0}),n.prototype.ngAfterContentInit=function(){var n=this;this._draggables.changes.pipe(Object(zn.a)(this._draggables),Object($n.a)(this._destroyed)).subscribe(function(t){n._dropListRef.withItems(t.map(function(n){return n._dragRef}))})},n.prototype.ngOnDestroy=function(){var t=n._dropLists.indexOf(this);t>-1&&n._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()},n.prototype.start=function(){this._dropListRef.start()},n.prototype.drop=function(n,t,e,l){this._dropListRef.drop(n._dragRef,t,e._dropListRef,l)},n.prototype.enter=function(n,t,e){this._dropListRef.enter(n._dragRef,t,e)},n.prototype.exit=function(n){this._dropListRef.exit(n._dragRef)},n.prototype.getItemIndex=function(n){return this._dropListRef.getItemIndex(n._dragRef)},n.prototype._sortItem=function(n,t,e,l){return this._dropListRef._sortItem(n._dragRef,t,e,l)},n.prototype._getSiblingContainerFromPosition=function(n,t,e){var l=this._dropListRef._getSiblingContainerFromPosition(n._dragRef,t,e);return l?l.data:null},n.prototype._isOverContainer=function(n,t){return this._dropListRef._isOverContainer(n,t)},n.prototype._syncInputs=function(t){var e=this;this._dir&&this._dir.change.pipe(Object(zn.a)(this._dir.value),Object($n.a)(this._destroyed)).subscribe(function(n){return t.withDirection(n)}),t.beforeStarted.subscribe(function(){var l,i=(l=e.connectedTo,Array.isArray(l)?l:[l]).map(function(t){return"string"==typeof t?n._dropLists.find(function(n){return n.id===t}):t});e._group&&e._group._items.forEach(function(n){-1===i.indexOf(n)&&i.push(n)}),t.lockAxis=e.lockAxis,t.connectedTo(i.filter(function(n){return n&&n!==e}).map(function(n){return n._dropListRef})).withOrientation(e.orientation)})},n.prototype._handleEvents=function(n){var t=this;n.beforeStarted.subscribe(function(){t._changeDetectorRef.markForCheck()}),n.entered.subscribe(function(n){t.entered.emit({container:t,item:n.item.data})}),n.exited.subscribe(function(n){t.exited.emit({container:t,item:n.item.data})}),n.sorted.subscribe(function(n){t.sorted.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,container:t,item:n.item.data})}),n.dropped.subscribe(function(n){t.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,item:n.item.data,isPointerOverContainer:n.isPointerOverContainer}),t._changeDetectorRef.markForCheck()})},n._dropLists=[],n}(),xt=function(){return function(){}}(),St=function(){function n(n,t){this.store=n,this.periodService=t,this.closeInfo=new l.EventEmitter,this.subscription=new nn.a}return n.prototype.ngOnInit=function(){var n=this;this.subscription=this.periodService.getPeriodStore().subscribe(function(t){n.activeSplitSet=t.period.split_sets.find(function(t){return t.id===n.splitSetId}),n.activeSplitSet&&(n.activeSplit=n.activeSplitSet.splits.find(function(t){return t.id===n.splitId}))})},n.prototype.onCloseInfo=function(){this.closeInfo.emit(this.periodScaleItemId)},n.prototype.onChangeSplitDate=function(n){this.periodService.changeSplitDate(this.activeSplitSet,this.activeSplit,this.splitId,n)},n.prototype.onDeleteClick=function(){this.periodService.deleteSplit(this.activeSplitSet,this.splitId)},n.prototype.onCopyClick=function(){var n=this,t=this.activeSplitSet.splits.indexOf(this.activeSplitSet.splits.find(function(t){return t.id===n.splitId})),e=this.activeSplitSet.splits[t];this.activeSplitSet.splits.splice(t,0,{name:e.name,date_from:f(e.date_to,"DD-MM-YYYY").add(1,"days").toDate(),date_to:f(e.date_to,"DD-MM-YYYY").add(1+e.duration,"days").toDate(),id:this.activeSplitSet.splits.slice(-1).pop().id+1,duration:e.duration}),this.activeSplitSet.splits.map(function(e){if(n.activeSplitSet.splits.indexOf(e)>t+1){var l=n.activeSplitSet.splits[n.activeSplitSet.splits.indexOf(e)-1];e.date_from=f(l.date_to,"DD-MM-YYYY").add(1,"days").toDate(),e.date_from=f(l.date_to,"DD-MM-YYYY").add(1+e.duration,"days").toDate()}}),this.periodService.updateSplitSet(this.activeSplitSet)},n.prototype.onChangeSplitDuration=function(){this.periodService.changeSplitDuration(this.activeSplitSet,this.splitId)},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n}(),wt=l["\u0275crt"]({encapsulation:0,styles:[['.app-period-split-settings[_ngcontent-%COMP%]{width:310px;height:95px;border-radius:5px;background-color:#50597a}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:35px;padding:10px 10px 10px 15px;border-radius:5px 5px 0 0;color:#fff;background-color:#36405f}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__header[_ngcontent-%COMP%]   .app-period-split-settings__header--text[_ngcontent-%COMP%]{font:800 11px/15px NunitoSans-Bold;text-transform:uppercase}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__header[_ngcontent-%COMP%]   .app-period-split-settings__header--cross[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]{display:flex;padding:10px 15px}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__col[_ngcontent-%COMP%]{width:57px}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__col--duration[_ngcontent-%COMP%]{width:63px}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__col--duration[_ngcontent-%COMP%]   .app-period-split-settings__duration[_ngcontent-%COMP%]{display:flex}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__col--duration[_ngcontent-%COMP%]   .app-period-split-settings__duration[_ngcontent-%COMP%]   .app-period-split-settings__duration--field[_ngcontent-%COMP%]{width:41px;height:22px;padding:5px;border:1px solid #b6b6b6;border-radius:3px;font-size:12px}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__col--duration[_ngcontent-%COMP%]   .app-period-split-settings__duration[_ngcontent-%COMP%]   .app-period-split-settings__duration--text[_ngcontent-%COMP%]{margin:auto 0 auto 5px;font-size:12px;line-height:15px;color:#fff}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__cols[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:222px;padding:0 15px 0 0;position:relative}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__cols[_ngcontent-%COMP%]   .app-period-split-settings__col--text[_ngcontent-%COMP%]{margin:0 0 4px;font:400 9px/11px NunitoSans-Bold;color:#fff;text-transform:uppercase}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__cols[_ngcontent-%COMP%]   .app-period-split-settings__duration[_ngcontent-%COMP%]{display:flex}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__cols[_ngcontent-%COMP%]:after{position:absolute;content:"";width:1px;height:32px;top:9px;right:1px;background-color:#ebeeff}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__buttons[_ngcontent-%COMP%]{display:flex;flex-grow:1;justify-content:space-between;align-items:center;padding:0 0 0 15px;color:#fff}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__buttons-ico[_ngcontent-%COMP%]{font-size:12px}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__buttons-ico[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7}']],data:{}});function Dt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,38,"div",[["class","app-period-split-settings"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,3,"div",[["class","app-period-split-settings__header"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"h3",[["class","app-period-split-settings__header--text"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Split Settings"])),(n()(),l["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-times app-period-split-settings__header--cross"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onCloseInfo()&&l),l},null,null)),(n()(),l["\u0275eld"](5,0,null,null,33,"div",[["class","app-period-split-settings__content"]],null,null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,29,"div",[["class","app-period-split-settings__cols"]],null,null,null,null,null)),(n()(),l["\u0275eld"](7,0,null,null,7,"div",[["class","app-period-split-settings__col"]],null,null,null,null,null)),(n()(),l["\u0275eld"](8,0,null,null,1,"p",[["class","app-period-split-settings__col--text"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Starts"])),(n()(),l["\u0275eld"](10,0,null,null,4,"app-datepicker-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,t,e){var l=!0,i=n.component;return"ngModelChange"===t&&(l=!1!==(i.activeSplit.date_from=e)&&l),"ngModelChange"===t&&(l=!1!==i.onChangeSplitDate("dateFrom")&&l),l},_n.b,_n.a)),l["\u0275did"](11,671744,null,0,cn.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,cn.q,null,[cn.u]),l["\u0275did"](13,16384,null,0,cn.r,[[4,cn.q]],null,null),l["\u0275did"](14,114688,null,0,fn.a,[[6,cn.q]],{isInvalid:[0,"isInvalid"],width:[1,"width"],dateInputFormat:[2,"dateInputFormat"],style:[3,"style"]},null),(n()(),l["\u0275eld"](15,0,null,null,12,"div",[["class","app-period-split-settings__col--duration"]],null,null,null,null,null)),(n()(),l["\u0275eld"](16,0,null,null,1,"p",[["class","app-period-split-settings__col--text"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Duration"])),(n()(),l["\u0275eld"](18,0,null,null,9,"div",[["class","app-period-split-settings__duration"]],null,null,null,null,null)),(n()(),l["\u0275eld"](19,0,[["input",1]],null,6,"input",[["class","app-period-split-settings__duration--field"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,t,e){var i=!0,o=n.component;return"input"===t&&(i=!1!==l["\u0275nov"](n,20)._handleInput(e.target.value)&&i),"blur"===t&&(i=!1!==l["\u0275nov"](n,20).onTouched()&&i),"compositionstart"===t&&(i=!1!==l["\u0275nov"](n,20)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l["\u0275nov"](n,20)._compositionEnd(e.target.value)&&i),"change"===t&&(i=!1!==l["\u0275nov"](n,21).onChange(e.target.value)&&i),"input"===t&&(i=!1!==l["\u0275nov"](n,21).onChange(e.target.value)&&i),"blur"===t&&(i=!1!==l["\u0275nov"](n,21).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.activeSplit.duration=e)&&i),"ngModelChange"===t&&(i=!1!==o.onChangeSplitDuration()&&i),i},null,null)),l["\u0275did"](20,16384,null,0,cn.d,[l.Renderer2,l.ElementRef,[2,cn.a]],null,null),l["\u0275did"](21,16384,null,0,cn.w,[l.Renderer2,l.ElementRef],null,null),l["\u0275prd"](1024,null,cn.p,function(n,t){return[n,t]},[cn.d,cn.w]),l["\u0275did"](23,671744,null,0,cn.u,[[8,null],[8,null],[8,null],[6,cn.p]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,cn.q,null,[cn.u]),l["\u0275did"](25,16384,null,0,cn.r,[[4,cn.q]],null,null),(n()(),l["\u0275eld"](26,0,null,null,1,"div",[["class","app-period-split-settings__duration--text"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["days"])),(n()(),l["\u0275eld"](28,0,null,null,7,"div",[["class","app-period-split-settings__col"]],null,null,null,null,null)),(n()(),l["\u0275eld"](29,0,null,null,1,"p",[["class","app-period-split-settings__col--text"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Ends"])),(n()(),l["\u0275eld"](31,0,null,null,4,"app-datepicker-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,t,e){var l=!0,i=n.component;return"ngModelChange"===t&&(l=!1!==(i.activeSplit.date_to=e)&&l),"ngModelChange"===t&&(l=!1!==i.onChangeSplitDate("dateTo")&&l),l},_n.b,_n.a)),l["\u0275did"](32,671744,null,0,cn.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,cn.q,null,[cn.u]),l["\u0275did"](34,16384,null,0,cn.r,[[4,cn.q]],null,null),l["\u0275did"](35,114688,null,0,fn.a,[[6,cn.q]],{isInvalid:[0,"isInvalid"],width:[1,"width"],dateInputFormat:[2,"dateInputFormat"],style:[3,"style"]},null),(n()(),l["\u0275eld"](36,0,null,null,2,"div",[["class","app-period-split-settings__buttons"]],null,null,null,null,null)),(n()(),l["\u0275eld"](37,0,null,null,0,"i",[["class","fas fa-trash app-period-split-settings__buttons-ico"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onDeleteClick()&&l),l},null,null)),(n()(),l["\u0275eld"](38,0,null,null,0,"i",[["class","fas fa-copy app-period-split-settings__buttons-ico"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onCopyClick()&&l),l},null,null))],function(n,t){var e=t.component;n(t,11,0,e.activeSplit.date_from),n(t,14,0,e.activeSplit.date_from>e.activeSplit.date_to,"57px","MM/DD","short"),n(t,23,0,e.activeSplit.duration),n(t,32,0,e.activeSplit.date_to),n(t,35,0,e.activeSplit.date_from>e.activeSplit.date_to,"57px","MM/DD","short")},function(n,t){n(t,10,0,l["\u0275nov"](t,13).ngClassUntouched,l["\u0275nov"](t,13).ngClassTouched,l["\u0275nov"](t,13).ngClassPristine,l["\u0275nov"](t,13).ngClassDirty,l["\u0275nov"](t,13).ngClassValid,l["\u0275nov"](t,13).ngClassInvalid,l["\u0275nov"](t,13).ngClassPending),n(t,19,0,l["\u0275nov"](t,25).ngClassUntouched,l["\u0275nov"](t,25).ngClassTouched,l["\u0275nov"](t,25).ngClassPristine,l["\u0275nov"](t,25).ngClassDirty,l["\u0275nov"](t,25).ngClassValid,l["\u0275nov"](t,25).ngClassInvalid,l["\u0275nov"](t,25).ngClassPending),n(t,31,0,l["\u0275nov"](t,34).ngClassUntouched,l["\u0275nov"](t,34).ngClassTouched,l["\u0275nov"](t,34).ngClassPristine,l["\u0275nov"](t,34).ngClassDirty,l["\u0275nov"](t,34).ngClassValid,l["\u0275nov"](t,34).ngClassInvalid,l["\u0275nov"](t,34).ngClassPending)})}var It=new l.InjectionToken("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(l.inject)(r.DOCUMENT)}}),Rt=function(){function n(n){if(this.value="ltr",this.change=new l.EventEmitter,n){var t=(n.body?n.body.dir:null)||(n.documentElement?n.documentElement.dir:null);this.value="ltr"===t||"rtl"===t?t:"ltr"}}return n.prototype.ngOnDestroy=function(){this.change.complete()},n.ngInjectableDef=Object(l.defineInjectable)({factory:function(){return new n(Object(l.inject)(It,8))},token:n,providedIn:"root"}),n}(),Et=function(){function n(){this.closeError=new l.EventEmitter}return n.prototype.ngOnInit=function(){var n=this;setTimeout(function(){n.closeError.emit()},3e3)},n.prototype.onCloseError=function(){this.closeError.emit()},n.prototype.isString=function(n){return"string"==typeof n},n}(),kt=l["\u0275crt"]({encapsulation:0,styles:[[".app-period-error[_ngcontent-%COMP%]{width:317px;min-height:65px;position:relative;z-index:2;display:flex;padding:15px 0;background-color:#36405f;border-radius:5px;border-left:5px solid #e65757}.app-period-error[_ngcontent-%COMP%]   .app-period-error__sign[_ngcontent-%COMP%]{width:31px;padding:3px 12px}.app-period-error[_ngcontent-%COMP%]   .app-period-error__sign[_ngcontent-%COMP%]   .app-period-error__sign--ico[_ngcontent-%COMP%]{color:#e65757}.app-period-error[_ngcontent-%COMP%]   .app-period-error__header[_ngcontent-%COMP%]{color:#e65757;text-transform:uppercase}.app-period-error[_ngcontent-%COMP%]   .app-period-error__error[_ngcontent-%COMP%]{padding:0 27px 0 0;color:#fff}.app-period-error[_ngcontent-%COMP%]   .app-period-error__cross[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;width:16px;height:16px}.app-period-error[_ngcontent-%COMP%]   .app-period-error__cross[_ngcontent-%COMP%]   .app-period-error__cross--ico[_ngcontent-%COMP%]{color:#fff}.app-period-error[_ngcontent-%COMP%]   .app-period-error__cross[_ngcontent-%COMP%]:hover{cursor:pointer}"]],data:{animation:[{type:7,name:"fadeAnimation",definitions:[{type:0,name:"in",styles:{type:6,styles:{opacity:1,offset:0},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:4,styles:{type:6,styles:{opacity:0,offset:1},offset:null},timings:3200}],options:null}],options:{}}]}});function Tt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,[" "," "]))],null,function(n,t){n(t,1,0,t.component.errors)})}function Nt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,[" "," "]))],null,function(n,t){n(t,1,0,t.context.$implicit)})}function Yt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Nt)),l["\u0275did"](2,278528,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,2,0,t.component.errors)},null)}function Ft(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,11,"div",[["class","app-period-error"]],[[24,"@fadeAnimation",0]],null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"div",[["class","app-period-error__sign"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-exclamation app-period-error__sign--ico"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,1,"div",[["class","app-period-error__header"]],null,null,null,null,null)),(n()(),l["\u0275ted"](4,null,["",""])),(n()(),l["\u0275eld"](5,0,null,null,4,"div",[["class","app-period-error__error"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Tt)),l["\u0275did"](7,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Yt)),l["\u0275did"](9,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](10,0,null,null,1,"div",[["class","app-period-error__cross"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onCloseError()&&l),l},null,null)),(n()(),l["\u0275eld"](11,0,null,null,0,"i",[["class","fa fa-times app-period-error__cross--ico"]],null,null,null,null,null))],function(n,t){var e=t.component;n(t,7,0,e.isString(e.errors)),n(t,9,0,!e.isString(e.errors))},function(n,t){var e=t.component;n(t,0,0,"leave"),n(t,4,0,e.header)})}var jt=e("zC7G"),Vt=function(){function n(n){this.ngControl=n,this.value="",this.inputStyle=null,this.inputColor=null,this.onChangeField=new l.EventEmitter,this.ngControl&&(this.ngControl.valueAccessor=this)}return n.prototype.ngOnInit=function(){},n.prototype.writeValue=function(n){this.value=n},n.prototype.setDisabledState=function(n){this.disabled=n},n.prototype.registerOnChange=function(n){this.onChange=n},n.prototype.registerOnTouched=function(n){this.onTouched=n},n.prototype.onChange=function(n){return this.onChangeField.emit({fieldValue:n,type:"input"}),n},n.prototype.onTouched=function(){},n.prototype.onPenClick=function(){this.input.nativeElement.focus()},n}(),At=l["\u0275crt"]({encapsulation:0,styles:[[".app-input-editable-field[_ngcontent-%COMP%]{width:auto;height:14px;position:relative;display:flex;justify-content:center;padding:0;margin:auto;border:none;border-radius:0;color:#fff}.app-input-editable-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;height:14px;font-size:12px}.app-input-editable-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.app-input-editable-field[_ngcontent-%COMP%]   input.app-input-field__value[_ngcontent-%COMP%]{padding-top:10px}.app-input-editable-field[_ngcontent-%COMP%]   .app-input-editable-field__ico[_ngcontent-%COMP%]{width:9px;height:9px;margin:auto 0;color:#fff;font-size:9px}.app-input-editable-field[_ngcontent-%COMP%]   .app-input-editable-field__input[_ngcontent-%COMP%]{color:#fff;background-color:#36405f}.app-input-editable-field.app-input-editable-field__header[_ngcontent-%COMP%]{justify-content:left;color:#000}.app-input-editable-field.app-input-editable-field__header[_ngcontent-%COMP%]   .app-input-editable-field__input[_ngcontent-%COMP%]{min-width:10px;padding:5px 0 0;margin:0 5px 0 0;color:#000;background-color:#fff;font:11px/15px NunitoSans-Bold}.app-input-editable-field.app-input-editable-field__header[_ngcontent-%COMP%]   .app-input-editable-field__ico[_ngcontent-%COMP%]{width:12px;height:12px;margin:auto 0;color:grey;font-size:12px}"]],data:{}});function Lt(n){return l["\u0275vid"](0,[l["\u0275qud"](402653184,1,{input:0}),(n()(),l["\u0275eld"](1,0,null,null,14,"div",[["class","app-input-editable-field"]],null,null,null,null,null)),l["\u0275prd"](512,null,r["\u0275NgClassImpl"],r["\u0275NgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["\u0275did"](3,278528,null,0,r.NgClass,[r["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](4,{"app-input-editable-field__header":0}),(n()(),l["\u0275eld"](5,0,[[1,0],["input",1]],null,9,"input",[["AutoSizeInput",""],["class","form-control app-input-editable-field__input"]],[[8,"value",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var i=!0,o=n.component;return"input"===t&&(i=!1!==l["\u0275nov"](n,9)._handleInput(e.target.value)&&i),"blur"===t&&(i=!1!==l["\u0275nov"](n,9).onTouched()&&i),"compositionstart"===t&&(i=!1!==l["\u0275nov"](n,9)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l["\u0275nov"](n,9)._compositionEnd(e.target.value)&&i),"input"===t&&(i=!1!==l["\u0275nov"](n,14).onInput(e.target)&&i),"ngModelChange"===t&&(i=!1!==(o.value=e)&&i),"input"===t&&(i=!1!==o.onChange(e.target.value)&&i),"blur"===t&&(i=!1!==o.onTouched()&&i),i},null,null)),l["\u0275prd"](512,null,r["\u0275NgStyleImpl"],r["\u0275NgStyleR2Impl"],[l.ElementRef,l.KeyValueDiffers,l.Renderer2]),l["\u0275did"](7,278528,null,0,r.NgStyle,[r["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](8,{color:0}),l["\u0275did"](9,16384,null,0,cn.d,[l.Renderer2,l.ElementRef,[2,cn.a]],null,null),l["\u0275prd"](1024,null,cn.p,function(n){return[n]},[cn.d]),l["\u0275did"](11,671744,null,0,cn.u,[[8,null],[8,null],[8,null],[6,cn.p]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,cn.q,null,[cn.u]),l["\u0275did"](13,16384,null,0,cn.r,[[4,cn.q]],null,null),l["\u0275did"](14,2637824,null,0,jt.AutoSizeInputDirective,[l.ElementRef],null,null),(n()(),l["\u0275eld"](15,0,null,null,0,"i",[["class","fas fa-pen app-input-editable-field__ico"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onPenClick()&&l),l},null,null))],function(n,t){var e=t.component,l=n(t,4,0,"header"===e.inputStyle);n(t,3,0,"app-input-editable-field",l);var i=n(t,8,0,e.inputColor);n(t,7,0,i),n(t,11,0,e.value)},function(n,t){n(t,5,0,t.component.value,l["\u0275nov"](t,13).ngClassUntouched,l["\u0275nov"](t,13).ngClassTouched,l["\u0275nov"](t,13).ngClassPristine,l["\u0275nov"](t,13).ngClassDirty,l["\u0275nov"](t,13).ngClassValid,l["\u0275nov"](t,13).ngClassInvalid,l["\u0275nov"](t,13).ngClassPending)})}var qt=function(){function n(n,t){this.store=n,this.periodService=t,this.subscription=new nn.a}return n.prototype.ngOnInit=function(){var n=this;this.subscription=this.periodService.getPeriodStore().subscribe(function(t){n.periodSplitSet=t.period.split_sets,n.activePeriodSet=t.period.split_sets.find(function(t){return t.id===n.splitSetId}),n.activePeriodSet&&n.activePeriodSet.splits&&n.initScale(),n.savePeriodError=t.savePeriodError}),this.periodScale={width:6*this.getSplitSetLength(),length:this.getSplitSetLength(),items:[]},this.initScale()},n.prototype.getSplitSetLength=function(){return this.activePeriodSet&&this.activePeriodSet.splits&&this.activePeriodSet.splits.length?this.activePeriodSet.splits.reduce(function(n,t){return n+t.duration},0):0},n.prototype.initScale=function(){var n=this,t=this.getSplitSetLength();this.periodScale={width:6*t,length:t,items:[]},this.activePeriodSet.splits.map(function(t){for(var e=0;e<t.duration;e++)n.periodScale.items.push({isExtreme:e===t.duration-1,extremeDate:e===t.duration-1?f(t.date_to,"DD-MM-YYYY").format("MM/DD"):null,label:2===e?t.name:null,splitId:t.id,slitDuration:2===e?t.duration:null,isPen:e===t.duration-5,isInfoOpen:!1,isLabelEdit:!1})})},n.prototype.dropItem=function(n){this.activePeriodSet.splits.map(n.currentIndex<n.previousIndex?function(t){t.id===parseInt(n.item.element.nativeElement.id,10)?(t.date_to=f(t.date_to,"DD-MM-YYYY").subtract(n.currentIndex-n.previousIndex,"days").toDate(),t.duration=t.duration-(n.previousIndex-n.currentIndex)):t.id===parseInt(n.item.element.nativeElement.id,10)+1&&(t.date_from=f(t.date_from,"DD-MM-YYYY").subtract(n.currentIndex-n.previousIndex,"days").toDate(),t.duration=t.duration+(n.previousIndex-n.currentIndex))}:function(t){t.id===parseInt(n.item.element.nativeElement.id,10)?(t.date_to=f(t.date_to,"DD-MM-YYYY").add(n.currentIndex-n.previousIndex,"days").toDate(),t.duration=t.duration+(n.currentIndex-n.previousIndex)):t.id===parseInt(n.item.element.nativeElement.id,10)+1&&(t.date_from=f(t.date_from,"DD-MM-YYYY").add(n.currentIndex-n.previousIndex,"days").toDate(),t.duration=t.duration-(n.currentIndex-n.previousIndex))}),this.periodService.updateSplitSet(this.activePeriodSet)},n.prototype.getColor=function(){return this.viewId%2==0?"#C87F13":"#1079C4"},n.prototype.onChangeSplitName=function(n,t){this.periodService.setSplitName(this.activePeriodSet,n,t)},n.prototype.onCreateSplit=function(){this.periodService.createSplit(this.activePeriodSet)},n.prototype.onPenClick=function(n){var t=this.periodScale.items[n].splitId;this.periodScale.items[n].isInfoOpen=!this.periodScale.items[n].isInfoOpen,this.periodScale.items.map(function(n){n.splitId===t&&(n.isLabelEdit=!n.isLabelEdit)})},n.prototype.onCloseInfo=function(n){var t=this.periodScale.items[n].splitId;this.periodScale.items[n].isInfoOpen=!1,this.periodScale.items.map(function(n){n.splitId===t&&(n.isLabelEdit=!1)})},n.prototype.getWidth=function(n){return 8*n.length+"px"},n.prototype.getIndex=function(n){return!n.isInfoOpen&&(n.isPen||n.isExtreme||n.label)?2:n.isInfoOpen?3:0},n.prototype.onCloseSplitSetError=function(){this.activePeriodSet.error.isBarErrorOpen=!1,this.periodService.updateSplitSet(this.activePeriodSet)},n.prototype.hasShownSplitSetError=function(n){return n.error&&n.error.text&&n.error.text.length&&n.error.isBarErrorOpen},n.prototype.onCloseSavePeriodError=function(){this.store.dispatch(new y({text:this.savePeriodError.text,isOpen:!1}))},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n}(),$t=l["\u0275crt"]({encapsulation:0,styles:[['.app-period-split-bar[_ngcontent-%COMP%]{display:flex;padding:0 15px 5px;background-color:#fff;position:relative}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__header[_ngcontent-%COMP%]{min-width:115px;max-width:115px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]{display:flex;width:100%;max-width:853px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale[_ngcontent-%COMP%]{display:flex;position:relative;overflow:visible;min-width:100px;max-width:1003px;height:65px;padding:10px 10px 15px 0}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale[_ngcontent-%COMP%]   .app-period-split-bar__scale--label[_ngcontent-%COMP%]{position:absolute;z-index:1;overflow:hidden}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__add_split[_ngcontent-%COMP%]{flex-grow:2;height:19px;width:19px;margin:5px 0 0;cursor:pointer;color:#4350a2;background-color:#ebeeff;border:1px dashed #4350a2;text-align:center;vertical-align:middle}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__add_split[_ngcontent-%COMP%]   .app-period-split-bar__add_split--ico[_ngcontent-%COMP%]{font-size:14px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__add_split.app-period-split-bar__add_split--error[_ngcontent-%COMP%]{background-color:#fff3f3;border:1px dashed #e65757}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--cell[_ngcontent-%COMP%]{width:6px;height:14px;position:relative}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--cell[_ngcontent-%COMP%]   .app-period-split-bar--date[_ngcontent-%COMP%]{position:absolute;bottom:-14px;left:-8px;height:10px;font-size:10px;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--cell[_ngcontent-%COMP%]   .app-period-split-bar--input[_ngcontent-%COMP%]{position:absolute;top:2px;height:10px;font-size:10px;line-height:13px;border:none;border-radius:5px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar--label[_ngcontent-%COMP%]{position:absolute;height:14px;z-index:1;font-size:10px;line-height:15px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar--label--yellow[_ngcontent-%COMP%]{color:#c87f13}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar--label--blue[_ngcontent-%COMP%]{color:#1079c4}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--cell[_ngcontent-%COMP%]::before{content:"";position:absolute;top:-7px;height:4px;width:4px;background-color:#c87f13}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__cell--selected[_ngcontent-%COMP%]{width:5.5px;height:14px;background-color:#a4a8be}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--yellow[_ngcontent-%COMP%]{background-color:#fbe2bc}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--yellow[_ngcontent-%COMP%]::before{background-color:#c87f13}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--blue[_ngcontent-%COMP%]{background-color:#def1ff}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--blue[_ngcontent-%COMP%]::before{background-color:#1079c4}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__add[_ngcontent-%COMP%]{width:100%;max-width:853px;height:23px;margin:0 0 20px;cursor:pointer;font:12px/23px NunitoSans-Bold;color:#4350a2;background-color:#ebeeff;border:1px dashed #4350a2;text-align:center}.app-period-split-bar[_ngcontent-%COMP%]   .cdk-drag-placeholder[_ngcontent-%COMP%]   .app-period-split-bar--date[_ngcontent-%COMP%]{display:none}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__ico[_ngcontent-%COMP%]{font-size:10px;position:absolute;top:2px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__ico[_ngcontent-%COMP%]:hover{cursor:pointer}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__settings[_ngcontent-%COMP%]{position:absolute;top:18px;right:-30px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__error[_ngcontent-%COMP%]{position:absolute;top:30px;right:0}.cdk-drag-preview[_ngcontent-%COMP%]{color:red}.cdk-drag-preview[_ngcontent-%COMP%]   .app-period-split-bar--date[_ngcontent-%COMP%]{display:none}']],data:{}});function zt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","app-period-split-bar--date"]],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,["",""]))],null,function(n,t){n(t,1,0,t.parent.context.$implicit.extremeDate)})}function Bt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"app-carets",[["cdkDragHandle",""],["class","app-period-bar__cell--extreme cdk-drag-handle"]],null,null,null,yn,Mn)),l["\u0275did"](1,147456,[[2,4]],0,bt,[l.ElementRef,[2,mt]],null,null),l["\u0275did"](2,114688,null,0,On,[],null,null)],function(n,t){n(t,2,0)},null)}function Ut(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,7,"div",[["class","app-period-split-bar--label"]],null,null,null,null,null)),l["\u0275prd"](512,null,r["\u0275NgClassImpl"],r["\u0275NgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["\u0275did"](2,278528,null,0,r.NgClass,[r["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](3,{"app-period-split-bar--label--yellow":0,"app-period-split-bar--label--blue":1}),l["\u0275prd"](512,null,r["\u0275NgStyleImpl"],r["\u0275NgStyleR2Impl"],[l.ElementRef,l.KeyValueDiffers,l.Renderer2]),l["\u0275did"](5,278528,null,0,r.NgStyle,[r["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](6,{width:0}),(n()(),l["\u0275ted"](7,null,[" ",""]))],function(n,t){var e=t.component,l=n(t,3,0,e.viewId%2==0,e.viewId%2==1);n(t,2,0,"app-period-split-bar--label",l);var i=n(t,6,0,e.getWidth(t.parent.context.$implicit.label));n(t,5,0,i)},function(n,t){n(t,7,0,t.parent.context.$implicit.label)})}function Ht(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,8,"input",[["class","app-period-split-bar--input"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var i=!0,o=n.component;return"input"===t&&(i=!1!==l["\u0275nov"](n,4)._handleInput(e.target.value)&&i),"blur"===t&&(i=!1!==l["\u0275nov"](n,4).onTouched()&&i),"compositionstart"===t&&(i=!1!==l["\u0275nov"](n,4)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l["\u0275nov"](n,4)._compositionEnd(e.target.value)&&i),"ngModelChange"===t&&(i=!1!==(n.parent.context.$implicit.label=e)&&i),"ngModelChange"===t&&(i=!1!==o.onChangeSplitName(e,n.parent.context.$implicit.splitId)&&i),i},null,null)),l["\u0275prd"](512,null,r["\u0275NgStyleImpl"],r["\u0275NgStyleR2Impl"],[l.ElementRef,l.KeyValueDiffers,l.Renderer2]),l["\u0275did"](2,278528,null,0,r.NgStyle,[r["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](3,{width:0}),l["\u0275did"](4,16384,null,0,cn.d,[l.Renderer2,l.ElementRef,[2,cn.a]],null,null),l["\u0275prd"](1024,null,cn.p,function(n){return[n]},[cn.d]),l["\u0275did"](6,671744,null,0,cn.u,[[8,null],[8,null],[8,null],[6,cn.p]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,cn.q,null,[cn.u]),l["\u0275did"](8,16384,null,0,cn.r,[[4,cn.q]],null,null)],function(n,t){var e=n(t,3,0,t.component.getWidth(t.parent.context.$implicit.label));n(t,2,0,e),n(t,6,0,t.parent.context.$implicit.label)},function(n,t){n(t,0,0,l["\u0275nov"](t,8).ngClassUntouched,l["\u0275nov"](t,8).ngClassTouched,l["\u0275nov"](t,8).ngClassPristine,l["\u0275nov"](t,8).ngClassDirty,l["\u0275nov"](t,8).ngClassValid,l["\u0275nov"](t,8).ngClassInvalid,l["\u0275nov"](t,8).ngClassPending)})}function Gt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"i",[["class","fas fa-pen app-period-split-bar__ico"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onPenClick(n.parent.context.index)&&l),l},null,null)),l["\u0275prd"](512,null,r["\u0275NgStyleImpl"],r["\u0275NgStyleR2Impl"],[l.ElementRef,l.KeyValueDiffers,l.Renderer2]),l["\u0275did"](2,278528,null,0,r.NgStyle,[r["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](3,{color:0})],function(n,t){var e=n(t,3,0,t.component.getColor());n(t,2,0,e)},null)}function Kt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-split-bar__settings"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"app-period-split-settings",[],null,[[null,"closeInfo"]],function(n,t,e){var l=!0;return"closeInfo"===t&&(l=!1!==n.component.onCloseInfo(e)&&l),l},Dt,wt)),l["\u0275did"](2,245760,null,0,St,[j.n,Y],{splitSetId:[0,"splitSetId"],splitId:[1,"splitId"],periodScaleItemId:[2,"periodScaleItemId"]},{closeInfo:"closeInfo"})],function(n,t){n(t,2,0,t.component.splitSetId,t.parent.context.$implicit.splitId,t.parent.context.index)},null)}function Zt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,16777216,null,null,23,"div",[["cdkDrag",""],["cdkDragBoundary",".app-period-bar__scale"],["cdkDragLockAxis","x"],["class","app-period-split-bar__scale--cell cdk-drag"]],[[8,"id",0],[2,"cdk-drag-disabled",null],[2,"cdk-drag-dragging",null]],null,null,null,null)),l["\u0275prd"](6144,null,mt,null,[Ct]),l["\u0275did"](2,4866048,[[1,4]],3,Ct,[l.ElementRef,[3,ht],r.DOCUMENT,l.NgZone,l.ViewContainerRef,Un,gt,vt,[2,Rt],ft,l.ChangeDetectorRef],{lockAxis:[0,"lockAxis"],boundaryElementSelector:[1,"boundaryElementSelector"],disabled:[2,"disabled"]},null),l["\u0275qud"](603979776,2,{_handles:1}),l["\u0275qud"](335544320,3,{_previewTemplate:0}),l["\u0275qud"](335544320,4,{_placeholderTemplate:0}),l["\u0275prd"](512,null,r["\u0275NgClassImpl"],r["\u0275NgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["\u0275did"](7,278528,null,0,r.NgClass,[r["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](8,{"app-period-split-bar__scale--yellow":0,"app-period-split-bar__scale--blue":1}),l["\u0275prd"](512,null,r["\u0275NgStyleImpl"],r["\u0275NgStyleR2Impl"],[l.ElementRef,l.KeyValueDiffers,l.Renderer2]),l["\u0275did"](10,278528,null,0,r.NgStyle,[r["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](11,{"z-index":0}),(n()(),l["\u0275and"](16777216,null,null,1,null,zt)),l["\u0275did"](13,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Bt)),l["\u0275did"](15,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Ut)),l["\u0275did"](17,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Ht)),l["\u0275did"](19,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Gt)),l["\u0275did"](21,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Kt)),l["\u0275did"](23,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](0,null,null,0))],function(n,t){var e=t.component;n(t,2,0,"x",".app-period-bar__scale",!t.context.$implicit.isExtreme);var l=n(t,8,0,e.viewId%2==0,e.viewId%2==1);n(t,7,0,"app-period-split-bar__scale--cell",l);var i=n(t,11,0,e.getIndex(t.context.$implicit));n(t,10,0,i),n(t,13,0,t.context.$implicit.extremeDate),n(t,15,0,t.context.$implicit.isExtreme),n(t,17,0,t.context.$implicit.label&&t.context.$implicit.slitDuration>10&&!t.context.$implicit.isLabelEdit),n(t,19,0,t.context.$implicit.label&&t.context.$implicit.slitDuration>10&&t.context.$implicit.isLabelEdit),n(t,21,0,t.context.$implicit.isPen),n(t,23,0,t.context.$implicit.isInfoOpen)},function(n,t){n(t,0,0,l["\u0275inlineInterpolate"](1,"",t.context.$implicit.splitId,""),l["\u0275nov"](t,2).disabled,l["\u0275nov"](t,2)._dragRef.isDragging())})}function Wt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,12,"div",[["class","app-period-split-bar__splitset"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,6,"div",[["cdkDropList",""],["cdkDropListOrientation","horizontal"],["class","app-period-split-bar__scale cdk-drop-list"]],[[8,"id",0],[2,"cdk-drop-list-disabled",null],[2,"cdk-drop-list-dragging",null],[2,"cdk-drop-list-receiving",null]],[[null,"cdkDropListDropped"]],function(n,t,e){var l=!0;return"cdkDropListDropped"===t&&(l=!1!==n.component.dropItem(e)&&l),l},null,null)),l["\u0275prd"](6144,null,ht,null,[yt]),l["\u0275did"](3,1196032,null,1,yt,[l.ElementRef,gt,l.ChangeDetectorRef,[2,Rt],[3,Ot],[2,r.DOCUMENT],ft],{orientation:[0,"orientation"]},{dropped:"cdkDropListDropped"}),l["\u0275qud"](603979776,1,{_draggables:1}),l["\u0275prd"](256,null,Ot,void 0,[]),(n()(),l["\u0275and"](16777216,null,null,1,null,Zt)),l["\u0275did"](7,278528,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275eld"](8,0,null,null,4,"div",[["class","app-period-split-bar__add_split"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onCreateSplit()&&l),l},null,null)),l["\u0275prd"](512,null,r["\u0275NgClassImpl"],r["\u0275NgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["\u0275did"](10,278528,null,0,r.NgClass,[r["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](11,{"app-period-split-bar__add_split--error":0}),(n()(),l["\u0275eld"](12,0,null,null,0,"i",[["class","fa fa-plus app-period-split-bar__add_split--ico"]],null,null,null,null,null))],function(n,t){var e=t.component;n(t,3,0,"horizontal"),n(t,7,0,e.periodScale.items);var l=n(t,11,0,e.hasShownSplitSetError(e.activePeriodSet));n(t,10,0,"app-period-split-bar__add_split",l)},function(n,t){n(t,1,0,l["\u0275nov"](t,3).id,l["\u0275nov"](t,3).disabled,l["\u0275nov"](t,3)._dropListRef.isDragging(),l["\u0275nov"](t,3)._dropListRef.isReceiving())})}function Xt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","app-period-split-bar__add"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onCreateSplit()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,[" + Create first split "]))],null,null)}function Jt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-split-bar__error"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"app-period-error",[],null,[[null,"closeError"]],function(n,t,e){var l=!0;return"closeError"===t&&(l=!1!==n.component.onCloseSplitSetError()&&l),l},Ft,kt)),l["\u0275did"](2,114688,null,0,Et,[],{errors:[0,"errors"]},{closeError:"closeError"})],function(n,t){n(t,2,0,t.component.activePeriodSet.error.text)},null)}function Qt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-split-bar__error"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"app-period-error",[],null,[[null,"closeError"]],function(n,t,e){var l=!0;return"closeError"===t&&(l=!1!==n.component.onCloseSavePeriodError()&&l),l},Ft,kt)),l["\u0275did"](2,114688,null,0,Et,[],{errors:[0,"errors"]},{closeError:"closeError"})],function(n,t){n(t,2,0,t.component.savePeriodError.text)},null)}function ne(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,14,"div",[["class","app-period-split-bar"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,5,"div",[["class","app-period-split-bar__header"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,4,"app-input-editable-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,t,e){var l=!0;return"ngModelChange"===t&&(l=!1!==(n.component.activePeriodSet.name=e)&&l),l},Lt,At)),l["\u0275did"](3,671744,null,0,cn.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,cn.q,null,[cn.u]),l["\u0275did"](5,16384,null,0,cn.r,[[4,cn.q]],null,null),l["\u0275did"](6,114688,null,0,Vt,[[6,cn.q]],{inputStyle:[0,"inputStyle"],inputColor:[1,"inputColor"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Wt)),l["\u0275did"](8,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Xt)),l["\u0275did"](10,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Jt)),l["\u0275did"](12,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Qt)),l["\u0275did"](14,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,3,0,e.activePeriodSet.name),n(t,6,0,"header",e.getColor()),n(t,8,0,e.getSplitSetLength()),n(t,10,0,!e.getSplitSetLength()),n(t,12,0,e.hasShownSplitSetError(e.activePeriodSet)),n(t,14,0,e.savePeriodError&&e.savePeriodError.text&&e.savePeriodError.isOpen)},function(n,t){n(t,2,0,l["\u0275nov"](t,5).ngClassUntouched,l["\u0275nov"](t,5).ngClassTouched,l["\u0275nov"](t,5).ngClassPristine,l["\u0275nov"](t,5).ngClassDirty,l["\u0275nov"](t,5).ngClassValid,l["\u0275nov"](t,5).ngClassInvalid,l["\u0275nov"](t,5).ngClassPending)})}var te=e("99Bj"),ee=e("mEqT"),le=function(){function n(n,t,e){this.store=n,this.fb=t,this.periodService=e,this.viewSplits=[],this.periodDuration=0,this.splitUnits=["months","weeks","days","equal parts"],this.sortingParam={name:null,order:null},this.subscription=new nn.a,this.splitSetTableColumns=[{id:"name",title:"SPLIT NAME",sort:!0,search:!0,width:"170px"},{id:"date_from",title:"SPLIT START",sort:!0,dateSearch:!0,width:"170px"},{id:"date_to",title:"SPLIT END",sort:!0,dateSearch:!0,width:"170px"},{id:"duration",title:"DAYS IN SPLIT",sort:!0,search:!0,width:"170px"},{}],this.splitInformationForm=t.group({splitUnit:["months",cn.C.required],splitAmount:[null,cn.C.required],splitDuration:[null,cn.C.required]}),this.viewSplits=[]}return n.prototype.ngOnInit=function(){var n=this;this.subscription=this.periodService.getPeriodStore().subscribe(function(t){n.activeSplitSet=t.period.split_sets.find(function(t){return t.id===n.splitSetId}),n.periodDuration=t.period.duration,n.activeSplitSet&&n.activeSplitSet.splits&&(n.viewSplits=n.getSortedSplits(n.activeSplitSet.splits,n.sortingParam.order,n.sortingParam.name))})},n.prototype.getBkgColor=function(){return this.viewId%2==0?"#FBE2BC":"#DEF1FF"},n.prototype.getRowColor=function(n){return this.hasShownSplitSetError(this.activeSplitSet)?"#FFF3F3":n%2==0?"transparent":"#FAFAFA"},n.prototype.onSortSplits=function(n){this.sortingParam={name:n.id,order:n.order},this.viewSplits=this.getSortedSplits(this.viewSplits,this.sortingParam.order,this.sortingParam.name)},n.prototype.getSortedSplits=function(n,t,e){var l=n.slice();return t&&e&&n&&("DESC"===t?l.sort(function(n,t){return"name"===e?h.a.nameDescCompare(n,t):n[e]>t[e]?1:-1}):"ASC"===t&&l.sort(function(n,t){return"name"===e?h.a.nameAscCompare(n,t):n[e]<t[e]?1:-1})),l},n.prototype.onDeleteClick=function(){this.store.dispatch(new R({index:this.activeSplitSet.id}))},n.prototype.onCreateSplit=function(){var n=this.getUnit(),t=this.splitInformationForm.get("splitAmount").value,e="equal parts"===this.splitInformationForm.get("splitUnit").value?1:this.splitInformationForm.get("splitDuration").value;if(t&&e&&t>0&&e>0){for(var l=0;l<t;l++){var i=this.activeSplitSet.splits[l-1];this.activeSplitSet.splits.push({name:l+1+" split",date_from:i?f(i.date_to,"DD-MM-YYYY").add(1,"days").toDate():new Date,date_to:i?f(i.date_to,"DD-MM-YYYY").add(n*e,"days").toDate():f(new Date,"DD-MM-YYYY").add(n*e,"days").toDate(),id:l+1,duration:"equal parts"===this.splitInformationForm.get("splitUnit").value?n:n*t})}this.periodService.updateSplitSet(this.activeSplitSet)}},n.prototype.onModifySplit=function(){var n=this.getUnit(),t=this.splitInformationForm.get("splitAmount").value,e="equal parts"===this.splitInformationForm.get("splitUnit").value?1:this.splitInformationForm.get("splitDuration").value;if(t&&e&&t>0&&e>0){if(t>=this.activeSplitSet.splits.length)for(var l=0;l<t;l++){var i=this.activeSplitSet.splits[l-1];(o=this.activeSplitSet.splits[l])?(o.date_from=i?f(i.date_to,"DD-MM-YYYY").add(1,"days").toDate():o.date_from,o.date_to=i?f(i.date_to,"DD-MM-YYYY").add(n*e,"days").toDate():f(o.date_from,"DD-MM-YYYY").add(n*e,"days").toDate(),o.duration=n*e):this.activeSplitSet.splits.push({name:l+1+" split",date_from:i?f(i.date_to,"DD-MM-YYYY").add(1,"days").toDate():new Date,date_to:i?f(i.date_to,"DD-MM-YYYY").add(n*t,"days").toDate():f(new Date,"DD-MM-YYYY").add(n*e,"days").toDate(),id:i?i.id+1:0,duration:n*e})}else for(this.activeSplitSet.splits.splice(t,this.activeSplitSet.splits.length),l=0;l<t;l++){var o;i=this.activeSplitSet.splits[l-1],(o=this.activeSplitSet.splits[l])&&(o.date_from=i?f(i.date_to,"DD-MM-YYYY").add(1,"days").toDate():o.date_from,o.date_to=i?f(i.date_to,"DD-MM-YYYY").add(n*e,"days").toDate():f(o.date_from,"DD-MM-YYYY").add(n*e,"days").toDate(),o.duration=n*e)}this.periodService.updateSplitSet(this.activeSplitSet)}},n.prototype.getUnit=function(){return"months"===this.splitInformationForm.get("splitUnit").value?31:"weeks"===this.splitInformationForm.get("splitUnit").value?7:"days"===this.splitInformationForm.get("splitUnit").value?1:"equal parts"===this.splitInformationForm.get("splitUnit").value?Math.ceil(this.periodDuration/this.splitInformationForm.get("splitAmount").value):void 0},n.prototype.onChangeName=function(n,t){this.periodService.setSplitName(this.activeSplitSet,n,t)},n.prototype.onChangeDate=function(n,t){this.periodService.changeSplitDate(this.activeSplitSet,n,n.id,t)},n.prototype.onChangeDuration=function(n){this.periodService.changeSplitDuration(this.activeSplitSet,n)},n.prototype.onSplitCreate=function(){this.periodService.createSplit(this.activeSplitSet)},n.prototype.onDeleteSplit=function(n){this.periodService.deleteSplit(this.activeSplitSet,n)},n.prototype.onSearch=function(n){n.value?"name"===n.name?this.viewSplits=this.viewSplits.filter(function(t){return t[n.name].includes(n.value)}):"duration"===n.name&&n.value?this.viewSplits=this.activeSplitSet.splits.filter(function(t){return parseInt(t[n.name],10)===parseInt(n.value,10)}):n.value&&(this.viewSplits=this.activeSplitSet.splits.filter(function(t){return f(f(t[n.name])).isSame(f(n.value),"day")})):this.viewSplits=this.getSortedSplits(this.activeSplitSet.splits,this.sortingParam.order,this.sortingParam.name)},n.prototype.onCloseSplitSetError=function(){this.activeSplitSet.error.isTableErrorOpen=!1,this.periodService.updateSplitSet(this.activeSplitSet)},n.prototype.hasShownSplitSetError=function(n){return n.error&&n.error.text&&n.error.text.length&&n.error.isTableErrorOpen},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n}(),ie=l["\u0275crt"]({encapsulation:0,styles:[['.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:55px;padding:0 15px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__header[_ngcontent-%COMP%]   .app-period-split-information__header--input[_ngcontent-%COMP%]{width:188px;margin:auto 0}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__header[_ngcontent-%COMP%]   .app-period-split-information__header--icons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:47px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information--cog[_ngcontent-%COMP%], .app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information--trash[_ngcontent-%COMP%]{font-size:14px;margin:auto 0}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information--cog[_ngcontent-%COMP%]:hover, .app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information--trash[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information--trash[_ngcontent-%COMP%]{color:gray}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information--cog[_ngcontent-%COMP%]{color:#4350a2}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:60px;margin:15px 15px 20px;padding:15px;background-color:#f3f3f3}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]   .app-period-split-information__modification--select[_ngcontent-%COMP%]{width:116px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]   .app-period-split-information__modification--input[_ngcontent-%COMP%]{width:50px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]   .app-period-split-information__modification--label[_ngcontent-%COMP%]{margin:auto 0;font-size:12px;line-height:15px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]   .app-period-split-information__modification--field-container[_ngcontent-%COMP%]{display:flex}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]   .app-period-split-information__modification--field-container[_ngcontent-%COMP%]   .app-period-split-information__modification--split-unit[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:space-between;width:194px;padding:0 20px 0 0}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]   .app-period-split-information__modification--field-container[_ngcontent-%COMP%]   .app-period-split-information__modification--split-unit[_ngcontent-%COMP%]::after{content:"";position:absolute;width:1px;right:1px;top:-3px;height:40px;background-color:#cacaca}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]   .app-period-split-information__modification--field-container[_ngcontent-%COMP%]   .app-period-split-information__modification--split-amount[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:133px;padding:0 0 0 20px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]   .app-period-split-information__modification--field-container[_ngcontent-%COMP%]   .app-period-split-information__modification--split-duration[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:155px;padding:0 0 0 10px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]   .app-period-split-information__modification--button[_ngcontent-%COMP%]{width:101px;height:25px;margin:auto 0;font-size:12px;line-height:20px;background-color:#4350a2;color:#fff;border-radius:3px;align-items:center;vertical-align:middle}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]   .app-period-split-information__modification--button[_ngcontent-%COMP%]:hover{background-color:#3a458c}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]{padding:0 15px 25px;position:relative}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]   .app-period-split-information__information--header[_ngcontent-%COMP%]{font:800 13px/15px NunitoSans-Bold;text-transform:uppercase;margin:0 0 10px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]   .app-period-split-information__information--button[_ngcontent-%COMP%]{margin:0 0 0 15px;font:800 13px/15px NunitoSans-Bold;color:#4350a2;background-color:transparent;border-color:transparent}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]   .app-period-split-information__table[_ngcontent-%COMP%]{width:100%;margin:0 0 10px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]   .app-period-split-information__table[_ngcontent-%COMP%]   .app-period-split-information__row[_ngcontent-%COMP%]{height:45px;border-bottom:1px solid #e7e7e7}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]   .app-period-split-information__table[_ngcontent-%COMP%]   .app-period-split-information__row[_ngcontent-%COMP%]   .app-period-split-information__cell[_ngcontent-%COMP%]{width:170px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]   .app-period-split-information__table[_ngcontent-%COMP%]   .app-period-split-information__row[_ngcontent-%COMP%]   .app-period-split-information__cell[_ngcontent-%COMP%]   .app-period-split-information__field[_ngcontent-%COMP%]{padding:6px 3px 6px 10px;width:92px;min-height:25px;max-height:25px;border:1px solid #b6b6b6;border-radius:3px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]   .app-period-split-information__table[_ngcontent-%COMP%]   .app-period-split-information__row[_ngcontent-%COMP%]   .app-period-split-information--trash[_ngcontent-%COMP%]{display:block}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]   .app-period-split-information__table[_ngcontent-%COMP%]   .app-period-split-information__row[_ngcontent-%COMP%]   .app-period-split-information__cell[_ngcontent-%COMP%]:last-of-type{width:auto;height:45px;display:flex;justify-content:flex-end;padding:0 10px 0 0}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]   .app-period-split-information__table[_ngcontent-%COMP%]   .app-period-split-information__row[_ngcontent-%COMP%]   .app-period-split-information__cell[_ngcontent-%COMP%]:nth-child(1){padding:0 0 0 15px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]   .app-period-split-information__error[_ngcontent-%COMP%]{position:absolute;bottom:-10px;right:0}']],data:{}});function oe(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"button",[["class","app-period-split-information__modification--button"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onCreateSplit()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,[" Create Split "]))],null,null)}function re(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"button",[["class","app-period-split-information__modification--button"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onModifySplit()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,[" Modify Split "]))],null,null)}function pe(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,31,"tr",[["class","app-period-split-information__row"]],null,null,null,null,null)),l["\u0275prd"](512,null,r["\u0275NgStyleImpl"],r["\u0275NgStyleR2Impl"],[l.ElementRef,l.KeyValueDiffers,l.Renderer2]),l["\u0275did"](2,278528,null,0,r.NgStyle,[r["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](3,{"background-color":0}),(n()(),l["\u0275eld"](4,0,null,null,5,"td",[["class","app-period-split-information__cell"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,4,"app-input-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,t,e){var l=!0,i=n.component;return"ngModelChange"===t&&(l=!1!==(n.context.$implicit.name=e)&&l),"ngModelChange"===t&&(l=!1!==i.onChangeName(e,n.context.$implicit.id)&&l),l},un.b,un.a)),l["\u0275did"](6,671744,null,0,cn.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,cn.q,null,[cn.u]),l["\u0275did"](8,16384,null,0,cn.r,[[4,cn.q]],null,null),l["\u0275did"](9,114688,null,0,gn.a,[[6,cn.q]],{style:[0,"style"]},null),(n()(),l["\u0275eld"](10,0,null,null,5,"td",[["class","app-period-split-information__cell"]],null,null,null,null,null)),(n()(),l["\u0275eld"](11,0,null,null,4,"app-datepicker-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,t,e){var l=!0,i=n.component;return"ngModelChange"===t&&(l=!1!==(n.context.$implicit.date_from=e)&&l),"ngModelChange"===t&&(l=!1!==i.onChangeDate(n.context.$implicit,"dateFrom")&&l),l},_n.b,_n.a)),l["\u0275did"](12,671744,null,0,cn.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,cn.q,null,[cn.u]),l["\u0275did"](14,16384,null,0,cn.r,[[4,cn.q]],null,null),l["\u0275did"](15,114688,null,0,fn.a,[[6,cn.q]],{width:[0,"width"],dateInputFormat:[1,"dateInputFormat"],style:[2,"style"]},null),(n()(),l["\u0275eld"](16,0,null,null,5,"td",[["class","app-period-split-information__cell"]],null,null,null,null,null)),(n()(),l["\u0275eld"](17,0,null,null,4,"app-datepicker-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,t,e){var l=!0,i=n.component;return"ngModelChange"===t&&(l=!1!==(n.context.$implicit.date_to=e)&&l),"ngModelChange"===t&&(l=!1!==i.onChangeDate(n.context.$implicit,"dateTo")&&l),l},_n.b,_n.a)),l["\u0275did"](18,671744,null,0,cn.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,cn.q,null,[cn.u]),l["\u0275did"](20,16384,null,0,cn.r,[[4,cn.q]],null,null),l["\u0275did"](21,114688,null,0,fn.a,[[6,cn.q]],{width:[0,"width"],dateInputFormat:[1,"dateInputFormat"],style:[2,"style"]},null),(n()(),l["\u0275eld"](22,0,null,null,7,"td",[["class","app-period-split-information__cell"]],null,null,null,null,null)),(n()(),l["\u0275eld"](23,0,null,null,6,"input",[["class","app-period-split-information__field"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,t,e){var i=!0,o=n.component;return"input"===t&&(i=!1!==l["\u0275nov"](n,24)._handleInput(e.target.value)&&i),"blur"===t&&(i=!1!==l["\u0275nov"](n,24).onTouched()&&i),"compositionstart"===t&&(i=!1!==l["\u0275nov"](n,24)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l["\u0275nov"](n,24)._compositionEnd(e.target.value)&&i),"change"===t&&(i=!1!==l["\u0275nov"](n,25).onChange(e.target.value)&&i),"input"===t&&(i=!1!==l["\u0275nov"](n,25).onChange(e.target.value)&&i),"blur"===t&&(i=!1!==l["\u0275nov"](n,25).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(n.context.$implicit.duration=e)&&i),"ngModelChange"===t&&(i=!1!==o.onChangeDuration(n.context.$implicit.id)&&i),i},null,null)),l["\u0275did"](24,16384,null,0,cn.d,[l.Renderer2,l.ElementRef,[2,cn.a]],null,null),l["\u0275did"](25,16384,null,0,cn.w,[l.Renderer2,l.ElementRef],null,null),l["\u0275prd"](1024,null,cn.p,function(n,t){return[n,t]},[cn.d,cn.w]),l["\u0275did"](27,671744,null,0,cn.u,[[8,null],[8,null],[8,null],[6,cn.p]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,cn.q,null,[cn.u]),l["\u0275did"](29,16384,null,0,cn.r,[[4,cn.q]],null,null),(n()(),l["\u0275eld"](30,0,null,null,1,"td",[["class","app-period-split-information__cell"]],null,null,null,null,null)),(n()(),l["\u0275eld"](31,0,null,null,0,"i",[["class","fas fa-trash app-period-split-information--trash"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onDeleteSplit(n.context.$implicit.id)&&l),l},null,null))],function(n,t){var e=n(t,3,0,t.component.getRowColor(t.context.index));n(t,2,0,e),n(t,6,0,t.context.$implicit.name),n(t,9,0,"cell"),n(t,12,0,t.context.$implicit.date_from),n(t,15,0,"92px","MM/DD","cell"),n(t,18,0,t.context.$implicit.date_to),n(t,21,0,"92px","MM/DD","cell"),n(t,27,0,t.context.$implicit.duration)},function(n,t){n(t,5,0,l["\u0275nov"](t,8).ngClassUntouched,l["\u0275nov"](t,8).ngClassTouched,l["\u0275nov"](t,8).ngClassPristine,l["\u0275nov"](t,8).ngClassDirty,l["\u0275nov"](t,8).ngClassValid,l["\u0275nov"](t,8).ngClassInvalid,l["\u0275nov"](t,8).ngClassPending),n(t,11,0,l["\u0275nov"](t,14).ngClassUntouched,l["\u0275nov"](t,14).ngClassTouched,l["\u0275nov"](t,14).ngClassPristine,l["\u0275nov"](t,14).ngClassDirty,l["\u0275nov"](t,14).ngClassValid,l["\u0275nov"](t,14).ngClassInvalid,l["\u0275nov"](t,14).ngClassPending),n(t,17,0,l["\u0275nov"](t,20).ngClassUntouched,l["\u0275nov"](t,20).ngClassTouched,l["\u0275nov"](t,20).ngClassPristine,l["\u0275nov"](t,20).ngClassDirty,l["\u0275nov"](t,20).ngClassValid,l["\u0275nov"](t,20).ngClassInvalid,l["\u0275nov"](t,20).ngClassPending),n(t,23,0,l["\u0275nov"](t,29).ngClassUntouched,l["\u0275nov"](t,29).ngClassTouched,l["\u0275nov"](t,29).ngClassPristine,l["\u0275nov"](t,29).ngClassDirty,l["\u0275nov"](t,29).ngClassValid,l["\u0275nov"](t,29).ngClassInvalid,l["\u0275nov"](t,29).ngClassPending)})}function ae(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"tbody",[],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,pe)),l["\u0275did"](2,278528,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,2,0,t.component.viewSplits)},null)}function de(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-split-information__error"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"app-period-error",[],null,[[null,"closeError"]],function(n,t,e){var l=!0;return"closeError"===t&&(l=!1!==n.component.onCloseSplitSetError()&&l),l},Ft,kt)),l["\u0275did"](2,114688,null,0,Et,[],{errors:[0,"errors"]},{closeError:"closeError"})],function(n,t){n(t,2,0,t.component.activeSplitSet.error.text)},null)}function se(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,62,"div",[["class","app-period-split-information"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,12,"div",[["class","app-period-split-information__header"]],null,null,null,null,null)),l["\u0275prd"](512,null,r["\u0275NgStyleImpl"],r["\u0275NgStyleR2Impl"],[l.ElementRef,l.KeyValueDiffers,l.Renderer2]),l["\u0275did"](3,278528,null,0,r.NgStyle,[r["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](4,{"background-color":0}),(n()(),l["\u0275eld"](5,0,null,null,5,"div",[["class","app-period-split-information__header--input"]],null,null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,4,"app-input-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,t,e){var l=!0;return"ngModelChange"===t&&(l=!1!==(n.component.activeSplitSet.name=e)&&l),l},un.b,un.a)),l["\u0275did"](7,671744,null,0,cn.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,cn.q,null,[cn.u]),l["\u0275did"](9,16384,null,0,cn.r,[[4,cn.q]],null,null),l["\u0275did"](10,114688,null,0,gn.a,[[6,cn.q]],{label:[0,"label"]},null),(n()(),l["\u0275eld"](11,0,null,null,2,"div",[["class","app-period-split-information__header--icons"]],null,null,null,null,null)),(n()(),l["\u0275eld"](12,0,null,null,0,"i",[["class","fas fa-trash app-period-split-information--trash"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onDeleteClick()&&l),l},null,null)),(n()(),l["\u0275eld"](13,0,null,null,0,"i",[["class","fas fa-cog app-period-split-information--cog"]],null,null,null,null,null)),(n()(),l["\u0275eld"](14,0,null,null,36,"form",[["class","app-period-split-information__modification"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,t,e){var i=!0;return"submit"===t&&(i=!1!==l["\u0275nov"](n,16).onSubmit(e)&&i),"reset"===t&&(i=!1!==l["\u0275nov"](n,16).onReset()&&i),i},null,null)),l["\u0275did"](15,16384,null,0,cn.H,[],null,null),l["\u0275did"](16,540672,null,0,cn.k,[[8,null],[8,null]],{form:[0,"form"]},null),l["\u0275prd"](2048,null,cn.c,null,[cn.k]),l["\u0275did"](18,16384,null,0,cn.s,[[4,cn.c]],null,null),(n()(),l["\u0275eld"](19,0,null,null,27,"div",[["class","app-period-split-information__modification--field-container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](20,0,null,null,8,"div",[["class","app-period-split-information__modification--split-unit"]],null,null,null,null,null)),(n()(),l["\u0275eld"](21,0,null,null,1,"p",[["class","app-period-split-information__modification--label"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Split Into"])),(n()(),l["\u0275eld"](23,0,null,null,5,"div",[["class","app-period-split-information__modification--select"]],null,null,null,null,null)),(n()(),l["\u0275eld"](24,0,null,null,4,"app-select-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,te.b,te.a)),l["\u0275did"](25,671744,null,0,cn.i,[[3,cn.c],[8,null],[8,null],[8,null],[2,cn.F]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,cn.q,null,[cn.i]),l["\u0275did"](27,16384,null,0,cn.r,[[4,cn.q]],null,null),l["\u0275did"](28,114688,null,0,ee.a,[[6,cn.q]],{items:[0,"items"],value:[1,"value"],style:[2,"style"]},null),(n()(),l["\u0275eld"](29,0,null,null,8,"div",[["class","app-period-split-information__modification--split-amount"]],null,null,null,null,null)),(n()(),l["\u0275eld"](30,0,null,null,5,"div",[["class","app-period-split-information__modification--input"]],null,null,null,null,null)),(n()(),l["\u0275eld"](31,0,null,null,4,"app-input-field",[["fieldType","table"],["type","'number'"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,un.b,un.a)),l["\u0275did"](32,671744,null,0,cn.i,[[3,cn.c],[8,null],[8,null],[8,null],[2,cn.F]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,cn.q,null,[cn.i]),l["\u0275did"](34,16384,null,0,cn.r,[[4,cn.q]],null,null),l["\u0275did"](35,114688,null,0,gn.a,[[6,cn.q]],{fieldType:[0,"fieldType"],type:[1,"type"]},null),(n()(),l["\u0275eld"](36,0,null,null,1,"p",[["class","app-period-split-information__modification--label"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["splits of"])),(n()(),l["\u0275eld"](38,0,null,null,8,"div",[["class","app-period-split-information__modification--split-duration"]],null,null,null,null,null)),(n()(),l["\u0275eld"](39,0,null,null,5,"div",[["class","app-period-split-information__modification--input"]],null,null,null,null,null)),(n()(),l["\u0275eld"](40,0,null,null,4,"app-input-field",[["fieldType","table"],["type","'number'"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,un.b,un.a)),l["\u0275did"](41,671744,null,0,cn.i,[[3,cn.c],[8,null],[8,null],[8,null],[2,cn.F]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,cn.q,null,[cn.i]),l["\u0275did"](43,16384,null,0,cn.r,[[4,cn.q]],null,null),l["\u0275did"](44,114688,null,0,gn.a,[[6,cn.q]],{fieldType:[0,"fieldType"],type:[1,"type"]},null),(n()(),l["\u0275eld"](45,0,null,null,1,"p",[["class","app-period-split-information__modification--label"]],null,null,null,null,null)),(n()(),l["\u0275ted"](46,null,[" "," each "])),(n()(),l["\u0275and"](16777216,null,null,1,null,oe)),l["\u0275did"](48,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,re)),l["\u0275did"](50,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](51,0,null,null,11,"div",[["class","app-period-split-information__information"]],null,null,null,null,null)),(n()(),l["\u0275eld"](52,0,null,null,1,"h3",[["class","app-period-split-information__information--header"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["split information"])),(n()(),l["\u0275eld"](54,0,null,null,4,"table",[["class","app-period-split-information__table"]],null,null,null,null,null)),(n()(),l["\u0275eld"](55,0,null,null,1,"thead",[["app-table-thead",""]],null,[[null,"sortFilter"],[null,"searchValueEvent"]],function(n,t,e){var l=!0,i=n.component;return"sortFilter"===t&&(l=!1!==i.onSortSplits(e)&&l),"searchValueEvent"===t&&(l=!1!==i.onSearch(e)&&l),l},s.b,s.a)),l["\u0275did"](56,114688,null,0,u.a,[],{columns:[0,"columns"]},{sortFilter:"sortFilter",searchValueEvent:"searchValueEvent"}),(n()(),l["\u0275and"](16777216,null,null,1,null,ae)),l["\u0275did"](58,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,de)),l["\u0275did"](60,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](61,0,null,null,1,"button",[["class","app-period-split-information__information--button"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onSplitCreate()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["Crete Split Row"]))],function(n,t){var e=t.component,l=n(t,4,0,e.getBkgColor());n(t,3,0,l),n(t,7,0,e.activeSplitSet.name),n(t,10,0,"Split Name"),n(t,16,0,e.splitInformationForm),n(t,25,0,"splitUnit"),n(t,28,0,e.splitUnits,e.splitUnits[0],"thead"),n(t,32,0,"splitAmount"),n(t,35,0,"table","'number'"),n(t,41,0,"splitDuration"),n(t,44,0,"table","'number'"),n(t,48,0,!e.activeSplitSet.splits||!(e.activeSplitSet.splits&&e.activeSplitSet.splits.length)),n(t,50,0,e.activeSplitSet.splits&&e.activeSplitSet.splits.length),n(t,56,0,e.splitSetTableColumns),n(t,58,0,e.viewSplits&&e.viewSplits.length),n(t,60,0,e.hasShownSplitSetError(e.activeSplitSet))},function(n,t){var e=t.component;n(t,6,0,l["\u0275nov"](t,9).ngClassUntouched,l["\u0275nov"](t,9).ngClassTouched,l["\u0275nov"](t,9).ngClassPristine,l["\u0275nov"](t,9).ngClassDirty,l["\u0275nov"](t,9).ngClassValid,l["\u0275nov"](t,9).ngClassInvalid,l["\u0275nov"](t,9).ngClassPending),n(t,14,0,l["\u0275nov"](t,18).ngClassUntouched,l["\u0275nov"](t,18).ngClassTouched,l["\u0275nov"](t,18).ngClassPristine,l["\u0275nov"](t,18).ngClassDirty,l["\u0275nov"](t,18).ngClassValid,l["\u0275nov"](t,18).ngClassInvalid,l["\u0275nov"](t,18).ngClassPending),n(t,24,0,l["\u0275nov"](t,27).ngClassUntouched,l["\u0275nov"](t,27).ngClassTouched,l["\u0275nov"](t,27).ngClassPristine,l["\u0275nov"](t,27).ngClassDirty,l["\u0275nov"](t,27).ngClassValid,l["\u0275nov"](t,27).ngClassInvalid,l["\u0275nov"](t,27).ngClassPending),n(t,31,0,l["\u0275nov"](t,34).ngClassUntouched,l["\u0275nov"](t,34).ngClassTouched,l["\u0275nov"](t,34).ngClassPristine,l["\u0275nov"](t,34).ngClassDirty,l["\u0275nov"](t,34).ngClassValid,l["\u0275nov"](t,34).ngClassInvalid,l["\u0275nov"](t,34).ngClassPending),n(t,40,0,l["\u0275nov"](t,43).ngClassUntouched,l["\u0275nov"](t,43).ngClassTouched,l["\u0275nov"](t,43).ngClassPristine,l["\u0275nov"](t,43).ngClassDirty,l["\u0275nov"](t,43).ngClassValid,l["\u0275nov"](t,43).ngClassInvalid,l["\u0275nov"](t,43).ngClassPending),n(t,46,0,e.splitInformationForm.get("splitUnit").value)})}var ue=function(){function n(n,t){this.store=n,this.periodService=t,this.subscription=new nn.a}return n.prototype.ngOnInit=function(){var n=this;this.subscription=this.periodService.getPeriodStore().subscribe(function(t){n.period=t.period,n.initScale()}),this.periodScale={width:2196,length:366,items:[],label:this.period.name,duration:this.period.duration>366?366:this.period.duration},this.initScale()},n.prototype.initScale=function(){this.periodScale={width:2196,length:366,items:[],label:this.period.name,duration:this.period.duration>366?366:this.period.duration};for(var n=0;n<this.periodScale.length;n++)this.drawItem(n);this.periodScale.items&&this.period&&this.period.duration&&this.period.duration>0&&(this.periodScale.items[0].isLowExtreme=!0,this.periodScale.items[this.periodScale.duration-1].isHighExtreme=!0)},n.prototype.drawItem=function(n){1===f(this.period.date_from,"DD-MM-YYYY").add(n,"days").date()?this.periodScale.items.push({id:n,label:f().month(f(this.period.date_from,"DD-MM-YYYY").add(n,"days").month()).format("MMMM").slice(0,3),isLowExtreme:!1,isHighExtreme:!1}):this.periodScale.items.push({id:n,isLowExtreme:!1,isHighExtreme:!1}),this.periodScale.items[n].isSelected=f(this.period.date_from,"DD-MM-YYYY")<=f(this.period.date_from,"DD-MM-YYYY").add(n,"days")&&f(this.period.date_from,"DD-MM-YYYY").add(n,"days")<=f(this.period.date_to,"DD-MM-YYYY")},n.prototype.dropItem=function(n){var t=this;Array.prototype.slice.call(n.item.element.nativeElement.children).map(function(e){if(e.className.includes("app-period-bar__cell--high-extreme"))t.store.dispatch(new P({name:t.periodScale.label,date_from:t.period.date_from,date_to:f(t.period.date_from,"DD-MM-YYYY").add(n.currentIndex+1,"days").toDate(),duration:n.currentIndex+2,split_sets:t.period.split_sets}));else if(e.className.includes("app-period-bar__cell--low-extreme")){var l=t.period.duration;t.store.dispatch(new P({name:t.periodScale.label,date_from:f(t.period.date_from,"DD-MM-YYYY").add(n.currentIndex,"days").toDate(),date_to:t.period.date_to,duration:l-n.currentIndex+1,split_sets:t.period.split_sets}))}})},n.prototype.getWidth=function(){return this.periodScale.duration>15?(6*this.periodScale.duration-12).toString()+"px":"0px"},n.prototype.onChangeName=function(n){this.store.dispatch(new P({name:n,date_from:this.period.date_from,date_to:this.period.date_to,duration:this.period.duration,split_sets:this.period.split_sets}))},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n}(),ce=l["\u0275crt"]({encapsulation:0,styles:[['.app-period-bar[_ngcontent-%COMP%]{display:flex;padding:20px 15px 0;background-color:#fff;overflow-x:hidden}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__header[_ngcontent-%COMP%]{min-width:113px;max-width:113px;height:15px;font:800 12px/15px NunitoSans-Bold;margin:7px 0 auto}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale[_ngcontent-%COMP%]{flex-grow:1;display:flex;position:relative;overflow:visible;min-width:500px;max-width:853px;height:65px;padding:10px 0 15px 7px;overflow-y:auto}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale[_ngcontent-%COMP%]   .app-period-bar__scale--label[_ngcontent-%COMP%]{position:absolute;z-index:1;overflow:hidden}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]{width:4px;height:14px;margin:0 2px 0 0;background-color:#f7f8ff;position:relative}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]   .app-period-bar__cell--month[_ngcontent-%COMP%]{position:absolute;bottom:-14px;height:10px;font-size:10px;color:#000}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]   .app-period-bar__cell--month[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:9px;left:1px;height:7px;width:2px;background-color:#000}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]   .app-period-bar__cell--high-extreme[_ngcontent-%COMP%], .app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]   .app-period-bar__cell--low-extreme[_ngcontent-%COMP%]{position:absolute;z-index:2;top:1px;right:-2px}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]   .app-period-bar__cell--high-extreme[_ngcontent-%COMP%]{right:-4px}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]::before{content:"";position:absolute;top:-7px;height:4px;width:4px;background-color:#36405f}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__cell--selected[_ngcontent-%COMP%]{width:5.5px;height:14px;background-color:#36405f}.app-period-bar[_ngcontent-%COMP%]   .cdk-drag-placeholder[_ngcontent-%COMP%]   .app-period-bar__cell--month[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   .app-period-bar__cell--month[_ngcontent-%COMP%]{display:none}']],data:{}});function ge(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","app-period-bar__cell--month"]],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,["",""]))],null,function(n,t){n(t,1,0,t.parent.context.$implicit.label)})}function _e(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,"div",[["class","app-period-bar__cell--selected"]],null,null,null,null,null))],null,null)}function fe(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"app-carets",[["cdkDragHandle",""],["class","app-period-bar__cell--high-extreme cdk-drag-handle"]],null,null,null,yn,Mn)),l["\u0275did"](1,147456,[[2,4]],0,bt,[l.ElementRef,[2,mt]],null,null),l["\u0275did"](2,114688,null,0,On,[],null,null)],function(n,t){n(t,2,0)},null)}function he(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"app-carets",[["cdkDragHandle",""],["class","app-period-bar__cell--low-extreme cdk-drag-handle"]],null,null,null,yn,Mn)),l["\u0275did"](1,147456,[[2,4]],0,bt,[l.ElementRef,[2,mt]],null,null),l["\u0275did"](2,114688,null,0,On,[],null,null)],function(n,t){n(t,2,0)},null)}function me(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,16777216,null,null,13,"div",[["cdkDrag",""],["cdkDragBoundary",".app-period-bar__scale"],["cdkDragLockAxis","x"],["class","app-period-bar__scale--cell cdk-drag"]],[[2,"cdk-drag-disabled",null],[2,"cdk-drag-dragging",null]],null,null,null,null)),l["\u0275prd"](6144,null,mt,null,[Ct]),l["\u0275did"](2,4866048,[[1,4]],3,Ct,[l.ElementRef,[3,ht],r.DOCUMENT,l.NgZone,l.ViewContainerRef,Un,gt,vt,[2,Rt],ft,l.ChangeDetectorRef],{lockAxis:[0,"lockAxis"],boundaryElementSelector:[1,"boundaryElementSelector"],disabled:[2,"disabled"]},null),l["\u0275qud"](603979776,2,{_handles:1}),l["\u0275qud"](335544320,3,{_previewTemplate:0}),l["\u0275qud"](335544320,4,{_placeholderTemplate:0}),(n()(),l["\u0275and"](16777216,null,null,1,null,ge)),l["\u0275did"](7,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,_e)),l["\u0275did"](9,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,fe)),l["\u0275did"](11,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,he)),l["\u0275did"](13,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](0,null,null,0))],function(n,t){n(t,2,0,"x",".app-period-bar__scale",!(t.context.$implicit.isHighExtreme||t.context.$implicit.isLowExtreme)),n(t,7,0,t.context.$implicit.label),n(t,9,0,t.context.$implicit.isSelected),n(t,11,0,t.context.$implicit.isHighExtreme),n(t,13,0,t.context.$implicit.isLowExtreme)},function(n,t){n(t,0,0,l["\u0275nov"](t,2).disabled,l["\u0275nov"](t,2)._dragRef.isDragging())})}function be(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,15,"div",[["class","app-period-bar"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"h2",[["class","app-period-bar__header"]],null,null,null,null,null)),(n()(),l["\u0275ted"](2,null,["",""])),(n()(),l["\u0275eld"](3,0,null,null,12,"div",[["cdkDropList",""],["cdkDropListOrientation","horizontal"],["class","app-period-bar__scale cdk-drop-list"]],[[8,"id",0],[2,"cdk-drop-list-disabled",null],[2,"cdk-drop-list-dragging",null],[2,"cdk-drop-list-receiving",null]],[[null,"cdkDropListDropped"]],function(n,t,e){var l=!0;return"cdkDropListDropped"===t&&(l=!1!==n.component.dropItem(e)&&l),l},null,null)),l["\u0275prd"](6144,null,ht,null,[yt]),l["\u0275did"](5,1196032,null,1,yt,[l.ElementRef,gt,l.ChangeDetectorRef,[2,Rt],[3,Ot],[2,r.DOCUMENT],ft],{orientation:[0,"orientation"]},{dropped:"cdkDropListDropped"}),l["\u0275qud"](603979776,1,{_draggables:1}),l["\u0275prd"](256,null,Ot,void 0,[]),(n()(),l["\u0275eld"](8,0,null,null,5,"div",[["class","app-period-bar__scale--label"]],[[4,"width",null]],null,null,null,null)),(n()(),l["\u0275eld"](9,0,null,null,4,"app-input-editable-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,t,e){var l=!0,i=n.component;return"ngModelChange"===t&&(l=!1!==(i.period.name=e)&&l),"ngModelChange"===t&&(l=!1!==i.onChangeName(e)&&l),l},Lt,At)),l["\u0275did"](10,671744,null,0,cn.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,cn.q,null,[cn.u]),l["\u0275did"](12,16384,null,0,cn.r,[[4,cn.q]],null,null),l["\u0275did"](13,114688,null,0,Vt,[[6,cn.q]],null,null),(n()(),l["\u0275and"](16777216,null,null,1,null,me)),l["\u0275did"](15,278528,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,t){var e=t.component;n(t,5,0,"horizontal"),n(t,10,0,e.period.name),n(t,13,0),n(t,15,0,e.periodScale.items)},function(n,t){var e=t.component;n(t,2,0,e.period.name),n(t,3,0,l["\u0275nov"](t,5).id,l["\u0275nov"](t,5).disabled,l["\u0275nov"](t,5)._dropListRef.isDragging(),l["\u0275nov"](t,5)._dropListRef.isReceiving()),n(t,8,0,e.getWidth()),n(t,9,0,l["\u0275nov"](t,12).ngClassUntouched,l["\u0275nov"](t,12).ngClassTouched,l["\u0275nov"](t,12).ngClassPristine,l["\u0275nov"](t,12).ngClassDirty,l["\u0275nov"](t,12).ngClassValid,l["\u0275nov"](t,12).ngClassInvalid,l["\u0275nov"](t,12).ngClassPending)})}var ve=function(){function n(n,t,e){this.store=n,this.periodService=t,this.router=e,this.isPopupShown=!1,this.subscription=new nn.a}return n.prototype.ngOnInit=function(){var n=this;this.subscription=this.periodService.getPeriodStore().subscribe(function(t){n.splitSet=t.period.split_sets,n.period=t})},n.prototype.onAddSplit=function(){this.store.dispatch(new D({name:"Academical",id:0===this.splitSet.length?0:this.splitSet.slice(-1).pop().id+1,splits:[],error:{text:null,isBarErrorOpen:!1,isTableErrorOpen:!1}}))},n.prototype.onModify=function(){this.periodService.validatePeriod(this.period),this.periodService.validateSplitSet(this.period),this.periodService.isError(this.period)||this.store.dispatch("create"===this.mode?new O(this.period):new M(this.period))},n.prototype.onCancel=function(){this.period.period.name||this.period.period.date_to||this.period.period.date_from||this.period.period.split_sets.length?this.isPopupShown=!0:this.goToPeriodPage()},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n.prototype.goToPeriodPage=function(){this.router.navigate(["/period"])},n}(),Ce=l["\u0275crt"]({encapsulation:0,styles:[[".app-period-general-settings[_ngcontent-%COMP%]{position:relative}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings-popup[_ngcontent-%COMP%]{position:absolute;top:-120px;right:-20px;z-index:4}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__container[_ngcontent-%COMP%]{margin:0 0 20px}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__container[_ngcontent-%COMP%]   .app-period-general-settings__split-set-info[_ngcontent-%COMP%]{margin:0 0 10px;background-color:#fff}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:0;padding:20px 15px 0;background-color:#fff}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__header[_ngcontent-%COMP%]   .app-period-general-settings__header-text[_ngcontent-%COMP%]{font:800 13px/15px NunitoSans-Bold;text-transform:uppercase;margin:auto 0}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__header[_ngcontent-%COMP%]   .app-period-general-settings__header-button[_ngcontent-%COMP%]{width:165px;height:30px;font-size:12px;line-height:15px;background-color:#4350a2;color:#fff;border-radius:3px;align-items:center;vertical-align:middle}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__header[_ngcontent-%COMP%]   .app-period-general-settings__header-button[_ngcontent-%COMP%]:hover{background-color:#3a458c}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__add[_ngcontent-%COMP%]{font:10px/11px NunitoSans-Bold;color:#4350a2;cursor:pointer}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__add[_ngcontent-%COMP%]:hover{opacity:.6}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__buttons[_ngcontent-%COMP%]   .app-period-general-settings__button--cancel[_ngcontent-%COMP%]{width:80px;height:30px;box-sizing:border-box;margin:0 15px 0 0;font:800 12px/15px NunitoSans-Bold;background-color:#e5e5e5;color:#4350a2;border-radius:3px;border:1px solid #4350a2;align-items:center;vertical-align:middle}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__buttons[_ngcontent-%COMP%]   .app-period-general-settings__button--cancel[_ngcontent-%COMP%]:hover{background-color:#cacaca}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__buttons[_ngcontent-%COMP%]   .app-period-general-settings__button--create[_ngcontent-%COMP%]{width:115px;height:30px;margin:0 15px 0 0;font:800 12px/15px NunitoSans-Bold;background-color:#4350a2;color:#fff;border-radius:3px;align-items:center;vertical-align:middle}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__buttons[_ngcontent-%COMP%]   .app-period-general-settings__button--create[_ngcontent-%COMP%]:hover{background-color:#3a458c}"]],data:{}});function Pe(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"button",[["class","app-period-general-settings__header-button"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onAddSplit()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,[" Create New Split Type "]))],null,null)}function Oe(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-general-settings__split-set"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"app-period-split-bar",[],null,null,null,ne,$t)),l["\u0275did"](2,245760,null,0,qt,[j.n,Y],{splitSetId:[0,"splitSetId"],viewId:[1,"viewId"]},null)],function(n,t){n(t,2,0,t.component.splitSet[t.context.index].id,t.context.index)},null)}function Me(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-general-settings__split-sets"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Oe)),l["\u0275did"](2,278528,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,2,0,t.component.splitSet)},null)}function ye(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-general-settings__split-set-info"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"app-period-split-information",[],null,null,null,se,ie)),l["\u0275did"](2,245760,null,0,le,[j.n,cn.f,Y],{splitSetId:[0,"splitSetId"],viewId:[1,"viewId"]},null)],function(n,t){n(t,2,0,t.component.splitSet[t.context.index].id,t.context.index)},null)}function xe(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,ye)),l["\u0275did"](2,278528,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,2,0,t.component.splitSet)},null)}function Se(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"app-period-popup",[],null,[[null,"cancel"],[null,"accept"]],function(n,t,e){var l=!0,i=n.component;return"cancel"===t&&(l=0!=(i.isPopupShown=!i.isPopupShown)&&l),"accept"===t&&(l=!1!==i.goToPeriodPage()&&l),l},_,g)),l["\u0275did"](1,114688,null,0,c,[],{text:[0,"text"]},{cancel:"cancel",accept:"accept"})],function(n,t){n(t,1,0,"Are you sure you want to get out of this period? All data will be lost.")},null)}function we(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,21,"div",[["class","app-period-general-settings"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,9,"div",[["class","app-period-general-settings__container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,4,"div",[["class","app-period-general-settings__header"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,1,"h2",[["class","app-period-general-settings__header-text"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Period Schedule"])),(n()(),l["\u0275and"](16777216,null,null,1,null,Pe)),l["\u0275did"](6,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](7,0,null,null,1,"app-period-bar",[],null,null,null,be,ce)),l["\u0275did"](8,245760,null,0,ue,[j.n,Y],null,null),(n()(),l["\u0275and"](16777216,null,null,1,null,Me)),l["\u0275did"](10,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](11,0,null,null,2,"div",[["class","app-period-general-settings__container"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,xe)),l["\u0275did"](13,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](14,0,null,null,4,"div",[["class","app-period-general-settings__buttons"]],null,null,null,null,null)),(n()(),l["\u0275eld"](15,0,null,null,1,"button",[["class","app-period-general-settings__button--cancel"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onCancel()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["Cancel"])),(n()(),l["\u0275eld"](17,0,null,null,1,"button",[["class","app-period-general-settings__button--create"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onModify()&&l),l},null,null)),(n()(),l["\u0275ted"](18,null,[" "," "])),(n()(),l["\u0275eld"](19,0,null,null,2,"div",[["class","app-period-general-settings-popup"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Se)),l["\u0275did"](21,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,6,0,e.splitSet),n(t,8,0),n(t,10,0,e.splitSet),n(t,13,0,e.splitSet),n(t,21,0,e.isPopupShown)},function(n,t){n(t,18,0,"create"===t.component.mode?"Create Period":"Update Period")})}var De=function(){function n(n){this.periodService=n}return n.prototype.ngOnInit=function(){this.periodService.onOpenCreateNewPeriodPage()},n}(),Ie=l["\u0275crt"]({encapsulation:0,styles:[[".app-period-create[_ngcontent-%COMP%]{height:100vh;padding:30px 20px}.app-period-create[_ngcontent-%COMP%]   .app-period-create-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.app-period-create[_ngcontent-%COMP%]   .app-period-create-left-panel[_ngcontent-%COMP%]{width:320px;margin:0 20px 0 0}.app-period-create[_ngcontent-%COMP%]   .app-period-create-right-panel[_ngcontent-%COMP%]{flex-grow:1}"]],data:{}});function Re(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"app-period-page-header",[],null,null,null,sn,an)),l["\u0275did"](1,245760,null,0,pn,[j.n,Y,V.k],{titleHeader:[0,"titleHeader"],isBackArrowEnable:[1,"isBackArrowEnable"],link:[2,"link"]},null),(n()(),l["\u0275eld"](2,0,null,null,7,"div",[["class","app-period-create"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,6,"div",[["class","app-period-create-container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,2,"div",[["class","app-period-create-left-panel"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,1,"app-period-duration-setting",[],null,null,null,Cn,mn)),l["\u0275did"](6,245760,null,0,hn,[j.n,Y],null,null),(n()(),l["\u0275eld"](7,0,null,null,2,"div",[["class","app-period-create-right-panel"]],null,null,null,null,null)),(n()(),l["\u0275eld"](8,0,null,null,1,"app-period-general-setting",[],null,null,null,we,Ce)),l["\u0275did"](9,245760,null,0,ve,[j.n,Y,V.k],{mode:[0,"mode"]},null)],function(n,t){n(t,1,0,"CREATE PERIOD",!0,"/period"),n(t,6,0),n(t,9,0,"create")},null)}function Ee(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"app-period-create",[],null,null,null,Re,Ie)),l["\u0275did"](1,114688,null,0,De,[Y],null,null)],function(n,t){n(t,1,0)},null)}var ke=l["\u0275ccf"]("app-period-create",De,Ee,{},{},[]),Te=function(){function n(n,t){this.store=n,this.periodService=t,this.subscription=new nn.a}return n.prototype.ngOnInit=function(){var n=this;this.subscription=this.periodService.getPeriodStore().subscribe(function(t){n.periodId=t.editPeriodId,n.periodData=t.periods}),this.periodId&&this.periodData&&this.periodService.onOpenEditPeriodPage(this.periodData.find(function(t){return t.id===n.periodId}))},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n}(),Ne=l["\u0275crt"]({encapsulation:0,styles:[[".app-period-edit[_ngcontent-%COMP%]{height:100vh;padding:30px 20px}.app-period-edit[_ngcontent-%COMP%]   .app-period-edit-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.app-period-edit[_ngcontent-%COMP%]   .app-period-edit-left-panel[_ngcontent-%COMP%]{width:320px;margin:0 20px 0 0}.app-period-edit[_ngcontent-%COMP%]   .app-period-edit-right-panel[_ngcontent-%COMP%]{flex-grow:1}"]],data:{}});function Ye(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"app-period-page-header",[],null,null,null,sn,an)),l["\u0275did"](1,245760,null,0,pn,[j.n,Y,V.k],{titleHeader:[0,"titleHeader"],isBackArrowEnable:[1,"isBackArrowEnable"],link:[2,"link"]},null),(n()(),l["\u0275eld"](2,0,null,null,7,"div",[["class","app-period-edit"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,6,"div",[["class","app-period-edit-container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,2,"div",[["class","app-period-edit-left-panel"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,1,"app-period-duration-setting",[],null,null,null,Cn,mn)),l["\u0275did"](6,245760,null,0,hn,[j.n,Y],null,null),(n()(),l["\u0275eld"](7,0,null,null,2,"div",[["class","app-period-edit-right-panel"]],null,null,null,null,null)),(n()(),l["\u0275eld"](8,0,null,null,1,"app-period-general-setting",[],null,null,null,we,Ce)),l["\u0275did"](9,245760,null,0,ve,[j.n,Y,V.k],{mode:[0,"mode"]},null)],function(n,t){n(t,1,0,"EDIT PERIOD",!0,"/period"),n(t,6,0),n(t,9,0,"update")},null)}function Fe(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"app-period-edit",[],null,null,null,Ye,Ne)),l["\u0275did"](1,245760,null,0,Te,[j.n,Y],null,null)],function(n,t){n(t,1,0)},null)}var je=l["\u0275ccf"]("app-period-edit",Te,Fe,{},{},[]),Ve=e("atuK"),Ae=e("9AJC"),Le=e("4GxJ"),qe=e("NJnL"),$e=e("lqqz"),ze=e("ARl4"),Be=function(){return function(){}}(),Ue=e("QpxQ"),He=e("D2tp"),Ge={periods:[],period:{name:"new period",date_from:new Date,date_to:f(new Date,"DD-MM-YYYY").add(365,"days").toDate(),duration:366,split_sets:[{name:"Financial",id:1,error:{text:null,isBarErrorOpen:!1,isTableErrorOpen:!1},splits:[{name:"1 split",date_from:new Date,date_to:f(new Date,"DD-MM-YYYY").add(30,"days").toDate(),id:1,duration:31}]}]},savePeriodError:{text:null,isOpen:!1},editPeriodId:null};function Ke(n,t){switch(void 0===n&&(n=Ge),t.type){case v.ChangePeriod:case v.OpenCreatePeriodPage:return Yn.a({},n,{period:Yn.a({},t.payload)});case v.GetPeriodsResponse:return Yn.a({},n,{periods:t.payload});case v.AddSplitSet:return Yn.a({},n,{period:Yn.a({},n.period,{split_sets:Yn.i(n.period.split_sets,[t.payload])})});case v.ChangeSplitSet:var e=Yn.i(n.period.split_sets).map(function(n){return n.id===t.payload.index?t.payload.splitSet:n});return Yn.a({},n,{period:Yn.a({},n.period,{split_sets:e})});case v.DeleteSplitSet:return e=Yn.i(n.period.split_sets).filter(function(n){return n.id!==t.payload.index}),Yn.a({},n,{period:Yn.a({},n.period,{split_sets:e})});case v.ValidatePeriod:return Yn.a({},n,{period:Yn.a({},n.period,{error:t.payload})});case v.ChangePeriodError:return Yn.a({},n,{savePeriodError:t.payload});case v.ChangeEditPeriodId:return Yn.a({},n,{editPeriodId:t.payload});default:return n}}var Ze=e("jYNz"),We=e("XlPw"),Xe=e("psW0"),Je=e("9Z1F"),Qe=function(){function n(n,t,e){var l=this;this.actions$=n,this.periodService=t,this.router=e,this.createPeriod$=this.actions$.pipe(Object(Ze.d)(v.CreatePeriodRequest),Object(Xe.a)(function(n){return l.periodService.createPeriod(n.payload).pipe(Object(b.a)(function(n){return l.router.navigate(["/period"]),new y({text:null,isOpen:!1})}),Object(Je.a)(function(n){return console.log("error saving period",n),Object(We.a)(n),Object(Tn.a)(new y({text:n.error.errors,isOpen:!0}))}))})),this.updatePeriod=this.actions$.pipe(Object(Ze.d)(v.UpdateExistingPeriodRequest),Object(Xe.a)(function(n){return l.periodService.updatePeriod(n.payload).pipe(Object(b.a)(function(n){return l.router.navigate(["/period"]),new y({text:null,isOpen:!1})}),Object(Je.a)(function(n){return console.log("error saving period",n),Object(We.a)(n),Object(Tn.a)(new y({text:n.error.errors,isOpen:!0}))}))})),this.getPeriods$=this.actions$.pipe(Object(Ze.d)(v.GetPeriodsRequest),Object(Bn.a)(function(){return l.periodService.getPeriods()}),Object(b.a)(function(n){return new S(l.periodService.convertGetPeriodResponse(n.data.periods))}),Object(Je.a)(function(n){return console.log("error periods request",n),Object(We.a)(n)})),this.deletePeriod=this.actions$.pipe(Object(Ze.d)(v.DeletePeriod),Object(Xe.a)(function(n){return l.periodService.deletePeriod(n.payload).pipe(Object(b.a)(function(n){return new x}),Object(Je.a)(function(n){return console.log("error saving period",n),Object(We.a)(n)}))}))}return Yn.c([Object(Ze.b)(),Yn.f("design:type",En.a)],n.prototype,"createPeriod$",void 0),Yn.c([Object(Ze.b)(),Yn.f("design:type",En.a)],n.prototype,"updatePeriod",void 0),Yn.c([Object(Ze.b)(),Yn.f("design:type",En.a)],n.prototype,"getPeriods$",void 0),Yn.c([Object(Ze.b)(),Yn.f("design:type",En.a)],n.prototype,"deletePeriod",void 0),n}();e.d(t,"PeriodModuleNgFactory",function(){return nl});var nl=l["\u0275cmf"](i,[],function(n){return l["\u0275mod"]([l["\u0275mpd"](512,l.ComponentFactoryResolver,l["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,rn,ke,je,Ve.a,Ve.b,Ve.c,Ae.a,Ae.b,Ae.l,Ae.m,Ae.i,Ae.j,Ae.k]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["\u0275mpd"](4608,ft,ft,[r.DOCUMENT,l.NgZone,Un,gt]),l["\u0275mpd"](4608,r.NgLocalization,r.NgLocaleLocalization,[l.LOCALE_ID,[2,r["\u0275angular_packages_common_common_a"]]]),l["\u0275mpd"](4608,cn.E,cn.E,[]),l["\u0275mpd"](4608,cn.f,cn.f,[]),l["\u0275mpd"](4608,Le.E,Le.E,[l.ComponentFactoryResolver,l.Injector,Le.wb,Le.F]),l["\u0275mpd"](4608,qe.a,qe.a,[l.RendererFactory2,l.PLATFORM_ID]),l["\u0275mpd"](4608,$e.a,$e.a,[l.ComponentFactoryResolver,l.NgZone,l.Injector,qe.a,l.ApplicationRef]),l["\u0275mpd"](4608,ze.w,ze.w,[]),l["\u0275mpd"](4608,ze.y,ze.y,[]),l["\u0275mpd"](4608,ze.a,ze.a,[]),l["\u0275mpd"](4608,ze.e,ze.e,[]),l["\u0275mpd"](4608,ze.c,ze.c,[]),l["\u0275mpd"](4608,ze.f,ze.f,[]),l["\u0275mpd"](4608,ze.x,ze.x,[ze.y,ze.f]),l["\u0275mpd"](4608,h.a,h.a,[]),l["\u0275mpd"](1073742336,xt,xt,[]),l["\u0275mpd"](1073742336,r.CommonModule,r.CommonModule,[]),l["\u0275mpd"](1073742336,cn.D,cn.D,[]),l["\u0275mpd"](1073742336,cn.m,cn.m,[]),l["\u0275mpd"](1073742336,cn.z,cn.z,[]),l["\u0275mpd"](1073742336,V.o,V.o,[[2,V.t],[2,V.k]]),l["\u0275mpd"](1073742336,Be,Be,[]),l["\u0275mpd"](1073742336,ze.d,ze.d,[]),l["\u0275mpd"](1073742336,Le.c,Le.c,[]),l["\u0275mpd"](1073742336,Le.f,Le.f,[]),l["\u0275mpd"](1073742336,Le.h,Le.h,[]),l["\u0275mpd"](1073742336,Le.m,Le.m,[]),l["\u0275mpd"](1073742336,Le.n,Le.n,[]),l["\u0275mpd"](1073742336,Le.u,Le.u,[]),l["\u0275mpd"](1073742336,Le.A,Le.A,[]),l["\u0275mpd"](1073742336,Le.G,Le.G,[]),l["\u0275mpd"](1073742336,Le.K,Le.K,[]),l["\u0275mpd"](1073742336,Le.P,Le.P,[]),l["\u0275mpd"](1073742336,Le.S,Le.S,[]),l["\u0275mpd"](1073742336,Le.X,Le.X,[]),l["\u0275mpd"](1073742336,Le.cb,Le.cb,[]),l["\u0275mpd"](1073742336,Le.gb,Le.gb,[]),l["\u0275mpd"](1073742336,Le.jb,Le.jb,[]),l["\u0275mpd"](1073742336,Le.kb,Le.kb,[]),l["\u0275mpd"](1073742336,Le.H,Le.H,[]),l["\u0275mpd"](1073742336,Ue.c,Ue.c,[]),l["\u0275mpd"](1073742336,jt.AutoSizeInputModule,jt.AutoSizeInputModule,[]),l["\u0275mpd"](1073742336,He.a,He.a,[]),l["\u0275mpd"](131584,j.a,j.a,[]),l["\u0275mpd"](2048,j.h,null,[j.a]),l["\u0275mpd"](256,j.t,void 0,[]),l["\u0275mpd"](1024,j.d,j.y,[j.t]),l["\u0275mpd"](256,j.s,{state:Ke},[]),l["\u0275mpd"](2048,j.v,null,[j.s]),l["\u0275mpd"](1024,j.c,j.x,[l.Injector,j.s,j.v]),l["\u0275mpd"](256,j.u,j.z,[]),l["\u0275mpd"](256,j.e,[],[]),l["\u0275mpd"](1024,j.f,j.C,[j.u,j.e]),l["\u0275mpd"](131584,j.g,j.g,[j.h,j.d,j.c,j.f]),l["\u0275mpd"](2048,j.i,null,[j.g]),l["\u0275mpd"](131584,j.k,j.k,[]),l["\u0275mpd"](131584,j.l,j.l,[j.a,j.i,j.k,j.d]),l["\u0275mpd"](2048,j.m,null,[j.l]),l["\u0275mpd"](512,j.n,j.n,[j.m,j.a,j.g]),l["\u0275mpd"](1073742336,j.p,j.p,[j.a,j.i,j.k,j.n]),l["\u0275mpd"](512,Ze.c,Ze.c,[l.ErrorHandler,j.n]),l["\u0275mpd"](131584,Ze.j,Ze.j,[Ze.c,j.n]),l["\u0275mpd"](512,Ze.a,Ze.a,[j.k]),l["\u0275mpd"](512,Y,Y,[j.n,m.c]),l["\u0275mpd"](512,Qe,Qe,[Ze.a,Y,V.k]),l["\u0275mpd"](1024,Ze.h,Ze.e,[Qe]),l["\u0275mpd"](1073742336,Ze.f,Ze.f,[Ze.c,Ze.j,j.n,Ze.h,[2,j.p],[2,j.o]]),l["\u0275mpd"](1073742336,i,i,[]),l["\u0275mpd"](1024,V.i,function(){return[[{path:"",component:tn},{path:"create",component:De},{path:"edit",component:Te}]]},[]),l["\u0275mpd"](256,Ue.d,Ue.e,[])])})},"Io+N":function(n,t,e){"use strict";var l=e("CcnG"),i=e("Ip0R"),o=e("gIcY");e("H54p"),e.d(t,"a",function(){return r}),e.d(t,"b",function(){return p});var r=l["\u0275crt"]({encapsulation:0,styles:[[".app-search-field[_ngcontent-%COMP%]{border:none;border-radius:0;color:#151515;padding:0;height:26px;background:#fff;width:auto;position:relative}.app-search-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #b6b6b6;border-radius:3px;width:100%;min-height:26px;padding:0 30px 0 10px;font-size:12px}.app-search-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.app-search-field[_ngcontent-%COMP%]   .app-search-field-icon[_ngcontent-%COMP%]{background:url(icon-search.58516c3e4430fd49d804.svg) center/16px no-repeat;width:18px;height:18px;position:absolute;top:5px;right:8px}.app-search-field.app-search-field-has-error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-color:#e65757}.app-search-field.app-search-field-gray[_ngcontent-%COMP%]{height:30px}.app-search-field.app-search-field-gray[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-color:#f2f2f2;background:#f2f2f2;min-height:30px}.app-search-field.app-search-field-gray[_ngcontent-%COMP%]   .app-search-field-icon[_ngcontent-%COMP%]{top:6px}"]],data:{}});function p(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,13,"div",[["class","app-search-field"]],null,null,null,null,null)),l["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["\u0275did"](2,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](3,{"app-search-field-has-error":0,"app-search-field-gray":1}),(n()(),l["\u0275eld"](4,0,null,null,8,"input",[["class","form-control"],["type","search"]],[[8,"placeholder",0],[8,"id",0],[8,"value",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var i=!0,o=n.component;return"input"===t&&(i=!1!==l["\u0275nov"](n,8)._handleInput(e.target.value)&&i),"blur"===t&&(i=!1!==l["\u0275nov"](n,8).onTouched()&&i),"compositionstart"===t&&(i=!1!==l["\u0275nov"](n,8)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l["\u0275nov"](n,8)._compositionEnd(e.target.value)&&i),"ngModelChange"===t&&(i=!1!==(o.value=e)&&i),"input"===t&&(i=!1!==o.onChange(e.target.value)&&i),"blur"===t&&(i=!1!==o.onTouched()&&i),i},null,null)),l["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["\u0275did"](6,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](7,{"app-search-field__value":0}),l["\u0275did"](8,16384,null,0,o.d,[l.Renderer2,l.ElementRef,[2,o.a]],null,null),l["\u0275prd"](1024,null,o.p,function(n){return[n]},[o.d]),l["\u0275did"](10,671744,null,0,o.u,[[8,null],[8,null],[8,null],[6,o.p]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,o.q,null,[o.u]),l["\u0275did"](12,16384,null,0,o.r,[[4,o.q]],null,null),(n()(),l["\u0275eld"](13,0,null,null,0,"div",[["class","app-search-field-icon"]],null,null,null,null,null))],function(n,t){var e=t.component,l=n(t,3,0,e.isInvalid,"gray"===e.type);n(t,2,0,"app-search-field",l);var i=n(t,7,0,e.value);n(t,6,0,"form-control",i),n(t,10,0,e.disabled,e.value)},function(n,t){var e=t.component;n(t,4,0,e.placeholder,e.id,e.value,l["\u0275nov"](t,12).ngClassUntouched,l["\u0275nov"](t,12).ngClassTouched,l["\u0275nov"](t,12).ngClassPristine,l["\u0275nov"](t,12).ngClassDirty,l["\u0275nov"](t,12).ngClassValid,l["\u0275nov"](t,12).ngClassInvalid,l["\u0275nov"](t,12).ngClassPending)})}},tXiM:function(n,t,e){"use strict";e.d(t,"a",function(){return l});var l=function(n){return n.DESC="DESC",n.ASC="ASC",n}({})}}]);