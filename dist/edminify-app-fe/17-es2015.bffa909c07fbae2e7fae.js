(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{IhLC:function(t,e,n){"use strict";n.r(e);var i=n("8Y7J");class l{}var o=n("pMnS"),s=n("iInd"),r=n("SVse");class a{constructor(){this.isBackArrowEnable=!0,this.onButtonClick=new i.EventEmitter}ngOnInit(){}onClick(){this.onButtonClick.emit()}}var d=i["\u0275crt"]({encapsulation:0,styles:[[".app-period-page-header[_ngcontent-%COMP%]   .app-period-page-header__button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:baseline}"]],data:{}});function p(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","d-inline-block back p-3 mr-3 app-cursor-pointer"]],null,[[null,"click"]],function(t,e,n){var l=!0;return"click"===e&&(l=!1!==i["\u0275nov"](t,1).onClick()&&l),l},null,null)),i["\u0275did"](1,16384,null,0,s.l,[s.k,s.a,[8,null],i.Renderer2,i.ElementRef],{routerLink:[0,"routerLink"]},null),(t()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","fas fa-chevron-left"]],null,null,null,null,null))],function(t,e){t(e,1,0,e.component.routerLink)},null)}function u(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,8,"div",[["class","row no-gutters app-period-page-header pr-3 bg-white"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,4,"div",[["class","col-10"]],null,null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,p)),i["\u0275did"](3,16384,null,0,r.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275eld"](4,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),i["\u0275ted"](5,null,["",""])),(t()(),i["\u0275eld"](6,0,null,null,2,"div",[["class","col-2 pt-2 app-period-page-header__button-container"]],null,null,null,null,null)),(t()(),i["\u0275eld"](7,0,null,null,1,"button",[["class","btn app-btn-outline-primary form-payer-account-cancel"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onClick&&i),i},null,null)),(t()(),i["\u0275ted"](8,null,[" "," "]))],function(t,e){t(e,3,0,e.component.isBackArrowEnable)},function(t,e){var n=e.component;t(e,5,0,n.titleHeader),t(e,8,0,n.buttonText)})}class c{constructor(t){this.router=t}ngOnInit(){}onAddPeriod(){this.router.navigateByUrl("/period/create")}}var h=i["\u0275crt"]({encapsulation:0,styles:[[".app-period[_ngcontent-%COMP%]{padding:30px}"]],data:{}});function g(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"app-period-page-header",[],null,[[null,"onButtonClick"],[null,"click"]],function(t,e,n){var l=!0,o=t.component;return"click"===e&&(l=!1!==i["\u0275nov"](t,1).onClick()&&l),"onButtonClick"===e&&(l=!1!==o.onAddPeriod()&&l),l},u,d)),i["\u0275did"](1,16384,null,0,s.l,[s.k,s.a,[8,null],i.Renderer2,i.ElementRef],{routerLink:[0,"routerLink"]},null),i["\u0275did"](2,114688,null,0,a,[],{titleHeader:[0,"titleHeader"],isBackArrowEnable:[1,"isBackArrowEnable"],buttonText:[2,"buttonText"],routerLink:[3,"routerLink"]},{onButtonClick:"onButtonClick"}),(t()(),i["\u0275eld"](3,0,null,null,1,"h1",[["class","app-period-header"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Periods"])),(t()(),i["\u0275eld"](5,0,null,null,2,"button",[["routerLink","/period/create"]],null,[[null,"click"]],function(t,e,n){var l=!0;return"click"===e&&(l=!1!==i["\u0275nov"](t,6).onClick()&&l),l},null,null)),i["\u0275did"](6,16384,null,0,s.l,[s.k,s.a,[8,null],i.Renderer2,i.ElementRef],{routerLink:[0,"routerLink"]},null),(t()(),i["\u0275ted"](-1,null,["Create Period"]))],function(t,e){t(e,1,0,"/period/create"),t(e,2,0,"Periods",!1,"Add Period","/period/create"),t(e,6,0,"/period/create")},null)}function _(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-period",[],null,null,null,g,h)),i["\u0275did"](1,114688,null,0,c,[s.k],null,null)],function(t,e){t(e,1,0)},null)}var m=i["\u0275ccf"]("app-period",c,_,{},{},[]),f=n("LHBH"),v=n("s7LF"),b=n("RzGa"),C=n("p6zw"),x=n("bubl"),P=n("wd/R"),w=function(t){return t.AddPeriod="[Period] Add Period",t.ChangePeriod="[Period] Change Period",t.AddSplitSet="[Period] Add split Set",t.ChangeSplitSet="[Period] change split",t}({});class S{constructor(t){this.payload=t,this.type=w.ChangePeriod}}class O{constructor(t){this.payload=t,this.type=w.AddSplitSet}}class I{constructor(t){this.payload=t,this.type=w.ChangeSplitSet}}class M{constructor(t){this.store=t,this.width="auto",this.periodSubscribe=t.select("state"),this.periodSubscribe.subscribe(t=>this.period=t.period)}ngOnInit(){}onChangePeriod(){this.store.dispatch(new S({name:this.period.name,date_from:this.period.date_from,date_to:this.period.date_to,duration:Math.ceil(P.duration(P(this.period.date_to).diff(P(this.period.date_from))).asDays())}))}}var y=n("DQLy"),D=i["\u0275crt"]({encapsulation:0,styles:[[".app-period-duration-setting[_ngcontent-%COMP%]{background:#fff;padding:15px 10px}.app-period-duration-setting[_ngcontent-%COMP%]   .app-period-duration-setting__name[_ngcontent-%COMP%]{margin:0 0 10px}.app-period-duration-setting[_ngcontent-%COMP%]   .app-period-duration-setting__range[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.app-period-duration-setting[_ngcontent-%COMP%]   .mat-calendar-body-cell-content[_ngcontent-%COMP%]{border:1px solid #0c133d}"]],data:{}});function R(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,20,"div",[["class","app-period-duration-setting"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,5,"div",[["class","app-period-duration-setting__name"]],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,4,"app-input-field",[["label","Period Name"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(t,e,n){var i=!0,l=t.component;return"ngModelChange"===e&&(i=!1!==(l.period.name=n)&&i),"ngModelChange"===e&&(i=!1!==l.onChangePeriod()&&i),i},f.b,f.a)),i["\u0275did"](3,671744,null,0,v.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,v.q,null,[v.u]),i["\u0275did"](5,16384,null,0,v.r,[[4,v.q]],null,null),i["\u0275did"](6,114688,null,0,b.a,[[6,v.q]],{label:[0,"label"]},null),(t()(),i["\u0275eld"](7,0,null,null,10,"div",[["class","app-period-duration-setting__range"]],null,null,null,null,null)),(t()(),i["\u0275eld"](8,0,null,null,4,"app-datepicker-field",[["label","Period Start"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(t,e,n){var i=!0,l=t.component;return"ngModelChange"===e&&(i=!1!==(l.period.date_from=n)&&i),"ngModelChange"===e&&(i=!1!==l.onChangePeriod()&&i),i},C.b,C.a)),i["\u0275did"](9,671744,null,0,v.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,v.q,null,[v.u]),i["\u0275did"](11,16384,null,0,v.r,[[4,v.q]],null,null),i["\u0275did"](12,114688,null,0,x.a,[[6,v.q]],{label:[0,"label"],isInvalid:[1,"isInvalid"],width:[2,"width"]},null),(t()(),i["\u0275eld"](13,0,null,null,4,"app-datepicker-field",[["label","Period End"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(t,e,n){var i=!0,l=t.component;return"ngModelChange"===e&&(i=!1!==(l.period.date_to=n)&&i),"ngModelChange"===e&&(i=!1!==l.onChangePeriod()&&i),i},C.b,C.a)),i["\u0275did"](14,671744,null,0,v.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,v.q,null,[v.u]),i["\u0275did"](16,16384,null,0,v.r,[[4,v.q]],null,null),i["\u0275did"](17,114688,null,0,x.a,[[6,v.q]],{label:[0,"label"],isInvalid:[1,"isInvalid"],width:[2,"width"]},null),(t()(),i["\u0275eld"](18,0,null,null,2,"pre",[],null,null,null,null,null)),(t()(),i["\u0275ted"](19,null,["",""])),i["\u0275pid"](0,r.JsonPipe,[])],function(t,e){var n=e.component;t(e,3,0,n.period.name),t(e,6,0,"Period Name"),t(e,9,0,n.period.date_from),t(e,12,0,"Period Start",n.period.date_from>n.period.date_to,"147px"),t(e,14,0,n.period.date_to),t(e,17,0,"Period End",n.period.date_from>n.period.date_to,"147px")},function(t,e){var n=e.component;t(e,2,0,i["\u0275nov"](e,5).ngClassUntouched,i["\u0275nov"](e,5).ngClassTouched,i["\u0275nov"](e,5).ngClassPristine,i["\u0275nov"](e,5).ngClassDirty,i["\u0275nov"](e,5).ngClassValid,i["\u0275nov"](e,5).ngClassInvalid,i["\u0275nov"](e,5).ngClassPending),t(e,8,0,i["\u0275nov"](e,11).ngClassUntouched,i["\u0275nov"](e,11).ngClassTouched,i["\u0275nov"](e,11).ngClassPristine,i["\u0275nov"](e,11).ngClassDirty,i["\u0275nov"](e,11).ngClassValid,i["\u0275nov"](e,11).ngClassInvalid,i["\u0275nov"](e,11).ngClassPending),t(e,13,0,i["\u0275nov"](e,16).ngClassUntouched,i["\u0275nov"](e,16).ngClassTouched,i["\u0275nov"](e,16).ngClassPristine,i["\u0275nov"](e,16).ngClassDirty,i["\u0275nov"](e,16).ngClassValid,i["\u0275nov"](e,16).ngClassInvalid,i["\u0275nov"](e,16).ngClassPending),t(e,19,0,i["\u0275unv"](e,19,0,i["\u0275nov"](e,20).transform(n.period)))})}class E{constructor(){}ngOnInit(){}}var k=i["\u0275crt"]({encapsulation:0,styles:[[".app-carets[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;border:1px solid gray;background:url(icon-carrets.aafb86db1d6d18d4707c.svg) 50%}.app-carets[_ngcontent-%COMP%]:active, .app-carets[_ngcontent-%COMP%]:hover{width:13px;height:13px;cursor:pointer}"]],data:{}});function T(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,0,"div",[["class","app-carets"]],null,null,null,null,null))],null,null)}const N="undefined"!=typeof Intl&&Intl.v8BreakIterator;let L,Y=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Object(r.isPlatformBrowser)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!N)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new t(Object(i.inject)(i.PLATFORM_ID,8))},token:t,providedIn:"root"}),t})();function A(t){return function(){if(null==L&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>L=!0}))}finally{L=L||!1}return L}()?t:!!t.capture}function j(t){return null!=t&&"false"!==`${t}`}function z(t){return t instanceof i.ElementRef?t.nativeElement:t}var V=n("XNiG"),B=n("quSY"),F=n("HDdC"),q=n("VRyK"),$=n("LRne"),H=n("xgIS"),U=(n("eNwd"),n("/uUt"),n("D0XW")),Z=n("l7GE"),K=n("ZUHj");class G{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new W(t,this.durationSelector))}}class W extends Z.a{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:i}=this;n=i(t)}catch(e){return this.destination.error(e)}const i=Object(K.a)(this,n);!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,i){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var J=n("PqYM");n("pLZG");var X=n("1G5W"),Q=n("JX91"),tt=(n("Zy1z"),n("eIep"));n("qgXg"),n("pxpQ"),n("9ppp"),n("Ylt2");const et=20;let nt=(()=>{class t{constructor(t,e){this._platform=t,e.runOutsideAngular(()=>{this._change=t.isBrowser?Object(q.a)(Object(H.a)(window,"resize"),Object(H.a)(window,"orientationchange")):Object($.a)(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=document.documentElement,e=t.getBoundingClientRect();return{top:-e.top||document.body.scrollTop||window.scrollY||t.scrollTop||0,left:-e.left||document.body.scrollLeft||window.scrollX||t.scrollLeft||0}}change(t=et){return t>0?this._change.pipe(function(t,e=U.a){return n=()=>Object(J.a)(t,e),function(t){return t.lift(new G(n))};var n}(t)):this._change}_updateViewportSize(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}}}return t.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new t(Object(i.inject)(Y),Object(i.inject)(i.NgZone))},token:t,providedIn:"root"}),t})();var it=n("lJxs"),lt=n("IzEk"),ot=n("vkgz");function st(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function rt(t,e){const n=e?"":"none";st(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function at(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function dt(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}const pt=A({passive:!0}),ut=A({passive:!1}),ct=800;class ht{constructor(t,e,n,i,l,o){this._config=e,this._document=n,this._ngZone=i,this._viewportRuler=l,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new V.a,this._moveEventSubscriptions=0,this._pointerMoveSubscription=B.a.EMPTY,this._pointerUpSubscription=B.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this._disabled=!1,this.beforeStarted=new V.a,this.started=new V.a,this.released=new V.a,this.ended=new V.a,this.entered=new V.a,this.exited=new V.a,this.dropped=new V.a,this.moved=new F.a(t=>{const e=this._moveEvents.subscribe(t);return this._moveEventSubscriptions++,()=>{e.unsubscribe(),this._moveEventSubscriptions--}}),this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const n=t.target;return!!n&&(n===e||e.contains(n))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{if(!this._hasStartedDragging){const e=this._getPointerPositionOnPage(t);return void(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold&&(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t))))}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()));const e=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,t.preventDefault(),this._updatePointerDirectionDelta(e),this._dropContainer)this._updateActiveDropContainer(e);else{const t=this._activeTransform;t.x=e.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=e.y-this._pickupPositionOnPage.y+this._passiveTransform.y;const n=gt(t.x,t.y);this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n,"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEventSubscriptions>0&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:e,event:t,delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging)){if(this.released.next({source:this}),!this._dropContainer)return this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>this.ended.next({source:this})),void this._dragDropRegistry.stopDragging(this);this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._dragDropRegistry.stopDragging(this)})}},this.withRootElement(t),o.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=j(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}withHandles(t){return this._handles=t.map(t=>z(t)),this._handles.forEach(t=>rt(t,!1)),this._toggleNativeDragInteractions(),this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=z(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),e.addEventListener("mousedown",this._pointerDown,ut),e.addEventListener("touchstart",this._pointerDown,pt),this._initialTransform=void 0,this._rootElement=e),this}withBoundaryElement(t){return this._boundaryElement=t?z(t):null,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&ft(this._rootElement),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._nextSibling=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)}enableHandle(t){this._disabledHandles.delete(t)}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe()}_destroyPreview(){this._preview&&ft(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&ft(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_startDragSequence(t){if(this.started.next({source:this}),vt(t)&&(this._lastTouchEventTime=Date.now()),this._dropContainer){const t=this._rootElement;this._nextSibling=t.nextSibling;const e=this._preview=this._createPreviewElement(),n=this._placeholder=this._createPlaceholderElement();t.style.display="none",this._document.body.appendChild(t.parentNode.replaceChild(n,t)),this._document.body.appendChild(e),this._dropContainer.start()}}_initializeDragSequence(t,e){e.stopPropagation();const n=this.isDragging(),i=vt(e),l=!i&&0!==e.button,o=this._rootElement,s=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+ct>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),n||l||s)return;null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._handles.length&&(this._rootElementTapHighlight=o.style.webkitTapHighlightColor,o.style.webkitTapHighlightColor="transparent"),this._toggleNativeDragInteractions(),this._hasStartedDragging=this._hasMoved=!1,this._initialContainer=this._dropContainer,this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollPosition=this._viewportRuler.getViewportScrollPosition(),this._boundaryElement&&(this._boundaryRect=this._boundaryElement.getBoundingClientRect()),this._pickupPositionInElement=this._previewTemplate&&this._previewTemplate.template?{x:0,y:0}:this._getPointerPositionInElement(t,e);const r=this._pickupPositionOnPage=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:r.x,y:r.y},this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){this._rootElement.style.display="",this._nextSibling?this._nextSibling.parentNode.insertBefore(this._rootElement,this._nextSibling):this._initialContainer.element.appendChild(this._rootElement),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),{x:i,y:l}=this._getPointerPositionOnPage(t),o=e._isOverContainer(i,l);this.ended.next({source:this}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialContainer.getItemIndex(this),container:e,previousContainer:this._initialContainer,isPointerOverContainer:o}),e.drop(this,n,this._initialContainer,o),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e}){let n=this._dropContainer._getSiblingContainerFromPosition(this,t,e)||this._initialContainer._getSiblingContainerFromPosition(this,t,e);!n&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(n=this._initialContainer),n&&n!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this.entered.next({item:this,container:n}),this._dropContainer=n,this._dropContainer.enter(this,t,e)}),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._preview.style.transform=gt(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=t?t.template:null;let n;if(e){const i=t.viewContainer.createEmbeddedView(e,t.context);n=i.rootNodes[0],this._previewRef=i,n.style.transform=gt(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement,e=t.getBoundingClientRect();(n=_t(t)).style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=gt(e.left,e.top)}return st(n.style,{pointerEvents:"none",position:"fixed",top:"0",left:"0",zIndex:"1000"}),rt(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("dir",this._direction),n}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=gt(t.left,t.top);const e=function(t){const e=getComputedStyle(t),n=dt(e,"transition-property"),i=n.find(t=>"transform"===t||"all"===t);if(!i)return 0;const l=n.indexOf(i),o=dt(e,"transition-duration"),s=dt(e,"transition-delay");return at(o[l])+at(s[l])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const n=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",n),t(),clearTimeout(i))},i=setTimeout(n,1.5*e);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),n=this._placeholderRef.rootNodes[0]):n=_t(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e){const n=this._rootElement.getBoundingClientRect(),i=t===this._rootElement?null:t,l=i?i.getBoundingClientRect():n,o=vt(e)?e.targetTouches[0]:e;return{x:l.left-n.left+(o.pageX-l.left-this._scrollPosition.left),y:l.top-n.top+(o.pageY-l.top-this._scrollPosition.top)}}_getPointerPositionOnPage(t){const e=vt(t)?t.touches[0]||t.changedTouches[0]:t;return{x:e.pageX-this._scrollPosition.left,y:e.pageY-this._scrollPosition.top}}_getConstrainedPointerPosition(t){const e=this._getPointerPositionOnPage(t),n=this._dropContainer?this._dropContainer.lockAxis:null;if("x"===this.lockAxis||"x"===n?e.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==n||(e.x=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:n}=this._pickupPositionInElement,i=this._boundaryRect,l=this._previewRect,o=i.top+n,s=i.bottom-(l.height-n);e.x=mt(e.x,i.left+t,i.right-(l.width-t)),e.y=mt(e.y,o,s)}return e}_updatePointerDirectionDelta(t){const{x:e,y:n}=t,i=this._pointerDirectionDelta,l=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-l.x),s=Math.abs(n-l.y);return o>this._config.pointerDirectionChangeThreshold&&(i.x=e>l.x?1:-1,l.x=e),s>this._config.pointerDirectionChangeThreshold&&(i.y=n>l.y?1:-1,l.y=n),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this.disabled||this._handles.length>0;t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,rt(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,ut),t.removeEventListener("touchstart",this._pointerDown,pt)}}function gt(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function _t(t){const e=t.cloneNode(!0);return e.removeAttribute("id"),e}function mt(t,e,n){return Math.max(e,Math.min(n,t))}function ft(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function vt(t){return t.type.startsWith("touch")}function bt(t,e){return Math.max(0,Math.min(e,t))}let Ct=0;const xt=.05;class Pt{constructor(t,e,n){this._dragDropRegistry=e,this.id=`cdk-drop-list-ref-${Ct++}`,this.disabled=!1,this.enterPredicate=()=>!0,this.beforeStarted=new V.a,this.entered=new V.a,this.exited=new V.a,this.dropped=new V.a,this.sorted=new V.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",e.registerDropContainer(this),this._document=n,this.element=t instanceof i.ElementRef?t.nativeElement:t}dispose(){this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this.beforeStarted.next(),this._isDragging=!0,this._activeDraggables=this._draggables.slice(),this._cacheOwnPosition(),this._cacheItemPositions(),this._siblings.forEach(t=>t._startReceiving(this))}enter(t,e,n){this.entered.next({item:t,container:this}),this.start();const i=this._getItemIndexFromPointerPosition(t,e,n),l=this._activeDraggables.indexOf(t),o=this._activeDraggables[i],s=t.getPlaceholderElement();if(l>-1&&this._activeDraggables.splice(l,1),o&&!this._dragDropRegistry.isDragging(o)){const e=o.getRootElement();e.parentElement.insertBefore(s,e),this._activeDraggables.splice(i,0,t)}else this.element.appendChild(s),this._activeDraggables.push(t);s.style.transform="",this._cacheItemPositions()}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,i){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:n.getItemIndex(t),container:this,previousContainer:n,isPointerOverContainer:i})}withItems(t){return this._draggables=t.slice(),t.forEach(t=>t._withDropContainer(this)),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}getItemIndex(t){return this._isDragging?St("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,i){if(!this._isPointerNearDropContainer(e,n))return;const l=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,n,i);if(-1===o&&l.length>0)return;const s="horizontal"===this._orientation,r=St(l,e=>e.drag===t),a=l[o],d=l[r].clientRect,p=a.clientRect,u=r>o?1:-1;this._previousSwap.drag=a.drag,this._previousSwap.delta=s?i.x:i.y;const c=this._getItemOffsetPx(d,p,u),h=this._getSiblingOffsetPx(r,l,u),g=l.slice();!function(t,e,n){const i=bt(r,t.length-1),l=bt(n,t.length-1);if(i===l)return;const o=t[i],s=l<i?-1:1;for(let r=i;r!==l;r+=s)t[r]=t[r+s];t[l]=o}(l,0,o),this.sorted.next({previousIndex:r,currentIndex:o,container:this,item:t}),l.forEach((e,n)=>{if(g[n]===e)return;const i=e.drag===t,l=i?c:h,o=i?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=l,s?(o.style.transform=`translate3d(${Math.round(e.offset)}px, 0, 0)`,wt(e.clientRect,0,l)):(o.style.transform=`translate3d(0, ${Math.round(e.offset)}px, 0)`,wt(e.clientRect,l,0))})}_cacheOwnPosition(){this._clientRect=this.element.getBoundingClientRect()}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=(this._dragDropRegistry.isDragging(t)?t.getPlaceholderElement():t.getRootElement()).getBoundingClientRect();return{drag:t,offset:0,clientRect:{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1,this._activeDraggables.forEach(t=>t.getRootElement().style.transform=""),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0}_getSiblingOffsetPx(t,e,n){const i="horizontal"===this._orientation,l=e[t].clientRect,o=e[t+-1*n];let s=l[i?"width":"height"]*n;if(o){const t=i?"left":"top",e=i?"right":"bottom";-1===n?s-=o.clientRect[t]-l[e]:s+=l[t]-o.clientRect[e]}return s}_isPointerNearDropContainer(t,e){const{top:n,right:i,bottom:l,left:o,width:s,height:r}=this._clientRect,a=s*xt,d=r*xt;return e>n-d&&e<l+d&&t>o-a&&t<i+a}_getItemOffsetPx(t,e,n){const i="horizontal"===this._orientation;let l=i?e.left-t.left:e.top-t.top;return-1===n&&(l+=i?e.width-t.width:e.height-t.height),l}_getItemIndexFromPointerPosition(t,e,n,i){const l="horizontal"===this._orientation;return St(this._itemPositions,({drag:o,clientRect:s},r,a)=>{if(o===t)return a.length<2;if(i){const t=l?i.x:i.y;if(o===this._previousSwap.drag&&t===this._previousSwap.delta)return!1}return l?e>=Math.floor(s.left)&&e<=Math.floor(s.right):n>=Math.floor(s.top)&&n<=Math.floor(s.bottom)})}_isOverContainer(t,e){return Ot(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(i=>i._canReceive(t,e,n))}_canReceive(t,e,n){if(!this.enterPredicate(t,this)||!Ot(this._clientRect,e,n))return!1;const i=this._document.elementFromPoint(e,n);return!!i&&(i===this.element||this.element.contains(i))}_startReceiving(t){const e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheOwnPosition())}_stopReceiving(t){this._activeSiblings.delete(t)}}function wt(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function St(t,e){for(let n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function Ot(t,e,n){const{top:i,bottom:l,left:o,right:s}=t;return n>=i&&n<=l&&e>=o&&e<=s}const It=A({passive:!1,capture:!0});let Mt=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new V.a,this.pointerUp=new V.a,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.size&&t.preventDefault()},this._document=e}registerDropContainer(t){if(!this._dropInstances.has(t)){if(this.getDropContainer(t.id))throw Error(`Drop instance with id "${t.id}" has already been registered.`);this._dropInstances.add(t)}}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._preventDefaultWhileDragging,It)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,It)}startDragging(t,e){if(this._activeDragInstances.add(t),1===this._activeDragInstances.size){const t=e.type.startsWith("touch"),n=t?"touchend":"mouseup";this._globalListeners.set(t?"touchmove":"mousemove",{handler:t=>this.pointerMove.next(t),options:It}).set(n,{handler:t=>this.pointerUp.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:It}),t||this._globalListeners.set("wheel",{handler:this._preventDefaultWhileDragging,options:It}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances.has(t)}getDropContainer(t){return Array.from(this._dropInstances).find(e=>e.id===t)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new t(Object(i.inject)(i.NgZone),Object(i.inject)(r.DOCUMENT))},token:t,providedIn:"root"}),t})();const yt={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Dt=(()=>{class t{constructor(t,e,n,i){this._document=t,this._ngZone=e,this._viewportRuler=n,this._dragDropRegistry=i}createDrag(t,e=yt){return new ht(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Pt(t,this._dragDropRegistry,this._document)}}return t.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new t(Object(i.inject)(r.DOCUMENT),Object(i.inject)(i.NgZone),Object(i.inject)(nt),Object(i.inject)(Mt))},token:t,providedIn:"root"}),t})();const Rt=new i.InjectionToken("CDK_DROP_LIST"),Et=new i.InjectionToken("CDK_DRAG_PARENT");class kt{constructor(t,e){this.element=t,this._stateChanges=new V.a,this._disabled=!1,this._parentDrag=e,rt(t.nativeElement,!1)}get disabled(){return this._disabled}set disabled(t){this._disabled=j(t),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}const Tt=new i.InjectionToken("CDK_DRAG_CONFIG",{providedIn:"root",factory:function(){return{dragStartThreshold:5,pointerDirectionChangeThreshold:5}}});class Nt{constructor(t,e,n,l,o,s,r,a,d,p,u){this.element=t,this.dropContainer=e,this._document=n,this._ngZone=l,this._viewContainerRef=o,this._dir=d,this._changeDetectorRef=u,this._destroyed=new V.a,this._disabled=!1,this.started=new i.EventEmitter,this.released=new i.EventEmitter,this.ended=new i.EventEmitter,this.entered=new i.EventEmitter,this.exited=new i.EventEmitter,this.dropped=new i.EventEmitter,this.moved=new F.a(t=>{const e=this._dragRef.moved.pipe(Object(it.a)(t=>({source:this,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta}))).subscribe(t);return()=>{e.unsubscribe()}}),this._dragRef=p?p.createDrag(t,a):new ht(t,a,n,l,s,r),this._dragRef.data=this,this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=j(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}ngAfterViewInit(){this._ngZone.onStable.asObservable().pipe(Object(lt.a)(1),Object(X.a)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._handles.changes.pipe(Object(Q.a)(this._handles),Object(ot.a)(t=>{const e=t.filter(t=>t._parentDrag===this).map(t=>t.element);this._dragRef.withHandles(e)}),Object(tt.a)(t=>Object(q.a)(...t.map(t=>t._stateChanges))),Object(X.a)(this._destroyed)).subscribe(t=>{const e=this._dragRef,n=t.element.nativeElement;t.disabled?e.disableHandle(n):e.enableHandle(n)})})}ngOnChanges(t){const e=t.rootElementSelector;e&&!e.firstChange&&this._updateRootElement()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}_updateRootElement(){const t=this.element.nativeElement,e=this.rootElementSelector?Lt(t,this.rootElementSelector):t;if(e&&e.nodeType!==this._document.ELEMENT_NODE)throw Error("cdkDrag must be attached to an element node. "+`Currently attached to "${e.nodeName}".`);this._dragRef.withRootElement(e||t)}_getBoundaryElement(){const t=this.boundaryElementSelector;return t?Lt(this.element.nativeElement,t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const e=this._dir,n=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,i=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(n).withPreviewTemplate(i),e&&t.withDirection(e.value)}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef&&this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(()=>{this.ended.emit({source:this}),this._changeDetectorRef&&this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this})}),t.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this})})}}function Lt(t,e){let n=t.parentElement;for(;n;){if(n.matches?n.matches(e):n.msMatchesSelector(e))return n;n=n.parentElement}return null}class Yt{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=j(t)}ngOnDestroy(){this._items.clear()}}let At=0,jt=(()=>{class t{constructor(e,n,l,o,s,r,a){this.element=e,this._changeDetectorRef=l,this._dir=o,this._group=s,this._destroyed=new V.a,this.connectedTo=[],this.orientation="vertical",this.id=`cdk-drop-list-${At++}`,this._disabled=!1,this.enterPredicate=()=>!0,this.dropped=new i.EventEmitter,this.entered=new i.EventEmitter,this.exited=new i.EventEmitter,this.sorted=new i.EventEmitter,this._dropListRef=a?a.createDropList(e):new Pt(e,n,r||document),this._dropListRef.data=this,this._dropListRef.enterPredicate=(t,e)=>this.enterPredicate(t.data,e.data),this._syncInputs(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),s&&s._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._disabled=j(t)}ngAfterContentInit(){this._draggables.changes.pipe(Object(Q.a)(this._draggables),Object(X.a)(this._destroyed)).subscribe(t=>{this._dropListRef.withItems(t.map(t=>t._dragRef))})}ngOnDestroy(){const e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}start(){this._dropListRef.start()}drop(t,e,n,i){this._dropListRef.drop(t._dragRef,e,n._dropListRef,i)}enter(t,e,n){this._dropListRef.enter(t._dragRef,e,n)}exit(t){this._dropListRef.exit(t._dragRef)}getItemIndex(t){return this._dropListRef.getItemIndex(t._dragRef)}_sortItem(t,e,n,i){return this._dropListRef._sortItem(t._dragRef,e,n,i)}_getSiblingContainerFromPosition(t,e,n){const i=this._dropListRef._getSiblingContainerFromPosition(t._dragRef,e,n);return i?i.data:null}_isOverContainer(t,e){return this._dropListRef._isOverContainer(t,e)}_syncInputs(e){this._dir&&this._dir.change.pipe(Object(Q.a)(this._dir.value),Object(X.a)(this._destroyed)).subscribe(t=>e.withDirection(t)),e.beforeStarted.subscribe(()=>{const n=function(t){return Array.isArray(t)?t:[t]}(this.connectedTo).map(e=>"string"==typeof e?t._dropLists.find(t=>t.id===e):e);this._group&&this._group._items.forEach(t=>{-1===n.indexOf(t)&&n.push(t)}),e.lockAxis=this.lockAxis,e.connectedTo(n.filter(t=>t&&t!==this).map(t=>t._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:this,item:t.item.data})}),t.exited.subscribe(t=>{this.exited.emit({container:this,item:t.item.data})}),t.sorted.subscribe(t=>{this.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:this,item:t.item.data})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer}),this._changeDetectorRef.markForCheck()})}}return t._dropLists=[],t})();class zt{}class Vt{constructor(t){this.store=t,this.closeInfo=new i.EventEmitter,this.periodSubscribe=t.select("state")}ngOnInit(){this.periodSubscribe.subscribe(t=>{this.activeSplitSet=t.splitsSet.find(t=>t.split_set_id===this.splitSetId),this.activeSplitSet&&(this.activeSplit=this.activeSplitSet.splits.find(t=>t.split_id===this.splitId))})}onCloseInfo(){this.closeInfo.emit(this.periodScaleItemId)}onChangeSplitDate(){const t=this.activeSplitSet.splits.indexOf(this.activeSplitSet.splits.find(t=>t.split_id===this.splitId)),e=P(this.activeSplit.date_to).diff(P(this.activeSplit.date_from),"days")+1;e>7&&(this.activeSplitSet.splits[t]={name:this.activeSplit.name,date_from:this.activeSplit.date_from,date_to:this.activeSplit.date_to,split_id:this.activeSplit.split_id,duration:e},this.updateSplitSet(this.splitSetId,this.activeSplitSet))}updateSplitSet(t,e){this.store.dispatch(new I({index:t,splitSet:e}))}onDeleteClick(){const t=this.activeSplitSet.splits.indexOf(this.activeSplitSet.splits.find(t=>t.split_id===this.splitId));this.activeSplitSet.splits[t+1]&&(this.activeSplitSet.splits[t+1].date_from=this.activeSplitSet.splits[t].date_from,this.activeSplitSet.splits[t+1].duration+=this.activeSplitSet.splits[t].duration),this.activeSplitSet.splits.splice(t,1),this.updateSplitSet(this.splitSetId,this.activeSplitSet)}onCopyClick(){console.log("copy")}onChangeSplitDuration(){console.log("change duration"),this.activeSplitSet.splits.indexOf(this.activeSplitSet.splits.find(t=>t.split_id===this.splitId))}}var Bt=i["\u0275crt"]({encapsulation:0,styles:[['.app-period-split-settings[_ngcontent-%COMP%]{width:310px;height:95px;border-radius:5px;background-color:#50597a}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:35px;padding:10px 10px 10px 15px;border-radius:5px 5px 0 0;color:#fff;background-color:#36405f}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__header[_ngcontent-%COMP%]   .app-period-split-settings__header--text[_ngcontent-%COMP%]{font:800 11px/15px NunitoSans-Bold;text-transform:uppercase}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__header[_ngcontent-%COMP%]   .app-period-split-settings__header--cross[_ngcontent-%COMP%]:hover{cursor:pointer}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]{display:flex;padding:10px 15px}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__col[_ngcontent-%COMP%]{width:57px}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__col--duration[_ngcontent-%COMP%]{width:63px}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__col--duration[_ngcontent-%COMP%]   .app-period-split-settings__duration[_ngcontent-%COMP%]{display:flex}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__col--duration[_ngcontent-%COMP%]   .app-period-split-settings__duration[_ngcontent-%COMP%]   .app-period-split-settings__duration--field[_ngcontent-%COMP%]{width:41px;height:22px;padding:5px;border:1px solid #b6b6b6;border-radius:3px;font-size:12px}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__col--duration[_ngcontent-%COMP%]   .app-period-split-settings__duration[_ngcontent-%COMP%]   .app-period-split-settings__duration--text[_ngcontent-%COMP%]{margin:auto 0 auto 5px;font-size:12px;line-height:15px;color:#fff}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__cols[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:222px;padding:0 15px 0 0;position:relative}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__cols[_ngcontent-%COMP%]   .app-period-split-settings__col--text[_ngcontent-%COMP%]{margin:0 0 4px;font:400 9px/11px NunitoSans-Bold;color:#fff;text-transform:uppercase}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__cols[_ngcontent-%COMP%]   .app-period-split-settings__duration[_ngcontent-%COMP%]{display:flex}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__cols[_ngcontent-%COMP%]:after{position:absolute;content:"";width:1px;height:32px;top:9px;right:1px;background-color:#ebeeff}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__buttons[_ngcontent-%COMP%]{display:flex;flex-grow:1;justify-content:space-between;align-items:center;padding:0 0 0 15px;color:#fff}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__buttons-ico[_ngcontent-%COMP%]{font-size:12px}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__buttons-ico[_ngcontent-%COMP%]:hover{cursor:pointer}']],data:{}});function Ft(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,38,"div",[["class","app-period-split-settings"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,3,"div",[["class","app-period-split-settings__header"]],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,1,"h3",[["class","app-period-split-settings__header--text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Split Settings"])),(t()(),i["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-times app-period-split-settings__header--cross"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onCloseInfo()&&i),i},null,null)),(t()(),i["\u0275eld"](5,0,null,null,33,"div",[["class","app-period-split-settings__content"]],null,null,null,null,null)),(t()(),i["\u0275eld"](6,0,null,null,29,"div",[["class","app-period-split-settings__cols"]],null,null,null,null,null)),(t()(),i["\u0275eld"](7,0,null,null,7,"div",[["class","app-period-split-settings__col"]],null,null,null,null,null)),(t()(),i["\u0275eld"](8,0,null,null,1,"p",[["class","app-period-split-settings__col--text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Starts"])),(t()(),i["\u0275eld"](10,0,null,null,4,"app-datepicker-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(t,e,n){var i=!0,l=t.component;return"ngModelChange"===e&&(i=!1!==(l.activeSplit.date_from=n)&&i),"ngModelChange"===e&&(i=!1!==l.onChangeSplitDate()&&i),i},C.b,C.a)),i["\u0275did"](11,671744,null,0,v.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,v.q,null,[v.u]),i["\u0275did"](13,16384,null,0,v.r,[[4,v.q]],null,null),i["\u0275did"](14,114688,null,0,x.a,[[6,v.q]],{isInvalid:[0,"isInvalid"],width:[1,"width"],dateInputFormat:[2,"dateInputFormat"],style:[3,"style"]},null),(t()(),i["\u0275eld"](15,0,null,null,12,"div",[["class","app-period-split-settings__col--duration"]],null,null,null,null,null)),(t()(),i["\u0275eld"](16,0,null,null,1,"p",[["class","app-period-split-settings__col--text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Duration"])),(t()(),i["\u0275eld"](18,0,null,null,9,"div",[["class","app-period-split-settings__duration"]],null,null,null,null,null)),(t()(),i["\u0275eld"](19,0,[["input",1]],null,6,"input",[["class","app-period-split-settings__duration--field"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(t,e,n){var l=!0,o=t.component;return"input"===e&&(l=!1!==i["\u0275nov"](t,20)._handleInput(n.target.value)&&l),"blur"===e&&(l=!1!==i["\u0275nov"](t,20).onTouched()&&l),"compositionstart"===e&&(l=!1!==i["\u0275nov"](t,20)._compositionStart()&&l),"compositionend"===e&&(l=!1!==i["\u0275nov"](t,20)._compositionEnd(n.target.value)&&l),"change"===e&&(l=!1!==i["\u0275nov"](t,21).onChange(n.target.value)&&l),"input"===e&&(l=!1!==i["\u0275nov"](t,21).onChange(n.target.value)&&l),"blur"===e&&(l=!1!==i["\u0275nov"](t,21).onTouched()&&l),"ngModelChange"===e&&(l=!1!==(o.activeSplit.duration=n)&&l),"ngModelChange"===e&&(l=!1!==o.onChangeSplitDuration()&&l),l},null,null)),i["\u0275did"](20,16384,null,0,v.d,[i.Renderer2,i.ElementRef,[2,v.a]],null,null),i["\u0275did"](21,16384,null,0,v.w,[i.Renderer2,i.ElementRef],null,null),i["\u0275prd"](1024,null,v.p,function(t,e){return[t,e]},[v.d,v.w]),i["\u0275did"](23,671744,null,0,v.u,[[8,null],[8,null],[8,null],[6,v.p]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,v.q,null,[v.u]),i["\u0275did"](25,16384,null,0,v.r,[[4,v.q]],null,null),(t()(),i["\u0275eld"](26,0,null,null,1,"div",[["class","app-period-split-settings__duration--text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["days"])),(t()(),i["\u0275eld"](28,0,null,null,7,"div",[["class","app-period-split-settings__col"]],null,null,null,null,null)),(t()(),i["\u0275eld"](29,0,null,null,1,"p",[["class","app-period-split-settings__col--text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Ends"])),(t()(),i["\u0275eld"](31,0,null,null,4,"app-datepicker-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(t,e,n){var i=!0,l=t.component;return"ngModelChange"===e&&(i=!1!==(l.activeSplit.date_to=n)&&i),"ngModelChange"===e&&(i=!1!==l.onChangeSplitDate()&&i),i},C.b,C.a)),i["\u0275did"](32,671744,null,0,v.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,v.q,null,[v.u]),i["\u0275did"](34,16384,null,0,v.r,[[4,v.q]],null,null),i["\u0275did"](35,114688,null,0,x.a,[[6,v.q]],{isInvalid:[0,"isInvalid"],width:[1,"width"],dateInputFormat:[2,"dateInputFormat"],style:[3,"style"]},null),(t()(),i["\u0275eld"](36,0,null,null,2,"div",[["class","app-period-split-settings__buttons"]],null,null,null,null,null)),(t()(),i["\u0275eld"](37,0,null,null,0,"i",[["class","fas fa-trash app-period-split-settings__buttons-ico"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onDeleteClick()&&i),i},null,null)),(t()(),i["\u0275eld"](38,0,null,null,0,"i",[["class","fas fa-copy app-period-split-settings__buttons-ico"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onCopyClick()&&i),i},null,null))],function(t,e){var n=e.component;t(e,11,0,n.activeSplit.date_from),t(e,14,0,n.activeSplit.date_from>n.activeSplit.date_to,"57px","MM/DD","short"),t(e,23,0,n.activeSplit.duration),t(e,32,0,n.activeSplit.date_to),t(e,35,0,n.activeSplit.date_from>n.activeSplit.date_to,"57px","MM/DD","short")},function(t,e){t(e,10,0,i["\u0275nov"](e,13).ngClassUntouched,i["\u0275nov"](e,13).ngClassTouched,i["\u0275nov"](e,13).ngClassPristine,i["\u0275nov"](e,13).ngClassDirty,i["\u0275nov"](e,13).ngClassValid,i["\u0275nov"](e,13).ngClassInvalid,i["\u0275nov"](e,13).ngClassPending),t(e,19,0,i["\u0275nov"](e,25).ngClassUntouched,i["\u0275nov"](e,25).ngClassTouched,i["\u0275nov"](e,25).ngClassPristine,i["\u0275nov"](e,25).ngClassDirty,i["\u0275nov"](e,25).ngClassValid,i["\u0275nov"](e,25).ngClassInvalid,i["\u0275nov"](e,25).ngClassPending),t(e,31,0,i["\u0275nov"](e,34).ngClassUntouched,i["\u0275nov"](e,34).ngClassTouched,i["\u0275nov"](e,34).ngClassPristine,i["\u0275nov"](e,34).ngClassDirty,i["\u0275nov"](e,34).ngClassValid,i["\u0275nov"](e,34).ngClassInvalid,i["\u0275nov"](e,34).ngClassPending)})}const qt=new i.InjectionToken("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(i.inject)(r.DOCUMENT)}});let $t=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new i.EventEmitter,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new t(Object(i.inject)(qt,8))},token:t,providedIn:"root"}),t})();var Ht=n("zC7G");class Ut{constructor(t){this.ngControl=t,this.value="",this.inputStyle=null,this.inputColor=null,this.onChangeField=new i.EventEmitter,this.ngControl&&(this.ngControl.valueAccessor=this)}ngOnInit(){}writeValue(t){this.value=t}setDisabledState(t){this.disabled=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}onChange(t){return this.onChangeField.emit({fieldValue:t,type:"input"}),t}onTouched(){}onPenClick(){this.input.nativeElement.focus()}}var Zt=i["\u0275crt"]({encapsulation:0,styles:[[".app-input-editable-field[_ngcontent-%COMP%]{width:auto;height:14px;position:relative;display:flex;justify-content:center;padding:0;margin:auto;border:none;border-radius:0;color:#fff}.app-input-editable-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;height:14px;font-size:12px}.app-input-editable-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.app-input-editable-field[_ngcontent-%COMP%]   input.app-input-field__value[_ngcontent-%COMP%]{padding-top:10px}.app-input-editable-field[_ngcontent-%COMP%]   .app-input-editable-field__ico[_ngcontent-%COMP%]{width:9px;height:9px;margin:auto 0;color:#fff;font-size:9px}.app-input-editable-field[_ngcontent-%COMP%]   .app-input-editable-field__input[_ngcontent-%COMP%]{color:#fff;background-color:#36405f}.app-input-editable-field.app-input-editable-field__header[_ngcontent-%COMP%]{justify-content:left;color:#000}.app-input-editable-field.app-input-editable-field__header[_ngcontent-%COMP%]   .app-input-editable-field__input[_ngcontent-%COMP%]{min-width:10px;padding:5px 0 0;margin:0 5px 0 0;color:#000;background-color:#fff;font:11px/15px NunitoSans-Bold}.app-input-editable-field.app-input-editable-field__header[_ngcontent-%COMP%]   .app-input-editable-field__ico[_ngcontent-%COMP%]{width:12px;height:12px;margin:auto 0;color:grey;font-size:12px}"]],data:{}});function Kt(t){return i["\u0275vid"](0,[i["\u0275qud"](402653184,1,{input:0}),(t()(),i["\u0275eld"](1,0,null,null,14,"div",[["class","app-input-editable-field"]],null,null,null,null,null)),i["\u0275prd"](512,null,r["\u0275NgClassImpl"],r["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](3,278528,null,0,r.NgClass,[r["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](4,{"app-input-editable-field__header":0}),(t()(),i["\u0275eld"](5,0,[[1,0],["input",1]],null,9,"input",[["AutoSizeInput",""],["class","form-control app-input-editable-field__input"]],[[8,"value",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var l=!0,o=t.component;return"input"===e&&(l=!1!==i["\u0275nov"](t,9)._handleInput(n.target.value)&&l),"blur"===e&&(l=!1!==i["\u0275nov"](t,9).onTouched()&&l),"compositionstart"===e&&(l=!1!==i["\u0275nov"](t,9)._compositionStart()&&l),"compositionend"===e&&(l=!1!==i["\u0275nov"](t,9)._compositionEnd(n.target.value)&&l),"input"===e&&(l=!1!==i["\u0275nov"](t,14).onInput(n.target)&&l),"ngModelChange"===e&&(l=!1!==(o.value=n)&&l),"input"===e&&(l=!1!==o.onChange(n.target.value)&&l),"blur"===e&&(l=!1!==o.onTouched()&&l),l},null,null)),i["\u0275prd"](512,null,r["\u0275NgStyleImpl"],r["\u0275NgStyleR2Impl"],[i.ElementRef,i.KeyValueDiffers,i.Renderer2]),i["\u0275did"](7,278528,null,0,r.NgStyle,[r["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](8,{color:0}),i["\u0275did"](9,16384,null,0,v.d,[i.Renderer2,i.ElementRef,[2,v.a]],null,null),i["\u0275prd"](1024,null,v.p,function(t){return[t]},[v.d]),i["\u0275did"](11,671744,null,0,v.u,[[8,null],[8,null],[8,null],[6,v.p]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,v.q,null,[v.u]),i["\u0275did"](13,16384,null,0,v.r,[[4,v.q]],null,null),i["\u0275did"](14,2637824,null,0,Ht.AutoSizeInputDirective,[i.ElementRef],null,null),(t()(),i["\u0275eld"](15,0,null,null,0,"i",[["class","fas fa-pen app-input-editable-field__ico"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onPenClick()&&i),i},null,null))],function(t,e){var n=e.component,i=t(e,4,0,"header"===n.inputStyle);t(e,3,0,"app-input-editable-field",i);var l=t(e,8,0,n.inputColor);t(e,7,0,l),t(e,11,0,n.value)},function(t,e){t(e,5,0,e.component.value,i["\u0275nov"](e,13).ngClassUntouched,i["\u0275nov"](e,13).ngClassTouched,i["\u0275nov"](e,13).ngClassPristine,i["\u0275nov"](e,13).ngClassDirty,i["\u0275nov"](e,13).ngClassValid,i["\u0275nov"](e,13).ngClassInvalid,i["\u0275nov"](e,13).ngClassPending)})}class Gt{constructor(t){this.store=t,this.periodSubscribe=t.select("state")}ngOnInit(){this.periodSubscribe.subscribe(t=>{this.periodSplitSet=t.splitsSet,this.activePeriodSet=t.splitsSet.find(t=>t.split_set_id===this.splitSetId),this.initScale()}),this.periodScale={width:6*this.getSplitSetLength(),length:this.getSplitSetLength(),items:[]},this.initScale()}getSplitSetLength(){return this.activePeriodSet&&this.activePeriodSet.splits&&this.activePeriodSet.splits.length?this.activePeriodSet.splits.reduce((t,e)=>t+e.duration,0):0}initScale(){const t=this.getSplitSetLength();this.periodScale={width:6*t,length:t,items:[]},this.activePeriodSet.splits.map(t=>{for(let e=0;e<t.duration;e++)this.periodScale.items.push({id:e,isExtreme:e===t.duration-1,extremeDate:e===t.duration-1?P(t.date_to,"DD-MM-YYYY").format("MM/DD"):null,label:2===e?t.name:null,splitId:t.split_id,slitDuration:2===e?t.duration:null,isPen:e===t.duration-5,isInfoOpen:!1,isLabelEdit:!1})})}dropItem(t){console.log(t.previousIndex,t.currentIndex),this.activePeriodSet.splits.map(t.currentIndex<t.previousIndex?e=>{e.split_id===parseInt(t.item.element.nativeElement.id,10)?(e.date_to=P(e.date_to,"DD-MM-YYYY").subtract(t.currentIndex-t.previousIndex,"days").toDate(),e.duration=e.duration-(t.previousIndex-t.currentIndex)):e.split_id===parseInt(t.item.element.nativeElement.id,10)+1&&(e.date_from=P(e.date_from,"DD-MM-YYYY").subtract(t.currentIndex-t.previousIndex,"days").toDate(),e.duration=e.duration+(t.previousIndex-t.currentIndex))}:e=>{e.split_id===parseInt(t.item.element.nativeElement.id,10)?(e.date_to=P(e.date_to,"DD-MM-YYYY").add(t.currentIndex-t.previousIndex,"days").toDate(),e.duration=e.duration+(t.currentIndex-t.previousIndex)):e.split_id===parseInt(t.item.element.nativeElement.id,10)+1&&(e.date_from=P(e.date_from,"DD-MM-YYYY").add(t.currentIndex-t.previousIndex,"days").toDate(),e.duration=e.duration-(t.currentIndex-t.previousIndex))}),this.updateSplitSet(this.activePeriodSet.split_set_id,this.activePeriodSet)}getColor(){return this.viewId%2==0?"#C87F13":"#1079C4"}onChangeSplitName(t,e){this.activePeriodSet.splits.map(n=>{n.split_id===e&&(n.name=t)}),this.updateSplitSet(this.activePeriodSet.split_set_id,this.activePeriodSet)}onAddSplit(){const t=P(this.activePeriodSet.splits.slice(-1).pop().date_to,"DD-MM-YYYY").add(1,"days").toDate(),e=this.activePeriodSet.splits&&this.activePeriodSet.splits.length?this.activePeriodSet.splits.slice(-1).pop().split_id:1;this.activePeriodSet.splits.push({name:e+1+" split",date_from:t,date_to:P(t,"DD-MM-YYYY").add(31,"days").toDate(),split_id:e+1,duration:31}),this.updateSplitSet(this.activePeriodSet.split_set_id,this.activePeriodSet)}onCreateSplit(){const t=this.activePeriodSet.splits&&this.activePeriodSet.splits.length?this.activePeriodSet.splits.slice(-1).pop().split_id:0;this.activePeriodSet.splits.push({name:t+1+" split",date_from:new Date,date_to:P(new Date,"DD-MM-YYYY").add(31,"days").toDate(),split_id:t+1,duration:31}),this.updateSplitSet(this.activePeriodSet.split_set_id,this.activePeriodSet),console.log(this.activePeriodSet)}updateSplitSet(t,e){this.store.dispatch(new I({index:t,splitSet:e}))}onPenClick(t){const e=this.periodScale.items[t].splitId;this.periodScale.items[t].isInfoOpen=!this.periodScale.items[t].isInfoOpen,this.periodScale.items.map(t=>{t.splitId===e&&(t.isLabelEdit=!t.isLabelEdit)})}onCloseInfo(t){const e=this.periodScale.items[t].splitId;this.periodScale.items[t].isInfoOpen=!1,this.periodScale.items.map(t=>{t.splitId===e&&(t.isLabelEdit=!1)})}getWidth(t){return 8*t.length+"px"}getIndex(t){return!t.isInfoOpen&&(t.isPen||t.isExtreme||t.label)?2:t.isInfoOpen?3:0}}var Wt=i["\u0275crt"]({encapsulation:0,styles:[['.app-period-split-bar[_ngcontent-%COMP%]{display:flex;padding:0 15px;background-color:#fff}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__header[_ngcontent-%COMP%]{min-width:115px;max-width:115px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]{display:flex;width:100%;max-width:1025px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale[_ngcontent-%COMP%]{display:flex;position:relative;overflow:visible;min-width:100px;max-width:1003px;height:65px;padding:10px 10px 15px 0}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale[_ngcontent-%COMP%]   .app-period-split-bar__scale--label[_ngcontent-%COMP%]{position:absolute;z-index:1;overflow:hidden}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__add_split[_ngcontent-%COMP%]{flex-grow:2;height:19px;width:19px;margin:5px 0 0;cursor:pointer;color:#4350a2;background-color:#ebeeff;border:1px dashed #4350a2;text-align:center;vertical-align:middle}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__add_split[_ngcontent-%COMP%]   .app-period-split-bar__add_split--ico[_ngcontent-%COMP%]{font-size:14px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--cell[_ngcontent-%COMP%]{width:6px;height:14px;position:relative}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--cell[_ngcontent-%COMP%]   .app-period-split-bar--date[_ngcontent-%COMP%]{position:absolute;bottom:-14px;left:-8px;height:10px;font-size:10px;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--cell[_ngcontent-%COMP%]   .app-period-split-bar--input[_ngcontent-%COMP%]{position:absolute;top:2px;height:10px;font-size:10px;line-height:13px;border:none;border-radius:5px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar--label[_ngcontent-%COMP%]{position:absolute;height:14px;z-index:1;font-size:10px;line-height:15px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar--label--yellow[_ngcontent-%COMP%]{color:#c87f13}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar--label--blue[_ngcontent-%COMP%]{color:#1079c4}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--cell[_ngcontent-%COMP%]::before{content:"";position:absolute;top:-7px;height:4px;width:4px;background-color:#c87f13}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__cell--selected[_ngcontent-%COMP%]{width:5.5px;height:14px;background-color:#a4a8be}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--yellow[_ngcontent-%COMP%]{background-color:#fbe2bc}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--yellow[_ngcontent-%COMP%]::before{background-color:#c87f13}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--blue[_ngcontent-%COMP%]{background-color:#def1ff}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--blue[_ngcontent-%COMP%]::before{background-color:#1079c4}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__add[_ngcontent-%COMP%]{width:100%;height:23px;margin:0 0 20px;cursor:pointer;font:12px/23px NunitoSans-Bold;color:#4350a2;background-color:#ebeeff;border:1px dashed #4350a2;text-align:center}.app-period-split-bar[_ngcontent-%COMP%]   .cdk-drag-placeholder[_ngcontent-%COMP%]   .app-period-split-bar--date[_ngcontent-%COMP%]{display:none}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__ico[_ngcontent-%COMP%]{font-size:10px;position:absolute;top:2px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__ico[_ngcontent-%COMP%]:hover{cursor:pointer}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__settings[_ngcontent-%COMP%]{position:absolute;top:18px;right:-30px}.cdk-drag-preview[_ngcontent-%COMP%]{color:red}.cdk-drag-preview[_ngcontent-%COMP%]   .app-period-split-bar--date[_ngcontent-%COMP%]{display:none}']],data:{}});function Jt(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","app-period-split-bar--date"]],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,["",""]))],null,function(t,e){t(e,1,0,e.parent.context.$implicit.extremeDate)})}function Xt(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"app-carets",[["cdkDragHandle",""],["class","app-period-bar__cell--extreme cdk-drag-handle"]],null,null,null,T,k)),i["\u0275did"](1,147456,[[2,4]],0,kt,[i.ElementRef,[2,Et]],null,null),i["\u0275did"](2,114688,null,0,E,[],null,null)],function(t,e){t(e,2,0)},null)}function Qt(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,7,"div",[["class","app-period-split-bar--label"]],null,null,null,null,null)),i["\u0275prd"](512,null,r["\u0275NgClassImpl"],r["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](2,278528,null,0,r.NgClass,[r["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](3,{"app-period-split-bar--label--yellow":0,"app-period-split-bar--label--blue":1}),i["\u0275prd"](512,null,r["\u0275NgStyleImpl"],r["\u0275NgStyleR2Impl"],[i.ElementRef,i.KeyValueDiffers,i.Renderer2]),i["\u0275did"](5,278528,null,0,r.NgStyle,[r["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](6,{width:0}),(t()(),i["\u0275ted"](7,null,[" ",""]))],function(t,e){var n=e.component,i=t(e,3,0,n.viewId%2==0,n.viewId%2==1);t(e,2,0,"app-period-split-bar--label",i);var l=t(e,6,0,n.getWidth(e.parent.context.$implicit.label));t(e,5,0,l)},function(t,e){t(e,7,0,e.parent.context.$implicit.label)})}function te(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,8,"input",[["class","app-period-split-bar--input"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var l=!0,o=t.component;return"input"===e&&(l=!1!==i["\u0275nov"](t,4)._handleInput(n.target.value)&&l),"blur"===e&&(l=!1!==i["\u0275nov"](t,4).onTouched()&&l),"compositionstart"===e&&(l=!1!==i["\u0275nov"](t,4)._compositionStart()&&l),"compositionend"===e&&(l=!1!==i["\u0275nov"](t,4)._compositionEnd(n.target.value)&&l),"ngModelChange"===e&&(l=!1!==(t.parent.context.$implicit.label=n)&&l),"ngModelChange"===e&&(l=!1!==o.onChangeSplitName(n,t.parent.context.$implicit.splitId)&&l),l},null,null)),i["\u0275prd"](512,null,r["\u0275NgStyleImpl"],r["\u0275NgStyleR2Impl"],[i.ElementRef,i.KeyValueDiffers,i.Renderer2]),i["\u0275did"](2,278528,null,0,r.NgStyle,[r["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](3,{width:0}),i["\u0275did"](4,16384,null,0,v.d,[i.Renderer2,i.ElementRef,[2,v.a]],null,null),i["\u0275prd"](1024,null,v.p,function(t){return[t]},[v.d]),i["\u0275did"](6,671744,null,0,v.u,[[8,null],[8,null],[8,null],[6,v.p]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,v.q,null,[v.u]),i["\u0275did"](8,16384,null,0,v.r,[[4,v.q]],null,null)],function(t,e){var n=t(e,3,0,e.component.getWidth(e.parent.context.$implicit.label));t(e,2,0,n),t(e,6,0,e.parent.context.$implicit.label)},function(t,e){t(e,0,0,i["\u0275nov"](e,8).ngClassUntouched,i["\u0275nov"](e,8).ngClassTouched,i["\u0275nov"](e,8).ngClassPristine,i["\u0275nov"](e,8).ngClassDirty,i["\u0275nov"](e,8).ngClassValid,i["\u0275nov"](e,8).ngClassInvalid,i["\u0275nov"](e,8).ngClassPending)})}function ee(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"i",[["class","fas fa-pen app-period-split-bar__ico"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onPenClick(t.parent.context.index)&&i),i},null,null)),i["\u0275prd"](512,null,r["\u0275NgStyleImpl"],r["\u0275NgStyleR2Impl"],[i.ElementRef,i.KeyValueDiffers,i.Renderer2]),i["\u0275did"](2,278528,null,0,r.NgStyle,[r["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](3,{color:0})],function(t,e){var n=t(e,3,0,e.component.getColor());t(e,2,0,n)},null)}function ne(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-split-bar__settings"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,1,"app-period-split-settings",[],null,[[null,"closeInfo"]],function(t,e,n){var i=!0;return"closeInfo"===e&&(i=!1!==t.component.onCloseInfo(n)&&i),i},Ft,Bt)),i["\u0275did"](2,114688,null,0,Vt,[y.n],{splitSetId:[0,"splitSetId"],splitId:[1,"splitId"],periodScaleItemId:[2,"periodScaleItemId"]},{closeInfo:"closeInfo"})],function(t,e){t(e,2,0,e.component.splitSetId,e.parent.context.$implicit.splitId,e.parent.context.index)},null)}function ie(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,16777216,null,null,23,"div",[["cdkDrag",""],["cdkDragBoundary",".app-period-bar__scale"],["cdkDragLockAxis","x"],["class","app-period-split-bar__scale--cell cdk-drag"]],[[8,"id",0],[2,"cdk-drag-disabled",null],[2,"cdk-drag-dragging",null]],null,null,null,null)),i["\u0275prd"](6144,null,Et,null,[Nt]),i["\u0275did"](2,4866048,[[1,4]],3,Nt,[i.ElementRef,[3,Rt],r.DOCUMENT,i.NgZone,i.ViewContainerRef,nt,Mt,Tt,[2,$t],Dt,i.ChangeDetectorRef],{lockAxis:[0,"lockAxis"],boundaryElementSelector:[1,"boundaryElementSelector"],disabled:[2,"disabled"]},null),i["\u0275qud"](603979776,2,{_handles:1}),i["\u0275qud"](335544320,3,{_previewTemplate:0}),i["\u0275qud"](335544320,4,{_placeholderTemplate:0}),i["\u0275prd"](512,null,r["\u0275NgClassImpl"],r["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](7,278528,null,0,r.NgClass,[r["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](8,{"app-period-split-bar__scale--yellow":0,"app-period-split-bar__scale--blue":1}),i["\u0275prd"](512,null,r["\u0275NgStyleImpl"],r["\u0275NgStyleR2Impl"],[i.ElementRef,i.KeyValueDiffers,i.Renderer2]),i["\u0275did"](10,278528,null,0,r.NgStyle,[r["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](11,{"z-index":0}),(t()(),i["\u0275and"](16777216,null,null,1,null,Jt)),i["\u0275did"](13,16384,null,0,r.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Xt)),i["\u0275did"](15,16384,null,0,r.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Qt)),i["\u0275did"](17,16384,null,0,r.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,te)),i["\u0275did"](19,16384,null,0,r.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,ee)),i["\u0275did"](21,16384,null,0,r.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,ne)),i["\u0275did"](23,16384,null,0,r.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](0,null,null,0))],function(t,e){var n=e.component;t(e,2,0,"x",".app-period-bar__scale",!e.context.$implicit.isExtreme);var i=t(e,8,0,n.viewId%2==0,n.viewId%2==1);t(e,7,0,"app-period-split-bar__scale--cell",i);var l=t(e,11,0,n.getIndex(e.context.$implicit));t(e,10,0,l),t(e,13,0,e.context.$implicit.extremeDate),t(e,15,0,e.context.$implicit.isExtreme),t(e,17,0,e.context.$implicit.label&&e.context.$implicit.slitDuration>10&&!e.context.$implicit.isLabelEdit),t(e,19,0,e.context.$implicit.label&&e.context.$implicit.slitDuration>10&&e.context.$implicit.isLabelEdit),t(e,21,0,e.context.$implicit.isPen),t(e,23,0,e.context.$implicit.isInfoOpen)},function(t,e){t(e,0,0,i["\u0275inlineInterpolate"](1,"",e.context.$implicit.splitId,""),i["\u0275nov"](e,2).disabled,i["\u0275nov"](e,2)._dragRef.isDragging())})}function le(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,9,"div",[["class","app-period-split-bar__splitset"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,6,"div",[["cdkDropList",""],["cdkDropListOrientation","horizontal"],["class","app-period-split-bar__scale cdk-drop-list"]],[[8,"id",0],[2,"cdk-drop-list-disabled",null],[2,"cdk-drop-list-dragging",null],[2,"cdk-drop-list-receiving",null]],[[null,"cdkDropListDropped"]],function(t,e,n){var i=!0;return"cdkDropListDropped"===e&&(i=!1!==t.component.dropItem(n)&&i),i},null,null)),i["\u0275prd"](6144,null,Rt,null,[jt]),i["\u0275did"](3,1196032,null,1,jt,[i.ElementRef,Mt,i.ChangeDetectorRef,[2,$t],[3,Yt],[2,r.DOCUMENT],Dt],{orientation:[0,"orientation"]},{dropped:"cdkDropListDropped"}),i["\u0275qud"](603979776,1,{_draggables:1}),i["\u0275prd"](256,null,Yt,void 0,[]),(t()(),i["\u0275and"](16777216,null,null,1,null,ie)),i["\u0275did"](7,278528,null,0,r.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275eld"](8,0,null,null,1,"div",[["class","app-period-split-bar__add_split"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onAddSplit()&&i),i},null,null)),(t()(),i["\u0275eld"](9,0,null,null,0,"i",[["class","fa fa-plus app-period-split-bar__add_split--ico"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,3,0,"horizontal"),t(e,7,0,n.periodScale.items)},function(t,e){t(e,1,0,i["\u0275nov"](e,3).id,i["\u0275nov"](e,3).disabled,i["\u0275nov"](e,3)._dropListRef.isDragging(),i["\u0275nov"](e,3)._dropListRef.isReceiving())})}function oe(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","app-period-split-bar__add"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onCreateSplit()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,[" + Create first split "]))],null,null)}function se(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,10,"div",[["class","app-period-split-bar"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,5,"div",[["class","app-period-split-bar__header"]],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,4,"app-input-editable-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(t,e,n){var i=!0;return"ngModelChange"===e&&(i=!1!==(t.component.activePeriodSet.name=n)&&i),i},Kt,Zt)),i["\u0275did"](3,671744,null,0,v.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,v.q,null,[v.u]),i["\u0275did"](5,16384,null,0,v.r,[[4,v.q]],null,null),i["\u0275did"](6,114688,null,0,Ut,[[6,v.q]],{inputStyle:[0,"inputStyle"],inputColor:[1,"inputColor"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,le)),i["\u0275did"](8,16384,null,0,r.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,oe)),i["\u0275did"](10,16384,null,0,r.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275eld"](11,0,null,null,2,"pre",[],null,null,null,null,null)),(t()(),i["\u0275ted"](12,null,[" ",""])),i["\u0275pid"](0,r.JsonPipe,[])],function(t,e){var n=e.component;t(e,3,0,n.activePeriodSet.name),t(e,6,0,"header",n.getColor()),t(e,8,0,n.getSplitSetLength()),t(e,10,0,!n.getSplitSetLength())},function(t,e){var n=e.component;t(e,2,0,i["\u0275nov"](e,5).ngClassUntouched,i["\u0275nov"](e,5).ngClassTouched,i["\u0275nov"](e,5).ngClassPristine,i["\u0275nov"](e,5).ngClassDirty,i["\u0275nov"](e,5).ngClassValid,i["\u0275nov"](e,5).ngClassInvalid,i["\u0275nov"](e,5).ngClassPending),t(e,12,0,i["\u0275unv"](e,12,0,i["\u0275nov"](e,13).transform(n.activePeriodSet)))})}class re{constructor(t){this.store=t,this.periodSubscribe=t.select("state")}ngOnInit(){this.periodSubscribe.subscribe(t=>{this.period=t.period,this.initScale()}),this.periodScale={width:2196,length:366,items:[],label:this.period.name,duration:this.period.duration>366?366:this.period.duration},this.initScale()}initScale(){this.periodScale={width:2196,length:366,items:[],label:this.period.name,duration:this.period.duration>366?366:this.period.duration};for(let t=0;t<this.periodScale.length;t++)this.drawItem(t);this.periodScale.items&&this.period&&this.period.duration&&this.period.duration>0&&(this.periodScale.items[0].isLowExtreme=!0,this.periodScale.items[this.period.duration-1].isHighExtreme=!0)}drawItem(t){1===P(this.period.date_from,"DD-MM-YYYY").add(t,"days").date()?this.periodScale.items.push({id:t,label:P().month(P(this.period.date_from,"DD-MM-YYYY").add(t,"days").month()).format("MMMM").slice(0,3)}):this.periodScale.items.push({id:t}),this.periodScale.items[t].isSelected=P(this.period.date_from,"DD-MM-YYYY")<=P(this.period.date_from,"DD-MM-YYYY").add(t,"days")&&P(this.period.date_from,"DD-MM-YYYY").add(t,"days")<=P(this.period.date_to,"DD-MM-YYYY")}dropItem(t){Array.prototype.slice.call(t.item.element.nativeElement.children).map(e=>{if(e.className.includes("app-period-bar__cell--high-extreme"))this.store.dispatch(new S({name:this.periodScale.label,date_from:this.period.date_from,date_to:P(this.period.date_from,"DD-MM-YYYY").add(t.currentIndex+1,"days").toDate(),duration:t.currentIndex+2}));else if(e.className.includes("app-period-bar__cell--low-extreme")){const e=this.period.duration;this.store.dispatch(new S({name:this.periodScale.label,date_from:P(this.period.date_from,"DD-MM-YYYY").add(t.currentIndex,"days").toDate(),date_to:this.period.date_to,duration:e-t.currentIndex+1}))}})}getWidth(){return this.periodScale.duration>15?(6*this.periodScale.duration-12).toString()+"px":"0px"}onChangeName(t){this.store.dispatch(new S({name:t,date_from:this.period.date_from,date_to:this.period.date_to,duration:this.period.duration}))}}var ae=i["\u0275crt"]({encapsulation:0,styles:[['.app-period-bar[_ngcontent-%COMP%]{display:flex;padding:20px 15px;background-color:#fff;overflow-x:hidden}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__header[_ngcontent-%COMP%]{min-width:113px;max-width:113px;height:15px;font:800 12px/15px NunitoSans-Bold;margin:7px 0 auto}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale[_ngcontent-%COMP%]{flex-grow:1;display:flex;position:relative;overflow:visible;min-width:500px;max-width:1025px;height:65px;padding:10px 0 15px 7px;overflow-y:auto}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale[_ngcontent-%COMP%]   .app-period-bar__scale--label[_ngcontent-%COMP%]{position:absolute;z-index:1;overflow:hidden}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]{width:4px;height:14px;margin:0 2px 0 0;background-color:#f7f8ff;position:relative}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]   .app-period-bar__cell--month[_ngcontent-%COMP%]{position:absolute;bottom:-14px;height:10px;font-size:10px;color:#000}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]   .app-period-bar__cell--month[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:9px;left:1px;height:7px;width:2px;background-color:#000}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]   .app-period-bar__cell--high-extreme[_ngcontent-%COMP%], .app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]   .app-period-bar__cell--low-extreme[_ngcontent-%COMP%]{position:absolute;z-index:2;top:1px;right:-2px}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]   .app-period-bar__cell--high-extreme[_ngcontent-%COMP%]{right:-4px}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]::before{content:"";position:absolute;top:-7px;height:4px;width:4px;background-color:#36405f}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__cell--selected[_ngcontent-%COMP%]{width:5.5px;height:14px;background-color:#36405f}.app-period-bar[_ngcontent-%COMP%]   .cdk-drag-placeholder[_ngcontent-%COMP%]   .app-period-bar__cell--month[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   .app-period-bar__cell--month[_ngcontent-%COMP%]{display:none}']],data:{}});function de(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","app-period-bar__cell--month"]],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,["",""]))],null,function(t,e){t(e,1,0,e.parent.context.$implicit.label)})}function pe(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,0,"div",[["class","app-period-bar__cell--selected"]],null,null,null,null,null))],null,null)}function ue(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"app-carets",[["cdkDragHandle",""],["class","app-period-bar__cell--high-extreme cdk-drag-handle"]],null,null,null,T,k)),i["\u0275did"](1,147456,[[2,4]],0,kt,[i.ElementRef,[2,Et]],null,null),i["\u0275did"](2,114688,null,0,E,[],null,null)],function(t,e){t(e,2,0)},null)}function ce(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"app-carets",[["cdkDragHandle",""],["class","app-period-bar__cell--low-extreme cdk-drag-handle"]],null,null,null,T,k)),i["\u0275did"](1,147456,[[2,4]],0,kt,[i.ElementRef,[2,Et]],null,null),i["\u0275did"](2,114688,null,0,E,[],null,null)],function(t,e){t(e,2,0)},null)}function he(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,16777216,null,null,13,"div",[["cdkDrag",""],["cdkDragBoundary",".app-period-bar__scale"],["cdkDragLockAxis","x"],["class","app-period-bar__scale--cell cdk-drag"]],[[2,"cdk-drag-disabled",null],[2,"cdk-drag-dragging",null]],null,null,null,null)),i["\u0275prd"](6144,null,Et,null,[Nt]),i["\u0275did"](2,4866048,[[1,4]],3,Nt,[i.ElementRef,[3,Rt],r.DOCUMENT,i.NgZone,i.ViewContainerRef,nt,Mt,Tt,[2,$t],Dt,i.ChangeDetectorRef],{lockAxis:[0,"lockAxis"],boundaryElementSelector:[1,"boundaryElementSelector"],disabled:[2,"disabled"]},null),i["\u0275qud"](603979776,2,{_handles:1}),i["\u0275qud"](335544320,3,{_previewTemplate:0}),i["\u0275qud"](335544320,4,{_placeholderTemplate:0}),(t()(),i["\u0275and"](16777216,null,null,1,null,de)),i["\u0275did"](7,16384,null,0,r.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,pe)),i["\u0275did"](9,16384,null,0,r.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,ue)),i["\u0275did"](11,16384,null,0,r.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,ce)),i["\u0275did"](13,16384,null,0,r.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](0,null,null,0))],function(t,e){t(e,2,0,"x",".app-period-bar__scale",!(e.context.$implicit.isHighExtreme||e.context.$implicit.isLowExtreme)),t(e,7,0,e.context.$implicit.label),t(e,9,0,e.context.$implicit.isSelected),t(e,11,0,e.context.$implicit.isHighExtreme),t(e,13,0,e.context.$implicit.isLowExtreme)},function(t,e){t(e,0,0,i["\u0275nov"](e,2).disabled,i["\u0275nov"](e,2)._dragRef.isDragging())})}function ge(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,15,"div",[["class","app-period-bar"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,1,"h2",[["class","app-period-bar__header"]],null,null,null,null,null)),(t()(),i["\u0275ted"](2,null,["",""])),(t()(),i["\u0275eld"](3,0,null,null,12,"div",[["cdkDropList",""],["cdkDropListOrientation","horizontal"],["class","app-period-bar__scale cdk-drop-list"]],[[8,"id",0],[2,"cdk-drop-list-disabled",null],[2,"cdk-drop-list-dragging",null],[2,"cdk-drop-list-receiving",null]],[[null,"cdkDropListDropped"]],function(t,e,n){var i=!0;return"cdkDropListDropped"===e&&(i=!1!==t.component.dropItem(n)&&i),i},null,null)),i["\u0275prd"](6144,null,Rt,null,[jt]),i["\u0275did"](5,1196032,null,1,jt,[i.ElementRef,Mt,i.ChangeDetectorRef,[2,$t],[3,Yt],[2,r.DOCUMENT],Dt],{orientation:[0,"orientation"]},{dropped:"cdkDropListDropped"}),i["\u0275qud"](603979776,1,{_draggables:1}),i["\u0275prd"](256,null,Yt,void 0,[]),(t()(),i["\u0275eld"](8,0,null,null,5,"div",[["class","app-period-bar__scale--label"]],[[4,"width",null]],null,null,null,null)),(t()(),i["\u0275eld"](9,0,null,null,4,"app-input-editable-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(t,e,n){var i=!0,l=t.component;return"ngModelChange"===e&&(i=!1!==(l.period.name=n)&&i),"ngModelChange"===e&&(i=!1!==l.onChangeName(n)&&i),i},Kt,Zt)),i["\u0275did"](10,671744,null,0,v.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,v.q,null,[v.u]),i["\u0275did"](12,16384,null,0,v.r,[[4,v.q]],null,null),i["\u0275did"](13,114688,null,0,Ut,[[6,v.q]],null,null),(t()(),i["\u0275and"](16777216,null,null,1,null,he)),i["\u0275did"](15,278528,null,0,r.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,5,0,"horizontal"),t(e,10,0,n.period.name),t(e,13,0),t(e,15,0,n.periodScale.items)},function(t,e){var n=e.component;t(e,2,0,n.period.name),t(e,3,0,i["\u0275nov"](e,5).id,i["\u0275nov"](e,5).disabled,i["\u0275nov"](e,5)._dropListRef.isDragging(),i["\u0275nov"](e,5)._dropListRef.isReceiving()),t(e,8,0,n.getWidth()),t(e,9,0,i["\u0275nov"](e,12).ngClassUntouched,i["\u0275nov"](e,12).ngClassTouched,i["\u0275nov"](e,12).ngClassPristine,i["\u0275nov"](e,12).ngClassDirty,i["\u0275nov"](e,12).ngClassValid,i["\u0275nov"](e,12).ngClassInvalid,i["\u0275nov"](e,12).ngClassPending)})}class _e{constructor(t){this.store=t,this.periodSubscribe=t.select("state")}ngOnInit(){this.periodSubscribe.subscribe(t=>{this.splitSet=t.splitsSet})}onAddSplit(){this.store.dispatch(new O({name:"Academical",split_set_id:this.splitSet.length+1,splits:[]}))}ngOnDestroy(){this.periodSubscribe.subscribe().unsubscribe()}}var me=i["\u0275crt"]({encapsulation:0,styles:[[".app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__container[_ngcontent-%COMP%]{padding:20px 15px;background-color:#fff}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__add[_ngcontent-%COMP%]{font:10px/11px NunitoSans-Bold;color:#4350a2;cursor:pointer}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__add[_ngcontent-%COMP%]:hover{opacity:.6}"]],data:{}});function fe(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-general-settings__split-set"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,1,"app-period-split-bar",[],null,null,null,se,Wt)),i["\u0275did"](2,114688,null,0,Gt,[y.n],{splitSetId:[0,"splitSetId"],viewId:[1,"viewId"]},null)],function(t,e){t(e,2,0,e.component.splitSet[e.context.index].split_set_id,e.context.index)},null)}function ve(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-general-settings__split-sets"]],null,null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,fe)),i["\u0275did"](2,278528,null,0,r.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.splitSet)},null)}function be(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,7,"div",[["class","app-period-general-settings"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,6,"div",[["class","app-period-general-settings__container"]],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,1,"app-period-bar",[],null,null,null,ge,ae)),i["\u0275did"](3,114688,null,0,re,[y.n],null,null),(t()(),i["\u0275and"](16777216,null,null,1,null,ve)),i["\u0275did"](5,16384,null,0,r.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275eld"](6,0,null,null,1,"div",[["class","app-period-general-settings__add"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onAddSplit()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,[" + Add new split type "]))],function(t,e){var n=e.component;t(e,3,0),t(e,5,0,n.splitSet)},null)}class Ce{constructor(){}ngOnInit(){}}var xe=i["\u0275crt"]({encapsulation:0,styles:[[".app-period-create[_ngcontent-%COMP%]{padding:30px 20px}.app-period-create[_ngcontent-%COMP%]   .app-period-create-header[_ngcontent-%COMP%]{color:#151515;font:800 17px/20px NunitoSans-Bold;letter-spacing:.2px;text-transform:uppercase}.app-period-create[_ngcontent-%COMP%]   .app-period-create-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.app-period-create[_ngcontent-%COMP%]   .app-period-create-left-panel[_ngcontent-%COMP%]{width:320px;margin:0 20px 0 0}.app-period-create[_ngcontent-%COMP%]   .app-period-create-right-panel[_ngcontent-%COMP%]{flex-grow:1}"]],data:{}});function Pe(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"app-period-page-header",[],null,[[null,"click"]],function(t,e,n){var l=!0;return"click"===e&&(l=!1!==i["\u0275nov"](t,1).onClick()&&l),l},u,d)),i["\u0275did"](1,16384,null,0,s.l,[s.k,s.a,[8,null],i.Renderer2,i.ElementRef],{routerLink:[0,"routerLink"]},null),i["\u0275did"](2,114688,null,0,a,[],{titleHeader:[0,"titleHeader"],isBackArrowEnable:[1,"isBackArrowEnable"],buttonText:[2,"buttonText"],routerLink:[3,"routerLink"]},null),(t()(),i["\u0275eld"](3,0,null,null,9,"div",[["class","app-period-create"]],null,null,null,null,null)),(t()(),i["\u0275eld"](4,0,null,null,1,"h1",[["class","app-period-create-header"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Create Period"])),(t()(),i["\u0275eld"](6,0,null,null,6,"div",[["class","app-period-create-container"]],null,null,null,null,null)),(t()(),i["\u0275eld"](7,0,null,null,2,"div",[["class","app-period-create-left-panel"]],null,null,null,null,null)),(t()(),i["\u0275eld"](8,0,null,null,1,"app-period-duration-setting",[],null,null,null,R,D)),i["\u0275did"](9,114688,null,0,M,[y.n],null,null),(t()(),i["\u0275eld"](10,0,null,null,2,"div",[["class","app-period-create-right-panel"]],null,null,null,null,null)),(t()(),i["\u0275eld"](11,0,null,null,1,"app-period-general-setting",[],null,null,null,be,me)),i["\u0275did"](12,245760,null,0,_e,[y.n],null,null)],function(t,e){t(e,1,0,"/period"),t(e,2,0,"CREATE PERIOD",!0,"Save & exit","/period"),t(e,9,0),t(e,12,0)},null)}function we(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-period-create",[],null,null,null,Pe,xe)),i["\u0275did"](1,114688,null,0,Ce,[],null,null)],function(t,e){t(e,1,0)},null)}var Se=i["\u0275ccf"]("app-period-create",Ce,we,{},{},[]),Oe=n("atuK"),Ie=n("9AJC"),Me=n("G0yt"),ye=n("2uy1"),De=n("z/SZ"),Re=n("ienR");class Ee{constructor(t,e){this.http=t,this.store=e}}var ke=n("IheW");class Te{}var Ne=n("8Ykh"),Le=n("D2tp");const Ye={period:{name:"new period",date_from:new Date,date_to:P(new Date,"DD-MM-YYYY").add(365,"days").toDate(),duration:366},splitsSet:[{name:"Financial",split_set_id:1,splits:[{name:"1 split",date_from:new Date,date_to:P(new Date,"DD-MM-YYYY").add(30,"days").toDate(),split_id:1,duration:31}]}]};function Ae(t=Ye,e){switch(e.type){case w.ChangePeriod:return Object.assign({},t,{period:Object.assign({},e.payload)});case w.AddSplitSet:return Object.assign({},t,{splitsSet:[...t.splitsSet,e.payload]});case w.ChangeSplitSet:{const n=[...t.splitsSet];return n.map(t=>t.split_set_id===e.payload.index?e.payload.splitSet:t),Object.assign({},t,{splitsSet:n})}default:return t}}n.d(e,"PeriodModuleNgFactory",function(){return je});var je=i["\u0275cmf"](l,[],function(t){return i["\u0275mod"]([i["\u0275mpd"](512,i.ComponentFactoryResolver,i["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,m,Se,Oe.a,Oe.b,Oe.c,Ie.a,Ie.b,Ie.l,Ie.m,Ie.i,Ie.j,Ie.k]],[3,i.ComponentFactoryResolver],i.NgModuleRef]),i["\u0275mpd"](4608,Dt,Dt,[r.DOCUMENT,i.NgZone,nt,Mt]),i["\u0275mpd"](4608,r.NgLocalization,r.NgLocaleLocalization,[i.LOCALE_ID,[2,r["\u0275angular_packages_common_common_a"]]]),i["\u0275mpd"](4608,v.E,v.E,[]),i["\u0275mpd"](4608,v.f,v.f,[]),i["\u0275mpd"](4608,Me.E,Me.E,[i.ComponentFactoryResolver,i.Injector,Me.wb,Me.F]),i["\u0275mpd"](4608,ye.a,ye.a,[i.RendererFactory2,i.PLATFORM_ID]),i["\u0275mpd"](4608,De.a,De.a,[i.ComponentFactoryResolver,i.NgZone,i.Injector,ye.a,i.ApplicationRef]),i["\u0275mpd"](4608,Re.w,Re.w,[]),i["\u0275mpd"](4608,Re.y,Re.y,[]),i["\u0275mpd"](4608,Re.a,Re.a,[]),i["\u0275mpd"](4608,Re.e,Re.e,[]),i["\u0275mpd"](4608,Re.c,Re.c,[]),i["\u0275mpd"](4608,Re.f,Re.f,[]),i["\u0275mpd"](4608,Re.x,Re.x,[Re.y,Re.f]),i["\u0275mpd"](4608,Ee,Ee,[ke.c,y.n]),i["\u0275mpd"](1073742336,zt,zt,[]),i["\u0275mpd"](1073742336,r.CommonModule,r.CommonModule,[]),i["\u0275mpd"](1073742336,v.D,v.D,[]),i["\u0275mpd"](1073742336,v.m,v.m,[]),i["\u0275mpd"](1073742336,v.z,v.z,[]),i["\u0275mpd"](1073742336,s.o,s.o,[[2,s.t],[2,s.k]]),i["\u0275mpd"](1073742336,Te,Te,[]),i["\u0275mpd"](1073742336,Re.d,Re.d,[]),i["\u0275mpd"](1073742336,Me.c,Me.c,[]),i["\u0275mpd"](1073742336,Me.f,Me.f,[]),i["\u0275mpd"](1073742336,Me.h,Me.h,[]),i["\u0275mpd"](1073742336,Me.m,Me.m,[]),i["\u0275mpd"](1073742336,Me.n,Me.n,[]),i["\u0275mpd"](1073742336,Me.u,Me.u,[]),i["\u0275mpd"](1073742336,Me.A,Me.A,[]),i["\u0275mpd"](1073742336,Me.G,Me.G,[]),i["\u0275mpd"](1073742336,Me.K,Me.K,[]),i["\u0275mpd"](1073742336,Me.P,Me.P,[]),i["\u0275mpd"](1073742336,Me.S,Me.S,[]),i["\u0275mpd"](1073742336,Me.X,Me.X,[]),i["\u0275mpd"](1073742336,Me.cb,Me.cb,[]),i["\u0275mpd"](1073742336,Me.gb,Me.gb,[]),i["\u0275mpd"](1073742336,Me.jb,Me.jb,[]),i["\u0275mpd"](1073742336,Me.kb,Me.kb,[]),i["\u0275mpd"](1073742336,Me.H,Me.H,[]),i["\u0275mpd"](1073742336,Ne.c,Ne.c,[]),i["\u0275mpd"](1073742336,Ht.AutoSizeInputModule,Ht.AutoSizeInputModule,[]),i["\u0275mpd"](1073742336,Le.a,Le.a,[]),i["\u0275mpd"](131584,y.a,y.a,[]),i["\u0275mpd"](2048,y.h,null,[y.a]),i["\u0275mpd"](256,y.t,void 0,[]),i["\u0275mpd"](1024,y.d,y.y,[y.t]),i["\u0275mpd"](256,y.s,{state:Ae},[]),i["\u0275mpd"](2048,y.v,null,[y.s]),i["\u0275mpd"](1024,y.c,y.x,[i.Injector,y.s,y.v]),i["\u0275mpd"](256,y.u,y.z,[]),i["\u0275mpd"](256,y.e,[],[]),i["\u0275mpd"](1024,y.f,y.C,[y.u,y.e]),i["\u0275mpd"](131584,y.g,y.g,[y.h,y.d,y.c,y.f]),i["\u0275mpd"](2048,y.i,null,[y.g]),i["\u0275mpd"](131584,y.k,y.k,[]),i["\u0275mpd"](131584,y.l,y.l,[y.a,y.i,y.k,y.d]),i["\u0275mpd"](2048,y.m,null,[y.l]),i["\u0275mpd"](512,y.n,y.n,[y.m,y.a,y.g]),i["\u0275mpd"](1073742336,y.p,y.p,[y.a,y.i,y.k,y.n]),i["\u0275mpd"](1073742336,l,l,[]),i["\u0275mpd"](1024,s.i,function(){return[[{path:"",component:c},{path:"create",component:Ce}]]},[]),i["\u0275mpd"](256,Ne.d,Ne.e,[])])})},LHBH:function(t,e,n){"use strict";var i=n("8Y7J"),l=n("SVse"),o=n("s7LF");n("RzGa"),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return d});var s=i["\u0275crt"]({encapsulation:0,styles:[[".app-input-field[_ngcontent-%COMP%]{border:none;border-radius:0;color:#151515;padding:0;min-height:36px;max-height:36px;width:auto;position:relative}.app-input-field.app-input-field-table[_ngcontent-%COMP%]{min-height:24px;max-height:24px}.app-input-field.app-input-field-table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{min-height:24px;padding:0 10px;font-size:12px}.app-input-field.app-input-field-table[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.app-input-field.app-input-field-table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-inner-spin-button, .app-input-field.app-input-field-table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none}.app-input-field[_ngcontent-%COMP%]   .app-input-field-label[_ngcontent-%COMP%]{position:absolute;color:#909090;transform-origin:0 0;z-index:1;top:11px;left:11px;font-size:10px}.app-input-field[_ngcontent-%COMP%]   .app-input-field-label__value[_ngcontent-%COMP%]{top:1px}.app-input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #b6b6b6;border-radius:3px;width:100%;min-height:36px;padding:0 10px;font-size:12px}.app-input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.app-input-field[_ngcontent-%COMP%]   input.app-input-field__value[_ngcontent-%COMP%]{padding-top:10px}.app-input-field[_ngcontent-%COMP%]   .app-input-field-error-icon[_ngcontent-%COMP%]{color:#fff;background:#e65757;border-radius:50%;width:16px;height:16px;text-align:center;line-height:7px;position:absolute;right:11px;top:11px;padding:4px 0}.app-input-field.app-input-field-has-error[_ngcontent-%COMP%]   .app-input-field-label[_ngcontent-%COMP%]{color:#e65757}.app-input-field.app-input-field-has-error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-color:#e65757}"]],data:{}});function r(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"label",[["class","app-input-field-label"]],[[8,"htmlFor",0]],[[null,"click"]],function(t,e,n){var l=!0;return"click"===e&&(l=!1!==i["\u0275nov"](t.parent,6).focus()&&l),l},null,null)),i["\u0275prd"](512,null,l["\u0275NgClassImpl"],l["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](2,278528,null,0,l.NgClass,[l["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](3,{"app-input-field-label__value":0}),(t()(),i["\u0275ted"](4,null,[" "," "]))],function(t,e){var n=t(e,3,0,e.component.value);t(e,2,0,"app-input-field-label",n)},function(t,e){var n=e.component;t(e,0,0,n.id),t(e,4,0,n.label)})}function a(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","app-input-field-error-icon"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" x "]))],null,null)}function d(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,19,"div",[["class","app-input-field"]],null,null,null,null,null)),i["\u0275prd"](512,null,l["\u0275NgClassImpl"],l["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](2,278528,null,0,l.NgClass,[l["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](3,{"app-input-field-has-error":0,"app-input-field-table":1}),(t()(),i["\u0275and"](16777216,null,null,1,null,r)),i["\u0275did"](5,16384,null,0,l.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275eld"](6,0,[["input",1]],null,11,"input",[["class","form-control"]],[[8,"id",0],[8,"type",0],[8,"value",0],[8,"min",0],[1,"maxlength",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var l=!0,o=t.component;return"input"===e&&(l=!1!==i["\u0275nov"](t,10)._handleInput(n.target.value)&&l),"blur"===e&&(l=!1!==i["\u0275nov"](t,10).onTouched()&&l),"compositionstart"===e&&(l=!1!==i["\u0275nov"](t,10)._compositionStart()&&l),"compositionend"===e&&(l=!1!==i["\u0275nov"](t,10)._compositionEnd(n.target.value)&&l),"ngModelChange"===e&&(l=!1!==(o.value=n)&&l),"input"===e&&(l=!1!==o.onChange(n.target.value)&&l),"blur"===e&&(l=!1!==o.onTouched()&&l),l},null,null)),i["\u0275prd"](512,null,l["\u0275NgClassImpl"],l["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](8,278528,null,0,l.NgClass,[l["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](9,{"app-input-field__value":0}),i["\u0275did"](10,16384,null,0,o.d,[i.Renderer2,i.ElementRef,[2,o.a]],null,null),i["\u0275did"](11,540672,null,0,o.n,[],{maxlength:[0,"maxlength"]},null),i["\u0275did"](12,540672,null,0,o.x,[],{pattern:[0,"pattern"]},null),i["\u0275prd"](1024,null,o.o,function(t,e){return[t,e]},[o.n,o.x]),i["\u0275prd"](1024,null,o.p,function(t){return[t]},[o.d]),i["\u0275did"](15,671744,null,0,o.u,[[8,null],[6,o.o],[8,null],[6,o.p]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,o.q,null,[o.u]),i["\u0275did"](17,16384,null,0,o.r,[[4,o.q]],null,null),(t()(),i["\u0275and"](16777216,null,null,1,null,a)),i["\u0275did"](19,16384,null,0,l.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component,i=t(e,3,0,n.isInvalid,"table"==n.fieldType);t(e,2,0,"app-input-field",i),t(e,5,0,n.label);var l=t(e,9,0,n.value&&n.label);t(e,8,0,"form-control",l),t(e,11,0,n.maxLength),t(e,12,0,n.pattern),t(e,15,0,n.disabled,n.value),t(e,19,0,n.isInvalid)},function(t,e){var n=e.component;t(e,6,1,[n.id,n.type,n.value,n.min,i["\u0275nov"](e,11).maxlength?i["\u0275nov"](e,11).maxlength:null,i["\u0275nov"](e,12).pattern?i["\u0275nov"](e,12).pattern:null,i["\u0275nov"](e,17).ngClassUntouched,i["\u0275nov"](e,17).ngClassTouched,i["\u0275nov"](e,17).ngClassPristine,i["\u0275nov"](e,17).ngClassDirty,i["\u0275nov"](e,17).ngClassValid,i["\u0275nov"](e,17).ngClassInvalid,i["\u0275nov"](e,17).ngClassPending])})}},RzGa:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("8Y7J");class l{constructor(t){this.ngControl=t,this.fieldType=null,this.label="",this.isInvalid=!1,this.type="text",this.value="",this.maxLength=null,this.max=null,this.min=null,this.onChangeField=new i.EventEmitter,this.ngControl&&(this.ngControl.valueAccessor=this)}ngOnInit(){}writeValue(t){this.value=t}setDisabledState(t){this.disabled=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}onChange(t){return"number"===this.type&&this.max&&t>this.max&&(this.value=t=this.max),this.onChangeField.emit({fieldValue:t,id:this.id,type:"input"}),t}onTouched(){}}}}]);