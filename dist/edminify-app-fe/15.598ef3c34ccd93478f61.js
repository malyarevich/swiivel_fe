(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{Fzqc:function(n,l,t){"use strict";t.d(l,"a",function(){return p});var e=t("Ip0R"),i=t("CcnG"),o=new i.InjectionToken("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(i.inject)(e.DOCUMENT)}}),p=function(){function n(n){if(this.value="ltr",this.change=new i.EventEmitter,n){var l=(n.body?n.body.dir:null)||(n.documentElement?n.documentElement.dir:null);this.value="ltr"===l||"rtl"===l?l:"ltr"}}return n.prototype.ngOnDestroy=function(){this.change.complete()},n.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new n(Object(i.inject)(o,8))},token:n,providedIn:"root"}),n}()},IhLC:function(n,l,t){"use strict";t.r(l);var e=t("CcnG"),i=function(){return function(){}}(),o=t("pMnS"),p=t("ZYCi"),a=t("Ip0R"),d=function(){function n(){this.isBackArrowEnable=!0,this.onButtonClick=new e.EventEmitter}return n.prototype.ngOnInit=function(){},n.prototype.onClick=function(){this.onButtonClick.emit()},n}(),r=e["\u0275crt"]({encapsulation:0,styles:[[".app-period-page-header[_ngcontent-%COMP%]   .app-period-page-header__button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:baseline}"]],data:{}});function u(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"div",[["class","d-inline-block back p-3 mr-3 app-cursor-pointer"]],null,[[null,"click"]],function(n,l,t){var i=!0;return"click"===l&&(i=!1!==e["\u0275nov"](n,1).onClick()&&i),i},null,null)),e["\u0275did"](1,16384,null,0,p.m,[p.l,p.a,[8,null],e.Renderer2,e.ElementRef],{routerLink:[0,"routerLink"]},null),(n()(),e["\u0275eld"](2,0,null,null,0,"i",[["class","fas fa-chevron-left"]],null,null,null,null,null))],function(n,l){n(l,1,0,l.component.routerLink)},null)}function s(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,8,"div",[["class","row no-gutters app-period-page-header pr-3 bg-white"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,4,"div",[["class","col-10"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,u)),e["\u0275did"](3,16384,null,0,a.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](4,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e["\u0275ted"](5,null,["",""])),(n()(),e["\u0275eld"](6,0,null,null,2,"div",[["class","col-2 pt-2 app-period-page-header__button-container"]],null,null,null,null,null)),(n()(),e["\u0275eld"](7,0,null,null,1,"button",[["class","btn app-btn-outline-primary form-payer-account-cancel"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.onClick&&e),e},null,null)),(n()(),e["\u0275ted"](8,null,[" "," "]))],function(n,l){n(l,3,0,l.component.isBackArrowEnable)},function(n,l){var t=l.component;n(l,5,0,t.titleHeader),n(l,8,0,t.buttonText)})}var c=function(){function n(n){this.router=n}return n.prototype.ngOnInit=function(){},n.prototype.onAddPeriod=function(){this.router.navigateByUrl("/period/create")},n}(),g=e["\u0275crt"]({encapsulation:0,styles:[[".app-period[_ngcontent-%COMP%]{padding:30px}"]],data:{}});function f(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"app-period-page-header",[],null,[[null,"onButtonClick"],[null,"click"]],function(n,l,t){var i=!0,o=n.component;return"click"===l&&(i=!1!==e["\u0275nov"](n,1).onClick()&&i),"onButtonClick"===l&&(i=!1!==o.onAddPeriod()&&i),i},s,r)),e["\u0275did"](1,16384,null,0,p.m,[p.l,p.a,[8,null],e.Renderer2,e.ElementRef],{routerLink:[0,"routerLink"]},null),e["\u0275did"](2,114688,null,0,d,[],{titleHeader:[0,"titleHeader"],isBackArrowEnable:[1,"isBackArrowEnable"],buttonText:[2,"buttonText"],routerLink:[3,"routerLink"]},{onButtonClick:"onButtonClick"}),(n()(),e["\u0275eld"](3,0,null,null,1,"h1",[["class","app-period-header"]],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["Periods"])),(n()(),e["\u0275eld"](5,0,null,null,2,"button",[["routerLink","/period/create"]],null,[[null,"click"]],function(n,l,t){var i=!0;return"click"===l&&(i=!1!==e["\u0275nov"](n,6).onClick()&&i),i},null,null)),e["\u0275did"](6,16384,null,0,p.m,[p.l,p.a,[8,null],e.Renderer2,e.ElementRef],{routerLink:[0,"routerLink"]},null),(n()(),e["\u0275ted"](-1,null,["Create Period"]))],function(n,l){n(l,1,0,"/period/create"),n(l,2,0,"Periods",!1,"Add Period","/period/create"),n(l,6,0,"/period/create")},null)}function _(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"app-period",[],null,null,null,f,g)),e["\u0275did"](1,114688,null,0,c,[p.l],null,null)],function(n,l){n(l,1,0)},null)}var h,v=e["\u0275ccf"]("app-period",c,_,{},{},[]),m=t("LHBH"),C=t("gIcY"),b=t("RzGa"),x=t("p6zw"),M=t("bubl"),P=t("wd/R");!function(n){n.AddPeriod="[Period] Add Period",n.ChangePeriod="[Period] Change Period",n.AddSplitSet="[Period] Add split Set",n.ChangeSplitSet="[Period] change split"}(h||(h={}));var O=function(){return function(n){this.payload=n,this.type=h.ChangePeriod}}(),S=function(){return function(n){this.payload=n,this.type=h.AddSplitSet}}(),y=function(){return function(n){this.payload=n,this.type=h.ChangeSplitSet}}(),I=function(){function n(n){var l=this;this.store=n,this.width="auto",this.periodSubscribe=n.select("state"),this.periodSubscribe.subscribe(function(n){return l.period=n.period})}return n.prototype.ngOnInit=function(){},n.prototype.onChangePeriod=function(){this.store.dispatch(new O({name:this.period.name,date_from:this.period.date_from,date_to:this.period.date_to,duration:Math.ceil(P.duration(P(this.period.date_to).diff(P(this.period.date_from))).asDays())}))},n}(),k=t("yGQT"),w=e["\u0275crt"]({encapsulation:0,styles:[[".app-period-duration-setting[_ngcontent-%COMP%]{background:#fff;padding:15px 10px}.app-period-duration-setting[_ngcontent-%COMP%]   .app-period-duration-setting__name[_ngcontent-%COMP%]{margin:0 0 10px}.app-period-duration-setting[_ngcontent-%COMP%]   .app-period-duration-setting__range[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.app-period-duration-setting[_ngcontent-%COMP%]   .mat-calendar-body-cell-content[_ngcontent-%COMP%]{border:1px solid #0c133d}"]],data:{}});function D(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,20,"div",[["class","app-period-duration-setting"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,5,"div",[["class","app-period-duration-setting__name"]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,4,"app-input-field",[["label","Period Name"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,l,t){var e=!0,i=n.component;return"ngModelChange"===l&&(e=!1!==(i.period.name=t)&&e),"ngModelChange"===l&&(e=!1!==i.onChangePeriod()&&e),e},m.b,m.a)),e["\u0275did"](3,671744,null,0,C.v,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,C.r,null,[C.v]),e["\u0275did"](5,16384,null,0,C.s,[[4,C.r]],null,null),e["\u0275did"](6,114688,null,0,b.a,[[6,C.r]],{label:[0,"label"]},null),(n()(),e["\u0275eld"](7,0,null,null,10,"div",[["class","app-period-duration-setting__range"]],null,null,null,null,null)),(n()(),e["\u0275eld"](8,0,null,null,4,"app-datepicker-field",[["label","Period Start"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,l,t){var e=!0,i=n.component;return"ngModelChange"===l&&(e=!1!==(i.period.date_from=t)&&e),"ngModelChange"===l&&(e=!1!==i.onChangePeriod()&&e),e},x.b,x.a)),e["\u0275did"](9,671744,null,0,C.v,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,C.r,null,[C.v]),e["\u0275did"](11,16384,null,0,C.s,[[4,C.r]],null,null),e["\u0275did"](12,114688,null,0,M.a,[[6,C.r]],{label:[0,"label"],isInvalid:[1,"isInvalid"],width:[2,"width"]},null),(n()(),e["\u0275eld"](13,0,null,null,4,"app-datepicker-field",[["label","Period End"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,l,t){var e=!0,i=n.component;return"ngModelChange"===l&&(e=!1!==(i.period.date_to=t)&&e),"ngModelChange"===l&&(e=!1!==i.onChangePeriod()&&e),e},x.b,x.a)),e["\u0275did"](14,671744,null,0,C.v,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,C.r,null,[C.v]),e["\u0275did"](16,16384,null,0,C.s,[[4,C.r]],null,null),e["\u0275did"](17,114688,null,0,M.a,[[6,C.r]],{label:[0,"label"],isInvalid:[1,"isInvalid"],width:[2,"width"]},null),(n()(),e["\u0275eld"](18,0,null,null,2,"pre",[],null,null,null,null,null)),(n()(),e["\u0275ted"](19,null,["",""])),e["\u0275pid"](0,a.JsonPipe,[])],function(n,l){var t=l.component;n(l,3,0,t.period.name),n(l,6,0,"Period Name"),n(l,9,0,t.period.date_from),n(l,12,0,"Period Start",t.period.date_from>t.period.date_to,"147px"),n(l,14,0,t.period.date_to),n(l,17,0,"Period End",t.period.date_from>t.period.date_to,"147px")},function(n,l){var t=l.component;n(l,2,0,e["\u0275nov"](l,5).ngClassUntouched,e["\u0275nov"](l,5).ngClassTouched,e["\u0275nov"](l,5).ngClassPristine,e["\u0275nov"](l,5).ngClassDirty,e["\u0275nov"](l,5).ngClassValid,e["\u0275nov"](l,5).ngClassInvalid,e["\u0275nov"](l,5).ngClassPending),n(l,8,0,e["\u0275nov"](l,11).ngClassUntouched,e["\u0275nov"](l,11).ngClassTouched,e["\u0275nov"](l,11).ngClassPristine,e["\u0275nov"](l,11).ngClassDirty,e["\u0275nov"](l,11).ngClassValid,e["\u0275nov"](l,11).ngClassInvalid,e["\u0275nov"](l,11).ngClassPending),n(l,13,0,e["\u0275nov"](l,16).ngClassUntouched,e["\u0275nov"](l,16).ngClassTouched,e["\u0275nov"](l,16).ngClassPristine,e["\u0275nov"](l,16).ngClassDirty,e["\u0275nov"](l,16).ngClassValid,e["\u0275nov"](l,16).ngClassInvalid,e["\u0275nov"](l,16).ngClassPending),n(l,19,0,e["\u0275unv"](l,19,0,e["\u0275nov"](l,20).transform(t.period)))})}var R=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),E=e["\u0275crt"]({encapsulation:0,styles:[[".app-carets[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;border:1px solid gray;background:url(icon-carrets.aafb86db1d6d18d4707c.svg) 50%}.app-carets[_ngcontent-%COMP%]:active, .app-carets[_ngcontent-%COMP%]:hover{width:13px;height:13px;cursor:pointer}"]],data:{}});function Y(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,0,"div",[["class","app-carets"]],null,null,null,null,null))],null,null)}var T=t("9Bt9"),N=function(){function n(n){this.store=n,this.closeInfo=new e.EventEmitter,this.periodSubscribe=n.select("state")}return n.prototype.ngOnInit=function(){var n=this;this.periodSubscribe.subscribe(function(l){n.activeSplitSet=l.splitsSet.find(function(l){return l.split_set_id===n.splitSetId}),n.activeSplitSet&&(n.activeSplit=n.activeSplitSet.splits.find(function(l){return l.split_id===n.splitId}))})},n.prototype.onCloseInfo=function(){this.closeInfo.emit(this.periodScaleItemId)},n.prototype.onChangeSplitDate=function(){var n=this,l=this.activeSplitSet.splits.indexOf(this.activeSplitSet.splits.find(function(l){return l.split_id===n.splitId})),t=P(this.activeSplit.date_to).diff(P(this.activeSplit.date_from),"days")+1;t>7&&(this.activeSplitSet.splits[l]={name:this.activeSplit.name,date_from:this.activeSplit.date_from,date_to:this.activeSplit.date_to,split_id:this.activeSplit.split_id,duration:t},this.updateSplitSet(this.splitSetId,this.activeSplitSet))},n.prototype.updateSplitSet=function(n,l){this.store.dispatch(new y({index:n,splitSet:l}))},n.prototype.onDeleteClick=function(){var n=this,l=this.activeSplitSet.splits.indexOf(this.activeSplitSet.splits.find(function(l){return l.split_id===n.splitId}));this.activeSplitSet.splits[l+1]&&(this.activeSplitSet.splits[l+1].date_from=this.activeSplitSet.splits[l].date_from,this.activeSplitSet.splits[l+1].duration+=this.activeSplitSet.splits[l].duration),this.activeSplitSet.splits.splice(l,1),this.updateSplitSet(this.splitSetId,this.activeSplitSet)},n.prototype.onCopyClick=function(){console.log("copy")},n.prototype.onChangeSplitDuration=function(){var n=this;console.log("change duration"),this.activeSplitSet.splits.indexOf(this.activeSplitSet.splits.find(function(l){return l.split_id===n.splitId}))},n}(),L=e["\u0275crt"]({encapsulation:0,styles:[['.app-period-split-settings[_ngcontent-%COMP%]{width:310px;height:95px;border-radius:5px;background-color:#50597a}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:35px;padding:10px 10px 10px 15px;border-radius:5px 5px 0 0;color:#fff;background-color:#36405f}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__header[_ngcontent-%COMP%]   .app-period-split-settings__header--text[_ngcontent-%COMP%]{font:800 11px/15px NunitoSans-Bold;text-transform:uppercase}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__header[_ngcontent-%COMP%]   .app-period-split-settings__header--cross[_ngcontent-%COMP%]:hover{cursor:pointer}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]{display:flex;padding:10px 15px}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__col[_ngcontent-%COMP%]{width:57px}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__col--duration[_ngcontent-%COMP%]{width:63px}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__col--duration[_ngcontent-%COMP%]   .app-period-split-settings__duration[_ngcontent-%COMP%]{display:flex}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__col--duration[_ngcontent-%COMP%]   .app-period-split-settings__duration[_ngcontent-%COMP%]   .app-period-split-settings__duration--field[_ngcontent-%COMP%]{width:41px;height:22px;padding:5px;border:1px solid #b6b6b6;border-radius:3px;font-size:12px}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__col--duration[_ngcontent-%COMP%]   .app-period-split-settings__duration[_ngcontent-%COMP%]   .app-period-split-settings__duration--text[_ngcontent-%COMP%]{margin:auto 0 auto 5px;font-size:12px;line-height:15px;color:#fff}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__cols[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:222px;padding:0 15px 0 0;position:relative}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__cols[_ngcontent-%COMP%]   .app-period-split-settings__col--text[_ngcontent-%COMP%]{margin:0 0 4px;font:400 9px/11px NunitoSans-Bold;color:#fff;text-transform:uppercase}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__cols[_ngcontent-%COMP%]   .app-period-split-settings__duration[_ngcontent-%COMP%]{display:flex}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__cols[_ngcontent-%COMP%]:after{position:absolute;content:"";width:1px;height:32px;top:9px;right:1px;background-color:#ebeeff}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__buttons[_ngcontent-%COMP%]{display:flex;flex-grow:1;justify-content:space-between;align-items:center;padding:0 0 0 15px;color:#fff}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__buttons-ico[_ngcontent-%COMP%]{font-size:12px}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__buttons-ico[_ngcontent-%COMP%]:hover{cursor:pointer}']],data:{}});function V(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,38,"div",[["class","app-period-split-settings"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,3,"div",[["class","app-period-split-settings__header"]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,1,"h3",[["class","app-period-split-settings__header--text"]],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["Split Settings"])),(n()(),e["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-times app-period-split-settings__header--cross"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.onCloseInfo()&&e),e},null,null)),(n()(),e["\u0275eld"](5,0,null,null,33,"div",[["class","app-period-split-settings__content"]],null,null,null,null,null)),(n()(),e["\u0275eld"](6,0,null,null,29,"div",[["class","app-period-split-settings__cols"]],null,null,null,null,null)),(n()(),e["\u0275eld"](7,0,null,null,7,"div",[["class","app-period-split-settings__col"]],null,null,null,null,null)),(n()(),e["\u0275eld"](8,0,null,null,1,"p",[["class","app-period-split-settings__col--text"]],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["Starts"])),(n()(),e["\u0275eld"](10,0,null,null,4,"app-datepicker-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,l,t){var e=!0,i=n.component;return"ngModelChange"===l&&(e=!1!==(i.activeSplit.date_from=t)&&e),"ngModelChange"===l&&(e=!1!==i.onChangeSplitDate()&&e),e},x.b,x.a)),e["\u0275did"](11,671744,null,0,C.v,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,C.r,null,[C.v]),e["\u0275did"](13,16384,null,0,C.s,[[4,C.r]],null,null),e["\u0275did"](14,114688,null,0,M.a,[[6,C.r]],{isInvalid:[0,"isInvalid"],width:[1,"width"],dateInputFormat:[2,"dateInputFormat"],style:[3,"style"]},null),(n()(),e["\u0275eld"](15,0,null,null,12,"div",[["class","app-period-split-settings__col--duration"]],null,null,null,null,null)),(n()(),e["\u0275eld"](16,0,null,null,1,"p",[["class","app-period-split-settings__col--text"]],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["Duration"])),(n()(),e["\u0275eld"](18,0,null,null,9,"div",[["class","app-period-split-settings__duration"]],null,null,null,null,null)),(n()(),e["\u0275eld"](19,0,[["input",1]],null,6,"input",[["class","app-period-split-settings__duration--field"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var i=!0,o=n.component;return"input"===l&&(i=!1!==e["\u0275nov"](n,20)._handleInput(t.target.value)&&i),"blur"===l&&(i=!1!==e["\u0275nov"](n,20).onTouched()&&i),"compositionstart"===l&&(i=!1!==e["\u0275nov"](n,20)._compositionStart()&&i),"compositionend"===l&&(i=!1!==e["\u0275nov"](n,20)._compositionEnd(t.target.value)&&i),"change"===l&&(i=!1!==e["\u0275nov"](n,21).onChange(t.target.value)&&i),"input"===l&&(i=!1!==e["\u0275nov"](n,21).onChange(t.target.value)&&i),"blur"===l&&(i=!1!==e["\u0275nov"](n,21).onTouched()&&i),"ngModelChange"===l&&(i=!1!==(o.activeSplit.duration=t)&&i),"ngModelChange"===l&&(i=!1!==o.onChangeSplitDuration()&&i),i},null,null)),e["\u0275did"](20,16384,null,0,C.d,[e.Renderer2,e.ElementRef,[2,C.a]],null,null),e["\u0275did"](21,16384,null,0,C.F,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,C.q,function(n,l){return[n,l]},[C.d,C.F]),e["\u0275did"](23,671744,null,0,C.v,[[8,null],[8,null],[8,null],[6,C.q]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,C.r,null,[C.v]),e["\u0275did"](25,16384,null,0,C.s,[[4,C.r]],null,null),(n()(),e["\u0275eld"](26,0,null,null,1,"div",[["class","app-period-split-settings__duration--text"]],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["days"])),(n()(),e["\u0275eld"](28,0,null,null,7,"div",[["class","app-period-split-settings__col"]],null,null,null,null,null)),(n()(),e["\u0275eld"](29,0,null,null,1,"p",[["class","app-period-split-settings__col--text"]],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["Ends"])),(n()(),e["\u0275eld"](31,0,null,null,4,"app-datepicker-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,l,t){var e=!0,i=n.component;return"ngModelChange"===l&&(e=!1!==(i.activeSplit.date_to=t)&&e),"ngModelChange"===l&&(e=!1!==i.onChangeSplitDate()&&e),e},x.b,x.a)),e["\u0275did"](32,671744,null,0,C.v,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,C.r,null,[C.v]),e["\u0275did"](34,16384,null,0,C.s,[[4,C.r]],null,null),e["\u0275did"](35,114688,null,0,M.a,[[6,C.r]],{isInvalid:[0,"isInvalid"],width:[1,"width"],dateInputFormat:[2,"dateInputFormat"],style:[3,"style"]},null),(n()(),e["\u0275eld"](36,0,null,null,2,"div",[["class","app-period-split-settings__buttons"]],null,null,null,null,null)),(n()(),e["\u0275eld"](37,0,null,null,0,"i",[["class","fas fa-trash app-period-split-settings__buttons-ico"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.onDeleteClick()&&e),e},null,null)),(n()(),e["\u0275eld"](38,0,null,null,0,"i",[["class","fas fa-copy app-period-split-settings__buttons-ico"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.onCopyClick()&&e),e},null,null))],function(n,l){var t=l.component;n(l,11,0,t.activeSplit.date_from),n(l,14,0,t.activeSplit.date_from>t.activeSplit.date_to,"57px","MM/DD","short"),n(l,23,0,t.activeSplit.duration),n(l,32,0,t.activeSplit.date_to),n(l,35,0,t.activeSplit.date_from>t.activeSplit.date_to,"57px","MM/DD","short")},function(n,l){n(l,10,0,e["\u0275nov"](l,13).ngClassUntouched,e["\u0275nov"](l,13).ngClassTouched,e["\u0275nov"](l,13).ngClassPristine,e["\u0275nov"](l,13).ngClassDirty,e["\u0275nov"](l,13).ngClassValid,e["\u0275nov"](l,13).ngClassInvalid,e["\u0275nov"](l,13).ngClassPending),n(l,19,0,e["\u0275nov"](l,25).ngClassUntouched,e["\u0275nov"](l,25).ngClassTouched,e["\u0275nov"](l,25).ngClassPristine,e["\u0275nov"](l,25).ngClassDirty,e["\u0275nov"](l,25).ngClassValid,e["\u0275nov"](l,25).ngClassInvalid,e["\u0275nov"](l,25).ngClassPending),n(l,31,0,e["\u0275nov"](l,34).ngClassUntouched,e["\u0275nov"](l,34).ngClassTouched,e["\u0275nov"](l,34).ngClassPristine,e["\u0275nov"](l,34).ngClassDirty,e["\u0275nov"](l,34).ngClassValid,e["\u0275nov"](l,34).ngClassInvalid,e["\u0275nov"](l,34).ngClassPending)})}var z=t("qAlS"),A=t("Fzqc"),F=t("zC7G"),j=function(){function n(n){this.ngControl=n,this.value="",this.inputStyle=null,this.inputColor=null,this.onChangeField=new e.EventEmitter,this.ngControl&&(this.ngControl.valueAccessor=this)}return n.prototype.ngOnInit=function(){},n.prototype.writeValue=function(n){this.value=n},n.prototype.setDisabledState=function(n){this.disabled=n},n.prototype.registerOnChange=function(n){this.onChange=n},n.prototype.registerOnTouched=function(n){this.onTouched=n},n.prototype.onChange=function(n){return this.onChangeField.emit({fieldValue:n,type:"input"}),n},n.prototype.onTouched=function(){},n.prototype.onPenClick=function(){this.input.nativeElement.focus()},n}(),$=e["\u0275crt"]({encapsulation:0,styles:[[".app-input-editable-field[_ngcontent-%COMP%]{width:auto;height:14px;position:relative;display:flex;justify-content:center;padding:0;margin:auto;border:none;border-radius:0;color:#fff}.app-input-editable-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;height:14px;font-size:12px}.app-input-editable-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.app-input-editable-field[_ngcontent-%COMP%]   input.app-input-field__value[_ngcontent-%COMP%]{padding-top:10px}.app-input-editable-field[_ngcontent-%COMP%]   .app-input-editable-field__ico[_ngcontent-%COMP%]{width:9px;height:9px;margin:auto 0;color:#fff;font-size:9px}.app-input-editable-field[_ngcontent-%COMP%]   .app-input-editable-field__input[_ngcontent-%COMP%]{color:#fff;background-color:#36405f}.app-input-editable-field.app-input-editable-field__header[_ngcontent-%COMP%]{justify-content:left;color:#000}.app-input-editable-field.app-input-editable-field__header[_ngcontent-%COMP%]   .app-input-editable-field__input[_ngcontent-%COMP%]{min-width:10px;padding:5px 0 0;margin:0 5px 0 0;color:#000;background-color:#fff;font:11px/15px NunitoSans-Bold}.app-input-editable-field.app-input-editable-field__header[_ngcontent-%COMP%]   .app-input-editable-field__ico[_ngcontent-%COMP%]{width:12px;height:12px;margin:auto 0;color:grey;font-size:12px}"]],data:{}});function B(n){return e["\u0275vid"](0,[e["\u0275qud"](402653184,1,{input:0}),(n()(),e["\u0275eld"](1,0,null,null,12,"div",[["class","app-input-editable-field"]],null,null,null,null,null)),e["\u0275did"](2,278528,null,0,a.NgClass,[e.IterableDiffers,e.KeyValueDiffers,e.ElementRef,e.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e["\u0275pod"](3,{"app-input-editable-field__header":0}),(n()(),e["\u0275eld"](4,0,[[1,0],["input",1]],null,8,"input",[["AutoSizeInput",""],["class","form-control app-input-editable-field__input"]],[[8,"value",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var i=!0,o=n.component;return"input"===l&&(i=!1!==e["\u0275nov"](n,7)._handleInput(t.target.value)&&i),"blur"===l&&(i=!1!==e["\u0275nov"](n,7).onTouched()&&i),"compositionstart"===l&&(i=!1!==e["\u0275nov"](n,7)._compositionStart()&&i),"compositionend"===l&&(i=!1!==e["\u0275nov"](n,7)._compositionEnd(t.target.value)&&i),"input"===l&&(i=!1!==e["\u0275nov"](n,12).onInput(t.target)&&i),"ngModelChange"===l&&(i=!1!==(o.value=t)&&i),"input"===l&&(i=!1!==o.onChange(t.target.value)&&i),"blur"===l&&(i=!1!==o.onTouched()&&i),i},null,null)),e["\u0275did"](5,278528,null,0,a.NgStyle,[e.KeyValueDiffers,e.ElementRef,e.Renderer2],{ngStyle:[0,"ngStyle"]},null),e["\u0275pod"](6,{color:0}),e["\u0275did"](7,16384,null,0,C.d,[e.Renderer2,e.ElementRef,[2,C.a]],null,null),e["\u0275prd"](1024,null,C.q,function(n){return[n]},[C.d]),e["\u0275did"](9,671744,null,0,C.v,[[8,null],[8,null],[8,null],[6,C.q]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,C.r,null,[C.v]),e["\u0275did"](11,16384,null,0,C.s,[[4,C.r]],null,null),e["\u0275did"](12,2637824,null,0,F.AutoSizeInputDirective,[e.ElementRef],null,null),(n()(),e["\u0275eld"](13,0,null,null,0,"i",[["class","fas fa-pen app-input-editable-field__ico"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.onPenClick()&&e),e},null,null))],function(n,l){var t=l.component,e=n(l,3,0,"header"===t.inputStyle);n(l,2,0,"app-input-editable-field",e);var i=n(l,6,0,t.inputColor);n(l,5,0,i),n(l,9,0,t.value)},function(n,l){n(l,4,0,l.component.value,e["\u0275nov"](l,11).ngClassUntouched,e["\u0275nov"](l,11).ngClassTouched,e["\u0275nov"](l,11).ngClassPristine,e["\u0275nov"](l,11).ngClassDirty,e["\u0275nov"](l,11).ngClassValid,e["\u0275nov"](l,11).ngClassInvalid,e["\u0275nov"](l,11).ngClassPending)})}var q=function(){function n(n){this.store=n,this.periodSubscribe=n.select("state")}return n.prototype.ngOnInit=function(){var n=this;this.periodSubscribe.subscribe(function(l){n.periodSplitSet=l.splitsSet,n.activePeriodSet=l.splitsSet.find(function(l){return l.split_set_id===n.splitSetId}),n.initScale()}),this.periodScale={width:6*this.getSplitSetLength(),length:this.getSplitSetLength(),items:[]},this.initScale()},n.prototype.getSplitSetLength=function(){return this.activePeriodSet&&this.activePeriodSet.splits&&this.activePeriodSet.splits.length?this.activePeriodSet.splits.reduce(function(n,l){return n+l.duration},0):0},n.prototype.initScale=function(){var n=this,l=this.getSplitSetLength();this.periodScale={width:6*l,length:l,items:[]},this.activePeriodSet.splits.map(function(l){for(var t=0;t<l.duration;t++)n.periodScale.items.push({id:t,isExtreme:t===l.duration-1,extremeDate:t===l.duration-1?P(l.date_to,"DD-MM-YYYY").format("MM/DD"):null,label:2===t?l.name:null,splitId:l.split_id,slitDuration:2===t?l.duration:null,isPen:t===l.duration-5,isInfoOpen:!1,isLabelEdit:!1})})},n.prototype.dropItem=function(n){console.log(n.previousIndex,n.currentIndex),this.activePeriodSet.splits.map(n.currentIndex<n.previousIndex?function(l){l.split_id===parseInt(n.item.element.nativeElement.id,10)?(l.date_to=P(l.date_to,"DD-MM-YYYY").subtract(n.currentIndex-n.previousIndex,"days").toDate(),l.duration=l.duration-(n.previousIndex-n.currentIndex)):l.split_id===parseInt(n.item.element.nativeElement.id,10)+1&&(l.date_from=P(l.date_from,"DD-MM-YYYY").subtract(n.currentIndex-n.previousIndex,"days").toDate(),l.duration=l.duration+(n.previousIndex-n.currentIndex))}:function(l){l.split_id===parseInt(n.item.element.nativeElement.id,10)?(l.date_to=P(l.date_to,"DD-MM-YYYY").add(n.currentIndex-n.previousIndex,"days").toDate(),l.duration=l.duration+(n.currentIndex-n.previousIndex)):l.split_id===parseInt(n.item.element.nativeElement.id,10)+1&&(l.date_from=P(l.date_from,"DD-MM-YYYY").add(n.currentIndex-n.previousIndex,"days").toDate(),l.duration=l.duration-(n.currentIndex-n.previousIndex))}),this.updateSplitSet(this.activePeriodSet.split_set_id,this.activePeriodSet)},n.prototype.getColor=function(){return this.viewId%2==0?"#C87F13":"#1079C4"},n.prototype.onChangeSplitName=function(n,l){this.activePeriodSet.splits.map(function(t){t.split_id===l&&(t.name=n)}),this.updateSplitSet(this.activePeriodSet.split_set_id,this.activePeriodSet)},n.prototype.onAddSplit=function(){var n=P(this.activePeriodSet.splits.slice(-1).pop().date_to,"DD-MM-YYYY").add(1,"days").toDate(),l=this.activePeriodSet.splits&&this.activePeriodSet.splits.length?this.activePeriodSet.splits.slice(-1).pop().split_id:1;this.activePeriodSet.splits.push({name:l+1+" split",date_from:n,date_to:P(n,"DD-MM-YYYY").add(31,"days").toDate(),split_id:l+1,duration:31}),this.updateSplitSet(this.activePeriodSet.split_set_id,this.activePeriodSet)},n.prototype.onCreateSplit=function(){var n=this.activePeriodSet.splits&&this.activePeriodSet.splits.length?this.activePeriodSet.splits.slice(-1).pop().split_id:0;this.activePeriodSet.splits.push({name:n+1+" split",date_from:new Date,date_to:P(new Date,"DD-MM-YYYY").add(31,"days").toDate(),split_id:n+1,duration:31}),this.updateSplitSet(this.activePeriodSet.split_set_id,this.activePeriodSet),console.log(this.activePeriodSet)},n.prototype.updateSplitSet=function(n,l){this.store.dispatch(new y({index:n,splitSet:l}))},n.prototype.onPenClick=function(n){var l=this.periodScale.items[n].splitId;this.periodScale.items[n].isInfoOpen=!this.periodScale.items[n].isInfoOpen,this.periodScale.items.map(function(n){n.splitId===l&&(n.isLabelEdit=!n.isLabelEdit)})},n.prototype.onCloseInfo=function(n){var l=this.periodScale.items[n].splitId;this.periodScale.items[n].isInfoOpen=!1,this.periodScale.items.map(function(n){n.splitId===l&&(n.isLabelEdit=!1)})},n.prototype.getWidth=function(n){return 8*n.length+"px"},n.prototype.getIndex=function(n){return!n.isInfoOpen&&(n.isPen||n.isExtreme||n.label)?2:n.isInfoOpen?3:0},n}(),H=e["\u0275crt"]({encapsulation:0,styles:[[".app-period-split-bar[_ngcontent-%COMP%]{display:flex;padding:0 15px;background-color:#fff}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__header[_ngcontent-%COMP%]{min-width:115px;max-width:115px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]{display:flex;width:100%;max-width:1025px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale[_ngcontent-%COMP%]{display:flex;position:relative;overflow:visible;min-width:100px;max-width:1003px;height:65px;padding:10px 10px 15px 0}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale[_ngcontent-%COMP%]   .app-period-split-bar__scale--label[_ngcontent-%COMP%]{position:absolute;z-index:1;overflow:hidden}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__add_split[_ngcontent-%COMP%]{flex-grow:2;height:19px;width:19px;margin:5px 0 0;cursor:pointer;color:#4350a2;background-color:#ebeeff;border:1px dashed #4350a2;text-align:center;vertical-align:middle}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__add_split[_ngcontent-%COMP%]   .app-period-split-bar__add_split--ico[_ngcontent-%COMP%]{font-size:14px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--cell[_ngcontent-%COMP%]{width:6px;height:14px;position:relative}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--cell[_ngcontent-%COMP%]   .app-period-split-bar--date[_ngcontent-%COMP%]{position:absolute;bottom:-14px;left:-8px;height:10px;font-size:10px;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--cell[_ngcontent-%COMP%]   .app-period-split-bar--input[_ngcontent-%COMP%]{position:absolute;top:2px;height:10px;font-size:10px;line-height:13px;border:none;border-radius:5px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar--label[_ngcontent-%COMP%]{position:absolute;height:14px;z-index:1;font-size:10px;line-height:15px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar--label--yellow[_ngcontent-%COMP%]{color:#c87f13}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar--label--blue[_ngcontent-%COMP%]{color:#1079c4}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--cell[_ngcontent-%COMP%]::before{content:'';position:absolute;top:-7px;height:4px;width:4px;background-color:#c87f13}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__cell--selected[_ngcontent-%COMP%]{width:5.5px;height:14px;background-color:#a4a8be}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--yellow[_ngcontent-%COMP%]{background-color:#fbe2bc}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--yellow[_ngcontent-%COMP%]::before{background-color:#c87f13}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--blue[_ngcontent-%COMP%]{background-color:#def1ff}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--blue[_ngcontent-%COMP%]::before{background-color:#1079c4}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__add[_ngcontent-%COMP%]{width:100%;height:23px;margin:0 0 20px;cursor:pointer;font:12px/23px NunitoSans-Bold;color:#4350a2;background-color:#ebeeff;border:1px dashed #4350a2;text-align:center}.app-period-split-bar[_ngcontent-%COMP%]   .cdk-drag-placeholder[_ngcontent-%COMP%]   .app-period-split-bar--date[_ngcontent-%COMP%]{display:none}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__ico[_ngcontent-%COMP%]{font-size:10px;position:absolute;top:2px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__ico[_ngcontent-%COMP%]:hover{cursor:pointer}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__settings[_ngcontent-%COMP%]{position:absolute;top:18px;right:-30px}.cdk-drag-preview[_ngcontent-%COMP%]{color:red}.cdk-drag-preview[_ngcontent-%COMP%]   .app-period-split-bar--date[_ngcontent-%COMP%]{display:none}"]],data:{}});function U(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"div",[["class","app-period-split-bar--date"]],null,null,null,null,null)),(n()(),e["\u0275ted"](1,null,["",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.extremeDate)})}function K(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"app-carets",[["cdkDragHandle",""],["class","app-period-bar__cell--extreme cdk-drag-handle"]],null,null,null,Y,E)),e["\u0275did"](1,147456,[[2,4]],0,T.d,[e.ElementRef,[2,T.j]],null,null),e["\u0275did"](2,114688,null,0,R,[],null,null)],function(n,l){n(l,2,0)},null)}function G(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,5,"div",[["class","app-period-split-bar--label"]],null,null,null,null,null)),e["\u0275did"](1,278528,null,0,a.NgClass,[e.IterableDiffers,e.KeyValueDiffers,e.ElementRef,e.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e["\u0275pod"](2,{"app-period-split-bar--label--yellow":0,"app-period-split-bar--label--blue":1}),e["\u0275did"](3,278528,null,0,a.NgStyle,[e.KeyValueDiffers,e.ElementRef,e.Renderer2],{ngStyle:[0,"ngStyle"]},null),e["\u0275pod"](4,{width:0}),(n()(),e["\u0275ted"](5,null,[" ",""]))],function(n,l){var t=l.component,e=n(l,2,0,t.viewId%2==0,t.viewId%2==1);n(l,1,0,"app-period-split-bar--label",e);var i=n(l,4,0,t.getWidth(l.parent.context.$implicit.label));n(l,3,0,i)},function(n,l){n(l,5,0,l.parent.context.$implicit.label)})}function J(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,7,"input",[["class","app-period-split-bar--input"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var i=!0,o=n.component;return"input"===l&&(i=!1!==e["\u0275nov"](n,3)._handleInput(t.target.value)&&i),"blur"===l&&(i=!1!==e["\u0275nov"](n,3).onTouched()&&i),"compositionstart"===l&&(i=!1!==e["\u0275nov"](n,3)._compositionStart()&&i),"compositionend"===l&&(i=!1!==e["\u0275nov"](n,3)._compositionEnd(t.target.value)&&i),"ngModelChange"===l&&(i=!1!==(n.parent.context.$implicit.label=t)&&i),"ngModelChange"===l&&(i=!1!==o.onChangeSplitName(t,n.parent.context.$implicit.splitId)&&i),i},null,null)),e["\u0275did"](1,278528,null,0,a.NgStyle,[e.KeyValueDiffers,e.ElementRef,e.Renderer2],{ngStyle:[0,"ngStyle"]},null),e["\u0275pod"](2,{width:0}),e["\u0275did"](3,16384,null,0,C.d,[e.Renderer2,e.ElementRef,[2,C.a]],null,null),e["\u0275prd"](1024,null,C.q,function(n){return[n]},[C.d]),e["\u0275did"](5,671744,null,0,C.v,[[8,null],[8,null],[8,null],[6,C.q]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,C.r,null,[C.v]),e["\u0275did"](7,16384,null,0,C.s,[[4,C.r]],null,null)],function(n,l){var t=n(l,2,0,l.component.getWidth(l.parent.context.$implicit.label));n(l,1,0,t),n(l,5,0,l.parent.context.$implicit.label)},function(n,l){n(l,0,0,e["\u0275nov"](l,7).ngClassUntouched,e["\u0275nov"](l,7).ngClassTouched,e["\u0275nov"](l,7).ngClassPristine,e["\u0275nov"](l,7).ngClassDirty,e["\u0275nov"](l,7).ngClassValid,e["\u0275nov"](l,7).ngClassInvalid,e["\u0275nov"](l,7).ngClassPending)})}function W(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"i",[["class","fas fa-pen app-period-split-bar__ico"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.onPenClick(n.parent.context.index)&&e),e},null,null)),e["\u0275did"](1,278528,null,0,a.NgStyle,[e.KeyValueDiffers,e.ElementRef,e.Renderer2],{ngStyle:[0,"ngStyle"]},null),e["\u0275pod"](2,{color:0})],function(n,l){var t=n(l,2,0,l.component.getColor());n(l,1,0,t)},null)}function Z(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-split-bar__settings"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,1,"app-period-split-settings",[],null,[[null,"closeInfo"]],function(n,l,t){var e=!0;return"closeInfo"===l&&(e=!1!==n.component.onCloseInfo(t)&&e),e},V,L)),e["\u0275did"](2,114688,null,0,N,[k.n],{splitSetId:[0,"splitSetId"],splitId:[1,"splitId"],periodScaleItemId:[2,"periodScaleItemId"]},{closeInfo:"closeInfo"})],function(n,l){n(l,2,0,l.component.splitSetId,l.parent.context.$implicit.splitId,l.parent.context.index)},null)}function Q(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,16777216,null,null,21,"div",[["cdkDrag",""],["cdkDragBoundary",".app-period-bar__scale"],["cdkDragLockAxis","x"],["class","app-period-split-bar__scale--cell cdk-drag"]],[[8,"id",0],[2,"cdk-drag-disabled",null],[2,"cdk-drag-dragging",null]],null,null,null,null)),e["\u0275prd"](6144,null,T.j,null,[T.c]),e["\u0275did"](2,4866048,[[1,4]],3,T.c,[e.ElementRef,[3,T.b],a.DOCUMENT,e.NgZone,e.ViewContainerRef,z.a,T.i,T.a,[2,A.a],T.g,e.ChangeDetectorRef],{lockAxis:[0,"lockAxis"],boundaryElementSelector:[1,"boundaryElementSelector"],disabled:[2,"disabled"]},null),e["\u0275qud"](603979776,2,{_handles:1}),e["\u0275qud"](335544320,3,{_previewTemplate:0}),e["\u0275qud"](335544320,4,{_placeholderTemplate:0}),e["\u0275did"](6,278528,null,0,a.NgClass,[e.IterableDiffers,e.KeyValueDiffers,e.ElementRef,e.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e["\u0275pod"](7,{"app-period-split-bar__scale--yellow":0,"app-period-split-bar__scale--blue":1}),e["\u0275did"](8,278528,null,0,a.NgStyle,[e.KeyValueDiffers,e.ElementRef,e.Renderer2],{ngStyle:[0,"ngStyle"]},null),e["\u0275pod"](9,{"z-index":0}),(n()(),e["\u0275and"](16777216,null,null,1,null,U)),e["\u0275did"](11,16384,null,0,a.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,K)),e["\u0275did"](13,16384,null,0,a.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,G)),e["\u0275did"](15,16384,null,0,a.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,J)),e["\u0275did"](17,16384,null,0,a.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,W)),e["\u0275did"](19,16384,null,0,a.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,Z)),e["\u0275did"](21,16384,null,0,a.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](0,null,null,0))],function(n,l){var t=l.component;n(l,2,0,"x",".app-period-bar__scale",!l.context.$implicit.isExtreme);var e=n(l,7,0,t.viewId%2==0,t.viewId%2==1);n(l,6,0,"app-period-split-bar__scale--cell",e);var i=n(l,9,0,t.getIndex(l.context.$implicit));n(l,8,0,i),n(l,11,0,l.context.$implicit.extremeDate),n(l,13,0,l.context.$implicit.isExtreme),n(l,15,0,l.context.$implicit.label&&l.context.$implicit.slitDuration>10&&!l.context.$implicit.isLabelEdit),n(l,17,0,l.context.$implicit.label&&l.context.$implicit.slitDuration>10&&l.context.$implicit.isLabelEdit),n(l,19,0,l.context.$implicit.isPen),n(l,21,0,l.context.$implicit.isInfoOpen)},function(n,l){n(l,0,0,e["\u0275inlineInterpolate"](1,"",l.context.$implicit.splitId,""),e["\u0275nov"](l,2).disabled,e["\u0275nov"](l,2)._dragRef.isDragging())})}function X(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,9,"div",[["class","app-period-split-bar__splitset"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,6,"div",[["cdkDropList",""],["cdkDropListOrientation","horizontal"],["class","app-period-split-bar__scale cdk-drop-list"]],[[8,"id",0],[2,"cdk-drop-list-disabled",null],[2,"cdk-drop-list-dragging",null],[2,"cdk-drop-list-receiving",null]],[[null,"cdkDropListDropped"]],function(n,l,t){var e=!0;return"cdkDropListDropped"===l&&(e=!1!==n.component.dropItem(t)&&e),e},null,null)),e["\u0275prd"](6144,null,T.b,null,[T.e]),e["\u0275did"](3,1196032,null,1,T.e,[e.ElementRef,T.i,e.ChangeDetectorRef,[2,A.a],[3,T.f],[2,a.DOCUMENT],T.g],{orientation:[0,"orientation"]},{dropped:"cdkDropListDropped"}),e["\u0275qud"](603979776,1,{_draggables:1}),e["\u0275prd"](256,null,T.f,void 0,[]),(n()(),e["\u0275and"](16777216,null,null,1,null,Q)),e["\u0275did"](7,278528,null,0,a.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),e["\u0275eld"](8,0,null,null,1,"div",[["class","app-period-split-bar__add_split"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.onAddSplit()&&e),e},null,null)),(n()(),e["\u0275eld"](9,0,null,null,0,"i",[["class","fa fa-plus app-period-split-bar__add_split--ico"]],null,null,null,null,null))],function(n,l){var t=l.component;n(l,3,0,"horizontal"),n(l,7,0,t.periodScale.items)},function(n,l){n(l,1,0,e["\u0275nov"](l,3).id,e["\u0275nov"](l,3).disabled,e["\u0275nov"](l,3)._dropListRef.isDragging(),e["\u0275nov"](l,3)._dropListRef.isReceiving())})}function nn(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"div",[["class","app-period-split-bar__add"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.onCreateSplit()&&e),e},null,null)),(n()(),e["\u0275ted"](-1,null,[" + Create first split "]))],null,null)}function ln(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,10,"div",[["class","app-period-split-bar"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,5,"div",[["class","app-period-split-bar__header"]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,4,"app-input-editable-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,l,t){var e=!0;return"ngModelChange"===l&&(e=!1!==(n.component.activePeriodSet.name=t)&&e),e},B,$)),e["\u0275did"](3,671744,null,0,C.v,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,C.r,null,[C.v]),e["\u0275did"](5,16384,null,0,C.s,[[4,C.r]],null,null),e["\u0275did"](6,114688,null,0,j,[[6,C.r]],{inputStyle:[0,"inputStyle"],inputColor:[1,"inputColor"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,X)),e["\u0275did"](8,16384,null,0,a.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,nn)),e["\u0275did"](10,16384,null,0,a.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](11,0,null,null,2,"pre",[],null,null,null,null,null)),(n()(),e["\u0275ted"](12,null,[" ",""])),e["\u0275pid"](0,a.JsonPipe,[])],function(n,l){var t=l.component;n(l,3,0,t.activePeriodSet.name),n(l,6,0,"header",t.getColor()),n(l,8,0,t.getSplitSetLength()),n(l,10,0,!t.getSplitSetLength())},function(n,l){var t=l.component;n(l,2,0,e["\u0275nov"](l,5).ngClassUntouched,e["\u0275nov"](l,5).ngClassTouched,e["\u0275nov"](l,5).ngClassPristine,e["\u0275nov"](l,5).ngClassDirty,e["\u0275nov"](l,5).ngClassValid,e["\u0275nov"](l,5).ngClassInvalid,e["\u0275nov"](l,5).ngClassPending),n(l,12,0,e["\u0275unv"](l,12,0,e["\u0275nov"](l,13).transform(t.activePeriodSet)))})}var tn=function(){function n(n){this.store=n,this.periodSubscribe=n.select("state")}return n.prototype.ngOnInit=function(){var n=this;this.periodSubscribe.subscribe(function(l){n.period=l.period,n.initScale()}),this.periodScale={width:2196,length:366,items:[],label:this.period.name,duration:this.period.duration>366?366:this.period.duration},this.initScale()},n.prototype.initScale=function(){this.periodScale={width:2196,length:366,items:[],label:this.period.name,duration:this.period.duration>366?366:this.period.duration};for(var n=0;n<this.periodScale.length;n++)this.drawItem(n);this.periodScale.items&&this.period&&this.period.duration&&this.period.duration>0&&(this.periodScale.items[0].isLowExtreme=!0,this.periodScale.items[this.period.duration-1].isHighExtreme=!0)},n.prototype.drawItem=function(n){1===P(this.period.date_from,"DD-MM-YYYY").add(n,"days").date()?this.periodScale.items.push({id:n,label:P().month(P(this.period.date_from,"DD-MM-YYYY").add(n,"days").month()).format("MMMM").slice(0,3)}):this.periodScale.items.push({id:n}),this.periodScale.items[n].isSelected=P(this.period.date_from,"DD-MM-YYYY")<=P(this.period.date_from,"DD-MM-YYYY").add(n,"days")&&P(this.period.date_from,"DD-MM-YYYY").add(n,"days")<=P(this.period.date_to,"DD-MM-YYYY")},n.prototype.dropItem=function(n){var l=this;Array.prototype.slice.call(n.item.element.nativeElement.children).map(function(t){if(t.className.includes("app-period-bar__cell--high-extreme"))l.store.dispatch(new O({name:l.periodScale.label,date_from:l.period.date_from,date_to:P(l.period.date_from,"DD-MM-YYYY").add(n.currentIndex+1,"days").toDate(),duration:n.currentIndex+2}));else if(t.className.includes("app-period-bar__cell--low-extreme")){var e=l.period.duration;l.store.dispatch(new O({name:l.periodScale.label,date_from:P(l.period.date_from,"DD-MM-YYYY").add(n.currentIndex,"days").toDate(),date_to:l.period.date_to,duration:e-n.currentIndex+1}))}})},n.prototype.getWidth=function(){return this.periodScale.duration>15?(6*this.periodScale.duration-12).toString()+"px":"0px"},n.prototype.onChangeName=function(n){this.store.dispatch(new O({name:n,date_from:this.period.date_from,date_to:this.period.date_to,duration:this.period.duration}))},n}(),en=e["\u0275crt"]({encapsulation:0,styles:[[".app-period-bar[_ngcontent-%COMP%]{display:flex;padding:20px 15px;background-color:#fff;overflow-x:hidden}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__header[_ngcontent-%COMP%]{min-width:113px;max-width:113px;height:15px;font:800 12px/15px NunitoSans-Bold;margin:7px 0 auto}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale[_ngcontent-%COMP%]{flex-grow:1;display:flex;position:relative;overflow:visible;min-width:500px;max-width:1025px;height:65px;padding:10px 0 15px 7px;overflow-y:auto}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale[_ngcontent-%COMP%]   .app-period-bar__scale--label[_ngcontent-%COMP%]{position:absolute;z-index:1;overflow:hidden}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]{width:4px;height:14px;margin:0 2px 0 0;background-color:#f7f8ff;position:relative}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]   .app-period-bar__cell--month[_ngcontent-%COMP%]{position:absolute;bottom:-14px;height:10px;font-size:10px;color:#000}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]   .app-period-bar__cell--month[_ngcontent-%COMP%]:before{content:'';position:absolute;bottom:9px;left:1px;height:7px;width:2px;background-color:#000}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]   .app-period-bar__cell--high-extreme[_ngcontent-%COMP%], .app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]   .app-period-bar__cell--low-extreme[_ngcontent-%COMP%]{position:absolute;z-index:2;top:1px;right:-2px}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]   .app-period-bar__cell--high-extreme[_ngcontent-%COMP%]{right:-4px}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]::before{content:'';position:absolute;top:-7px;height:4px;width:4px;background-color:#36405f}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__cell--selected[_ngcontent-%COMP%]{width:5.5px;height:14px;background-color:#36405f}.app-period-bar[_ngcontent-%COMP%]   .cdk-drag-placeholder[_ngcontent-%COMP%]   .app-period-bar__cell--month[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   .app-period-bar__cell--month[_ngcontent-%COMP%]{display:none}"]],data:{}});function on(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"div",[["class","app-period-bar__cell--month"]],null,null,null,null,null)),(n()(),e["\u0275ted"](1,null,["",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.label)})}function pn(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,0,"div",[["class","app-period-bar__cell--selected"]],null,null,null,null,null))],null,null)}function an(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"app-carets",[["cdkDragHandle",""],["class","app-period-bar__cell--high-extreme cdk-drag-handle"]],null,null,null,Y,E)),e["\u0275did"](1,147456,[[2,4]],0,T.d,[e.ElementRef,[2,T.j]],null,null),e["\u0275did"](2,114688,null,0,R,[],null,null)],function(n,l){n(l,2,0)},null)}function dn(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"app-carets",[["cdkDragHandle",""],["class","app-period-bar__cell--low-extreme cdk-drag-handle"]],null,null,null,Y,E)),e["\u0275did"](1,147456,[[2,4]],0,T.d,[e.ElementRef,[2,T.j]],null,null),e["\u0275did"](2,114688,null,0,R,[],null,null)],function(n,l){n(l,2,0)},null)}function rn(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,16777216,null,null,13,"div",[["cdkDrag",""],["cdkDragBoundary",".app-period-bar__scale"],["cdkDragLockAxis","x"],["class","app-period-bar__scale--cell cdk-drag"]],[[2,"cdk-drag-disabled",null],[2,"cdk-drag-dragging",null]],null,null,null,null)),e["\u0275prd"](6144,null,T.j,null,[T.c]),e["\u0275did"](2,4866048,[[1,4]],3,T.c,[e.ElementRef,[3,T.b],a.DOCUMENT,e.NgZone,e.ViewContainerRef,z.a,T.i,T.a,[2,A.a],T.g,e.ChangeDetectorRef],{lockAxis:[0,"lockAxis"],boundaryElementSelector:[1,"boundaryElementSelector"],disabled:[2,"disabled"]},null),e["\u0275qud"](603979776,2,{_handles:1}),e["\u0275qud"](335544320,3,{_previewTemplate:0}),e["\u0275qud"](335544320,4,{_placeholderTemplate:0}),(n()(),e["\u0275and"](16777216,null,null,1,null,on)),e["\u0275did"](7,16384,null,0,a.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,pn)),e["\u0275did"](9,16384,null,0,a.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,an)),e["\u0275did"](11,16384,null,0,a.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,dn)),e["\u0275did"](13,16384,null,0,a.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](0,null,null,0))],function(n,l){n(l,2,0,"x",".app-period-bar__scale",!(l.context.$implicit.isHighExtreme||l.context.$implicit.isLowExtreme)),n(l,7,0,l.context.$implicit.label),n(l,9,0,l.context.$implicit.isSelected),n(l,11,0,l.context.$implicit.isHighExtreme),n(l,13,0,l.context.$implicit.isLowExtreme)},function(n,l){n(l,0,0,e["\u0275nov"](l,2).disabled,e["\u0275nov"](l,2)._dragRef.isDragging())})}function un(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,15,"div",[["class","app-period-bar"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,1,"h2",[["class","app-period-bar__header"]],null,null,null,null,null)),(n()(),e["\u0275ted"](2,null,["",""])),(n()(),e["\u0275eld"](3,0,null,null,12,"div",[["cdkDropList",""],["cdkDropListOrientation","horizontal"],["class","app-period-bar__scale cdk-drop-list"]],[[8,"id",0],[2,"cdk-drop-list-disabled",null],[2,"cdk-drop-list-dragging",null],[2,"cdk-drop-list-receiving",null]],[[null,"cdkDropListDropped"]],function(n,l,t){var e=!0;return"cdkDropListDropped"===l&&(e=!1!==n.component.dropItem(t)&&e),e},null,null)),e["\u0275prd"](6144,null,T.b,null,[T.e]),e["\u0275did"](5,1196032,null,1,T.e,[e.ElementRef,T.i,e.ChangeDetectorRef,[2,A.a],[3,T.f],[2,a.DOCUMENT],T.g],{orientation:[0,"orientation"]},{dropped:"cdkDropListDropped"}),e["\u0275qud"](603979776,1,{_draggables:1}),e["\u0275prd"](256,null,T.f,void 0,[]),(n()(),e["\u0275eld"](8,0,null,null,5,"div",[["class","app-period-bar__scale--label"]],[[4,"width",null]],null,null,null,null)),(n()(),e["\u0275eld"](9,0,null,null,4,"app-input-editable-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,l,t){var e=!0,i=n.component;return"ngModelChange"===l&&(e=!1!==(i.period.name=t)&&e),"ngModelChange"===l&&(e=!1!==i.onChangeName(t)&&e),e},B,$)),e["\u0275did"](10,671744,null,0,C.v,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,C.r,null,[C.v]),e["\u0275did"](12,16384,null,0,C.s,[[4,C.r]],null,null),e["\u0275did"](13,114688,null,0,j,[[6,C.r]],null,null),(n()(),e["\u0275and"](16777216,null,null,1,null,rn)),e["\u0275did"](15,278528,null,0,a.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var t=l.component;n(l,5,0,"horizontal"),n(l,10,0,t.period.name),n(l,13,0),n(l,15,0,t.periodScale.items)},function(n,l){var t=l.component;n(l,2,0,t.period.name),n(l,3,0,e["\u0275nov"](l,5).id,e["\u0275nov"](l,5).disabled,e["\u0275nov"](l,5)._dropListRef.isDragging(),e["\u0275nov"](l,5)._dropListRef.isReceiving()),n(l,8,0,t.getWidth()),n(l,9,0,e["\u0275nov"](l,12).ngClassUntouched,e["\u0275nov"](l,12).ngClassTouched,e["\u0275nov"](l,12).ngClassPristine,e["\u0275nov"](l,12).ngClassDirty,e["\u0275nov"](l,12).ngClassValid,e["\u0275nov"](l,12).ngClassInvalid,e["\u0275nov"](l,12).ngClassPending)})}var sn=function(){function n(n){this.store=n,this.periodSubscribe=n.select("state")}return n.prototype.ngOnInit=function(){var n=this;this.periodSubscribe.subscribe(function(l){n.splitSet=l.splitsSet})},n.prototype.onAddSplit=function(){this.store.dispatch(new S({name:"Academical",split_set_id:this.splitSet.length+1,splits:[]}))},n.prototype.ngOnDestroy=function(){this.periodSubscribe.subscribe().unsubscribe()},n}(),cn=e["\u0275crt"]({encapsulation:0,styles:[[".app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__container[_ngcontent-%COMP%]{padding:20px 15px;background-color:#fff}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__add[_ngcontent-%COMP%]{font:10px/11px NunitoSans-Bold;color:#4350a2;cursor:pointer}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__add[_ngcontent-%COMP%]:hover{opacity:.6}"]],data:{}});function gn(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-general-settings__split-set"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,1,"app-period-split-bar",[],null,null,null,ln,H)),e["\u0275did"](2,114688,null,0,q,[k.n],{splitSetId:[0,"splitSetId"],viewId:[1,"viewId"]},null)],function(n,l){n(l,2,0,l.component.splitSet[l.context.index].split_set_id,l.context.index)},null)}function fn(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-general-settings__split-sets"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,gn)),e["\u0275did"](2,278528,null,0,a.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,2,0,l.component.splitSet)},null)}function _n(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,7,"div",[["class","app-period-general-settings"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,6,"div",[["class","app-period-general-settings__container"]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,1,"app-period-bar",[],null,null,null,un,en)),e["\u0275did"](3,114688,null,0,tn,[k.n],null,null),(n()(),e["\u0275and"](16777216,null,null,1,null,fn)),e["\u0275did"](5,16384,null,0,a.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](6,0,null,null,1,"div",[["class","app-period-general-settings__add"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.onAddSplit()&&e),e},null,null)),(n()(),e["\u0275ted"](-1,null,[" + Add new split type "]))],function(n,l){var t=l.component;n(l,3,0),n(l,5,0,t.splitSet)},null)}var hn=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),vn=e["\u0275crt"]({encapsulation:0,styles:[[".app-period-create[_ngcontent-%COMP%]{padding:30px 20px}.app-period-create[_ngcontent-%COMP%]   .app-period-create-header[_ngcontent-%COMP%]{color:#151515;font:800 17px/20px NunitoSans-Bold;letter-spacing:.2px;text-transform:uppercase}.app-period-create[_ngcontent-%COMP%]   .app-period-create-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.app-period-create[_ngcontent-%COMP%]   .app-period-create-left-panel[_ngcontent-%COMP%]{width:320px;margin:0 20px 0 0}.app-period-create[_ngcontent-%COMP%]   .app-period-create-right-panel[_ngcontent-%COMP%]{flex-grow:1}"]],data:{}});function mn(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"app-period-page-header",[],null,[[null,"click"]],function(n,l,t){var i=!0;return"click"===l&&(i=!1!==e["\u0275nov"](n,1).onClick()&&i),i},s,r)),e["\u0275did"](1,16384,null,0,p.m,[p.l,p.a,[8,null],e.Renderer2,e.ElementRef],{routerLink:[0,"routerLink"]},null),e["\u0275did"](2,114688,null,0,d,[],{titleHeader:[0,"titleHeader"],isBackArrowEnable:[1,"isBackArrowEnable"],buttonText:[2,"buttonText"],routerLink:[3,"routerLink"]},null),(n()(),e["\u0275eld"](3,0,null,null,9,"div",[["class","app-period-create"]],null,null,null,null,null)),(n()(),e["\u0275eld"](4,0,null,null,1,"h1",[["class","app-period-create-header"]],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["Create Period"])),(n()(),e["\u0275eld"](6,0,null,null,6,"div",[["class","app-period-create-container"]],null,null,null,null,null)),(n()(),e["\u0275eld"](7,0,null,null,2,"div",[["class","app-period-create-left-panel"]],null,null,null,null,null)),(n()(),e["\u0275eld"](8,0,null,null,1,"app-period-duration-setting",[],null,null,null,D,w)),e["\u0275did"](9,114688,null,0,I,[k.n],null,null),(n()(),e["\u0275eld"](10,0,null,null,2,"div",[["class","app-period-create-right-panel"]],null,null,null,null,null)),(n()(),e["\u0275eld"](11,0,null,null,1,"app-period-general-setting",[],null,null,null,_n,cn)),e["\u0275did"](12,245760,null,0,sn,[k.n],null,null)],function(n,l){n(l,1,0,"/period"),n(l,2,0,"CREATE PERIOD",!0,"Save & exit","/period"),n(l,9,0),n(l,12,0)},null)}function Cn(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"app-period-create",[],null,null,null,mn,vn)),e["\u0275did"](1,114688,null,0,hn,[],null,null)],function(n,l){n(l,1,0)},null)}var bn=e["\u0275ccf"]("app-period-create",hn,Cn,{},{},[]),xn=t("atuK"),Mn=t("9AJC"),Pn=t("4GxJ"),On=t("NJnL"),Sn=t("lqqz"),yn=t("ARl4"),In=function(){return function(n,l){this.http=n,this.store=l}}(),kn=t("t/Na"),wn=function(){return function(){}}(),Dn=t("QpxQ"),Rn=t("D2tp"),En=t("mrSG"),Yn={period:{name:"new period",date_from:new Date,date_to:P(new Date,"DD-MM-YYYY").add(365,"days").toDate(),duration:366},splitsSet:[{name:"Financial",split_set_id:1,splits:[{name:"1 split",date_from:new Date,date_to:P(new Date,"DD-MM-YYYY").add(30,"days").toDate(),split_id:1,duration:31}]}]};function Tn(n,l){switch(void 0===n&&(n=Yn),l.type){case h.ChangePeriod:return En.a({},n,{period:En.a({},l.payload)});case h.AddSplitSet:return En.a({},n,{splitsSet:n.splitsSet.concat([l.payload])});case h.ChangeSplitSet:var t=n.splitsSet.slice();return t.map(function(n){return n.split_set_id===l.payload.index?l.payload.splitSet:n}),En.a({},n,{splitsSet:t});default:return n}}t.d(l,"PeriodModuleNgFactory",function(){return Nn});var Nn=e["\u0275cmf"](i,[],function(n){return e["\u0275mod"]([e["\u0275mpd"](512,e.ComponentFactoryResolver,e["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,v,bn,xn.a,xn.b,xn.c,Mn.a,Mn.b,Mn.l,Mn.m,Mn.i,Mn.j,Mn.k]],[3,e.ComponentFactoryResolver],e.NgModuleRef]),e["\u0275mpd"](4608,T.g,T.g,[a.DOCUMENT,e.NgZone,z.a,T.i]),e["\u0275mpd"](4608,a.NgLocalization,a.NgLocaleLocalization,[e.LOCALE_ID,[2,a["\u0275angular_packages_common_common_a"]]]),e["\u0275mpd"](4608,C.H,C.H,[]),e["\u0275mpd"](4608,C.g,C.g,[]),e["\u0275mpd"](4608,Pn.E,Pn.E,[e.ComponentFactoryResolver,e.Injector,Pn.wb,Pn.F]),e["\u0275mpd"](4608,On.a,On.a,[e.RendererFactory2,e.PLATFORM_ID]),e["\u0275mpd"](4608,Sn.a,Sn.a,[e.ComponentFactoryResolver,e.NgZone,e.Injector,On.a,e.ApplicationRef]),e["\u0275mpd"](4608,yn.w,yn.w,[]),e["\u0275mpd"](4608,yn.y,yn.y,[]),e["\u0275mpd"](4608,yn.a,yn.a,[]),e["\u0275mpd"](4608,yn.e,yn.e,[]),e["\u0275mpd"](4608,yn.c,yn.c,[]),e["\u0275mpd"](4608,yn.f,yn.f,[]),e["\u0275mpd"](4608,yn.x,yn.x,[yn.y,yn.f]),e["\u0275mpd"](4608,In,In,[kn.c,k.n]),e["\u0275mpd"](1073742336,T.h,T.h,[]),e["\u0275mpd"](1073742336,a.CommonModule,a.CommonModule,[]),e["\u0275mpd"](1073742336,C.E,C.E,[]),e["\u0275mpd"](1073742336,C.n,C.n,[]),e["\u0275mpd"](1073742336,C.z,C.z,[]),e["\u0275mpd"](1073742336,p.p,p.p,[[2,p.v],[2,p.l]]),e["\u0275mpd"](1073742336,wn,wn,[]),e["\u0275mpd"](1073742336,yn.d,yn.d,[]),e["\u0275mpd"](1073742336,Pn.c,Pn.c,[]),e["\u0275mpd"](1073742336,Pn.f,Pn.f,[]),e["\u0275mpd"](1073742336,Pn.h,Pn.h,[]),e["\u0275mpd"](1073742336,Pn.m,Pn.m,[]),e["\u0275mpd"](1073742336,Pn.n,Pn.n,[]),e["\u0275mpd"](1073742336,Pn.u,Pn.u,[]),e["\u0275mpd"](1073742336,Pn.A,Pn.A,[]),e["\u0275mpd"](1073742336,Pn.G,Pn.G,[]),e["\u0275mpd"](1073742336,Pn.K,Pn.K,[]),e["\u0275mpd"](1073742336,Pn.P,Pn.P,[]),e["\u0275mpd"](1073742336,Pn.S,Pn.S,[]),e["\u0275mpd"](1073742336,Pn.X,Pn.X,[]),e["\u0275mpd"](1073742336,Pn.cb,Pn.cb,[]),e["\u0275mpd"](1073742336,Pn.gb,Pn.gb,[]),e["\u0275mpd"](1073742336,Pn.jb,Pn.jb,[]),e["\u0275mpd"](1073742336,Pn.kb,Pn.kb,[]),e["\u0275mpd"](1073742336,Pn.H,Pn.H,[]),e["\u0275mpd"](1073742336,Dn.c,Dn.c,[]),e["\u0275mpd"](1073742336,F.AutoSizeInputModule,F.AutoSizeInputModule,[]),e["\u0275mpd"](1073742336,Rn.a,Rn.a,[]),e["\u0275mpd"](131584,k.a,k.a,[]),e["\u0275mpd"](2048,k.h,null,[k.a]),e["\u0275mpd"](256,k.t,void 0,[]),e["\u0275mpd"](1024,k.d,k.y,[k.t]),e["\u0275mpd"](256,k.s,{state:Tn},[]),e["\u0275mpd"](2048,k.v,null,[k.s]),e["\u0275mpd"](1024,k.c,k.x,[e.Injector,k.s,k.v]),e["\u0275mpd"](256,k.u,k.z,[]),e["\u0275mpd"](256,k.e,[],[]),e["\u0275mpd"](1024,k.f,k.C,[k.u,k.e]),e["\u0275mpd"](131584,k.g,k.g,[k.h,k.d,k.c,k.f]),e["\u0275mpd"](2048,k.i,null,[k.g]),e["\u0275mpd"](131584,k.k,k.k,[]),e["\u0275mpd"](131584,k.l,k.l,[k.a,k.i,k.k,k.d]),e["\u0275mpd"](2048,k.m,null,[k.l]),e["\u0275mpd"](512,k.n,k.n,[k.m,k.a,k.g]),e["\u0275mpd"](1073742336,k.p,k.p,[k.a,k.i,k.k,k.n]),e["\u0275mpd"](1073742336,i,i,[]),e["\u0275mpd"](1024,p.j,function(){return[[{path:"",component:c},{path:"create",component:hn}]]},[]),e["\u0275mpd"](256,Dn.d,Dn.e,[])])})},LHBH:function(n,l,t){"use strict";var e=t("CcnG"),i=t("Ip0R"),o=t("gIcY");t("RzGa"),t.d(l,"a",function(){return p}),t.d(l,"b",function(){return r});var p=e["\u0275crt"]({encapsulation:0,styles:[[".app-input-field[_ngcontent-%COMP%]{border:none;border-radius:0;color:#151515;padding:0;min-height:36px;max-height:36px;width:auto;position:relative}.app-input-field.app-input-field-table[_ngcontent-%COMP%]{min-height:24px;max-height:24px}.app-input-field.app-input-field-table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{min-height:24px;padding:0 10px;font-size:12px}.app-input-field.app-input-field-table[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.app-input-field.app-input-field-table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-inner-spin-button, .app-input-field.app-input-field-table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none}.app-input-field[_ngcontent-%COMP%]   .app-input-field-label[_ngcontent-%COMP%]{position:absolute;color:#909090;-webkit-transform-origin:0 0;transform-origin:0 0;z-index:1;top:11px;left:11px;font-size:10px}.app-input-field[_ngcontent-%COMP%]   .app-input-field-label__value[_ngcontent-%COMP%]{top:1px}.app-input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #b6b6b6;border-radius:3px;width:100%;min-height:36px;padding:0 10px;font-size:12px}.app-input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.app-input-field[_ngcontent-%COMP%]   input.app-input-field__value[_ngcontent-%COMP%]{padding-top:10px}.app-input-field[_ngcontent-%COMP%]   .app-input-field-error-icon[_ngcontent-%COMP%]{color:#fff;background:#e65757;border-radius:50%;width:16px;height:16px;text-align:center;line-height:7px;position:absolute;right:11px;top:11px;padding:4px 0}.app-input-field.app-input-field-has-error[_ngcontent-%COMP%]   .app-input-field-label[_ngcontent-%COMP%]{color:#e65757}.app-input-field.app-input-field-has-error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-color:#e65757}"]],data:{}});function a(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,3,"label",[["class","app-input-field-label"]],[[8,"htmlFor",0]],[[null,"click"]],function(n,l,t){var i=!0;return"click"===l&&(i=!1!==e["\u0275nov"](n.parent,5).focus()&&i),i},null,null)),e["\u0275did"](1,278528,null,0,i.NgClass,[e.IterableDiffers,e.KeyValueDiffers,e.ElementRef,e.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e["\u0275pod"](2,{"app-input-field-label__value":0}),(n()(),e["\u0275ted"](3,null,[" "," "]))],function(n,l){var t=n(l,2,0,l.component.value);n(l,1,0,"app-input-field-label",t)},function(n,l){var t=l.component;n(l,0,0,t.id),n(l,3,0,t.label)})}function d(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"div",[["class","app-input-field-error-icon"]],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,[" x "]))],null,null)}function r(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,17,"div",[["class","app-input-field"]],null,null,null,null,null)),e["\u0275did"](1,278528,null,0,i.NgClass,[e.IterableDiffers,e.KeyValueDiffers,e.ElementRef,e.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e["\u0275pod"](2,{"app-input-field-has-error":0,"app-input-field-table":1}),(n()(),e["\u0275and"](16777216,null,null,1,null,a)),e["\u0275did"](4,16384,null,0,i.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](5,0,[["input",1]],null,10,"input",[["class","form-control"]],[[8,"id",0],[8,"type",0],[8,"value",0],[8,"min",0],[1,"maxlength",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var i=!0,o=n.component;return"input"===l&&(i=!1!==e["\u0275nov"](n,8)._handleInput(t.target.value)&&i),"blur"===l&&(i=!1!==e["\u0275nov"](n,8).onTouched()&&i),"compositionstart"===l&&(i=!1!==e["\u0275nov"](n,8)._compositionStart()&&i),"compositionend"===l&&(i=!1!==e["\u0275nov"](n,8)._compositionEnd(t.target.value)&&i),"ngModelChange"===l&&(i=!1!==(o.value=t)&&i),"input"===l&&(i=!1!==o.onChange(t.target.value)&&i),"blur"===l&&(i=!1!==o.onTouched()&&i),i},null,null)),e["\u0275did"](6,278528,null,0,i.NgClass,[e.IterableDiffers,e.KeyValueDiffers,e.ElementRef,e.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e["\u0275pod"](7,{"app-input-field__value":0}),e["\u0275did"](8,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](9,540672,null,0,o.o,[],{maxlength:[0,"maxlength"]},null),e["\u0275did"](10,540672,null,0,o.x,[],{pattern:[0,"pattern"]},null),e["\u0275prd"](1024,null,o.p,function(n,l){return[n,l]},[o.o,o.x]),e["\u0275prd"](1024,null,o.q,function(n){return[n]},[o.d]),e["\u0275did"](13,671744,null,0,o.v,[[8,null],[6,o.p],[8,null],[6,o.q]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.r,null,[o.v]),e["\u0275did"](15,16384,null,0,o.s,[[4,o.r]],null,null),(n()(),e["\u0275and"](16777216,null,null,1,null,d)),e["\u0275did"](17,16384,null,0,i.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component,e=n(l,2,0,t.isInvalid,"table"==t.fieldType);n(l,1,0,"app-input-field",e),n(l,4,0,t.label);var i=n(l,7,0,t.value&&t.label);n(l,6,0,"form-control",i),n(l,9,0,t.maxLength),n(l,10,0,t.pattern),n(l,13,0,t.disabled,t.value),n(l,17,0,t.isInvalid)},function(n,l){var t=l.component;n(l,5,1,[t.id,t.type,t.value,t.min,e["\u0275nov"](l,9).maxlength?e["\u0275nov"](l,9).maxlength:null,e["\u0275nov"](l,10).pattern?e["\u0275nov"](l,10).pattern:null,e["\u0275nov"](l,15).ngClassUntouched,e["\u0275nov"](l,15).ngClassTouched,e["\u0275nov"](l,15).ngClassPristine,e["\u0275nov"](l,15).ngClassDirty,e["\u0275nov"](l,15).ngClassValid,e["\u0275nov"](l,15).ngClassInvalid,e["\u0275nov"](l,15).ngClassPending])})}},RzGa:function(n,l,t){"use strict";t.d(l,"a",function(){return i});var e=t("CcnG"),i=function(){function n(n){this.ngControl=n,this.fieldType=null,this.label="",this.isInvalid=!1,this.type="text",this.value="",this.maxLength=null,this.max=null,this.min=null,this.onChangeField=new e.EventEmitter,this.ngControl&&(this.ngControl.valueAccessor=this)}return n.prototype.ngOnInit=function(){},n.prototype.writeValue=function(n){this.value=n},n.prototype.setDisabledState=function(n){this.disabled=n},n.prototype.registerOnChange=function(n){this.onChange=n},n.prototype.registerOnTouched=function(n){this.onTouched=n},n.prototype.onChange=function(n){return"number"===this.type&&this.max&&n>this.max&&(this.value=n=this.max),this.onChangeField.emit({fieldValue:n,id:this.id,type:"input"}),n},n.prototype.onTouched=function(){},n}()},YuTi:function(n,l){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}}}]);