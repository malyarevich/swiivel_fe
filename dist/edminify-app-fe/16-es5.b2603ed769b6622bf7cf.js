(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{IhLC:function(t,e,n){"use strict";n.r(e);var i=n("CcnG"),l=function(){return function(){}}(),o=n("pMnS"),r=n("ZYCi"),a=n("Ip0R"),s=function(){function t(){this.isBackArrowEnable=!0,this.onButtonClick=new i.EventEmitter}return t.prototype.ngOnInit=function(){},t.prototype.onClick=function(){this.onButtonClick.emit()},t}(),p=i["\u0275crt"]({encapsulation:0,styles:[[".app-period-page-header[_ngcontent-%COMP%]   .app-period-page-header__button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:baseline}"]],data:{}});function d(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","d-inline-block back p-3 mr-3 app-cursor-pointer"]],null,[[null,"click"]],function(t,e,n){var l=!0;return"click"===e&&(l=!1!==i["\u0275nov"](t,1).onClick()&&l),l},null,null)),i["\u0275did"](1,16384,null,0,r.l,[r.k,r.a,[8,null],i.Renderer2,i.ElementRef],{routerLink:[0,"routerLink"]},null),(t()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","fas fa-chevron-left"]],null,null,null,null,null))],function(t,e){t(e,1,0,e.component.routerLink)},null)}function u(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,8,"div",[["class","row no-gutters app-period-page-header pr-3 bg-white"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,4,"div",[["class","col-10"]],null,null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,d)),i["\u0275did"](3,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275eld"](4,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),i["\u0275ted"](5,null,["",""])),(t()(),i["\u0275eld"](6,0,null,null,2,"div",[["class","col-2 pt-2 app-period-page-header__button-container"]],null,null,null,null,null)),(t()(),i["\u0275eld"](7,0,null,null,1,"button",[["class","btn app-btn-outline-primary form-payer-account-cancel"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onClick&&i),i},null,null)),(t()(),i["\u0275ted"](8,null,[" "," "]))],function(t,e){t(e,3,0,e.component.isBackArrowEnable)},function(t,e){var n=e.component;t(e,5,0,n.titleHeader),t(e,8,0,n.buttonText)})}var c=function(){function t(t){this.router=t}return t.prototype.ngOnInit=function(){},t.prototype.onAddPeriod=function(){this.router.navigateByUrl("/period/create")},t}(),g=i["\u0275crt"]({encapsulation:0,styles:[[".app-period[_ngcontent-%COMP%]{padding:30px}"]],data:{}});function h(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"app-period-page-header",[],null,[[null,"onButtonClick"],[null,"click"]],function(t,e,n){var l=!0,o=t.component;return"click"===e&&(l=!1!==i["\u0275nov"](t,1).onClick()&&l),"onButtonClick"===e&&(l=!1!==o.onAddPeriod()&&l),l},u,p)),i["\u0275did"](1,16384,null,0,r.l,[r.k,r.a,[8,null],i.Renderer2,i.ElementRef],{routerLink:[0,"routerLink"]},null),i["\u0275did"](2,114688,null,0,s,[],{titleHeader:[0,"titleHeader"],isBackArrowEnable:[1,"isBackArrowEnable"],buttonText:[2,"buttonText"],routerLink:[3,"routerLink"]},{onButtonClick:"onButtonClick"}),(t()(),i["\u0275eld"](3,0,null,null,1,"h1",[["class","app-period-header"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Periods"])),(t()(),i["\u0275eld"](5,0,null,null,2,"button",[["routerLink","/period/create"]],null,[[null,"click"]],function(t,e,n){var l=!0;return"click"===e&&(l=!1!==i["\u0275nov"](t,6).onClick()&&l),l},null,null)),i["\u0275did"](6,16384,null,0,r.l,[r.k,r.a,[8,null],i.Renderer2,i.ElementRef],{routerLink:[0,"routerLink"]},null),(t()(),i["\u0275ted"](-1,null,["Create Period"]))],function(t,e){t(e,1,0,"/period/create"),t(e,2,0,"Periods",!1,"Add Period","/period/create"),t(e,6,0,"/period/create")},null)}function _(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-period",[],null,null,null,h,g)),i["\u0275did"](1,114688,null,0,c,[r.k],null,null)],function(t,e){t(e,1,0)},null)}var f=i["\u0275ccf"]("app-period",c,_,{},{},[]),m=n("LHBH"),v=n("gIcY"),b=n("RzGa"),C=n("p6zw"),y=n("bubl"),x=n("wd/R"),P=function(t){return t.AddPeriod="[Period] Add Period",t.ChangePeriod="[Period] Change Period",t.AddSplitSet="[Period] Add split Set",t.ChangeSplitSet="[Period] change split",t}({}),w=function(){return function(t){this.payload=t,this.type=P.ChangePeriod}}(),S=function(){return function(t){this.payload=t,this.type=P.AddSplitSet}}(),O=function(){return function(t){this.payload=t,this.type=P.ChangeSplitSet}}(),M=function(){function t(t){var e=this;this.store=t,this.width="auto",this.periodSubscribe=t.select("state"),this.periodSubscribe.subscribe(function(t){return e.period=t.period})}return t.prototype.ngOnInit=function(){},t.prototype.onChangePeriod=function(){this.store.dispatch(new w({name:this.period.name,date_from:this.period.date_from,date_to:this.period.date_to,duration:Math.ceil(x.duration(x(this.period.date_to).diff(x(this.period.date_from))).asDays())}))},t}(),I=n("yGQT"),D=i["\u0275crt"]({encapsulation:0,styles:[[".app-period-duration-setting[_ngcontent-%COMP%]{background:#fff;padding:15px 10px}.app-period-duration-setting[_ngcontent-%COMP%]   .app-period-duration-setting__name[_ngcontent-%COMP%]{margin:0 0 10px}.app-period-duration-setting[_ngcontent-%COMP%]   .app-period-duration-setting__range[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.app-period-duration-setting[_ngcontent-%COMP%]   .mat-calendar-body-cell-content[_ngcontent-%COMP%]{border:1px solid #0c133d}"]],data:{}});function R(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,20,"div",[["class","app-period-duration-setting"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,5,"div",[["class","app-period-duration-setting__name"]],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,4,"app-input-field",[["label","Period Name"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(t,e,n){var i=!0,l=t.component;return"ngModelChange"===e&&(i=!1!==(l.period.name=n)&&i),"ngModelChange"===e&&(i=!1!==l.onChangePeriod()&&i),i},m.b,m.a)),i["\u0275did"](3,671744,null,0,v.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,v.q,null,[v.u]),i["\u0275did"](5,16384,null,0,v.r,[[4,v.q]],null,null),i["\u0275did"](6,114688,null,0,b.a,[[6,v.q]],{label:[0,"label"]},null),(t()(),i["\u0275eld"](7,0,null,null,10,"div",[["class","app-period-duration-setting__range"]],null,null,null,null,null)),(t()(),i["\u0275eld"](8,0,null,null,4,"app-datepicker-field",[["label","Period Start"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(t,e,n){var i=!0,l=t.component;return"ngModelChange"===e&&(i=!1!==(l.period.date_from=n)&&i),"ngModelChange"===e&&(i=!1!==l.onChangePeriod()&&i),i},C.b,C.a)),i["\u0275did"](9,671744,null,0,v.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,v.q,null,[v.u]),i["\u0275did"](11,16384,null,0,v.r,[[4,v.q]],null,null),i["\u0275did"](12,114688,null,0,y.a,[[6,v.q]],{label:[0,"label"],isInvalid:[1,"isInvalid"],width:[2,"width"]},null),(t()(),i["\u0275eld"](13,0,null,null,4,"app-datepicker-field",[["label","Period End"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(t,e,n){var i=!0,l=t.component;return"ngModelChange"===e&&(i=!1!==(l.period.date_to=n)&&i),"ngModelChange"===e&&(i=!1!==l.onChangePeriod()&&i),i},C.b,C.a)),i["\u0275did"](14,671744,null,0,v.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,v.q,null,[v.u]),i["\u0275did"](16,16384,null,0,v.r,[[4,v.q]],null,null),i["\u0275did"](17,114688,null,0,y.a,[[6,v.q]],{label:[0,"label"],isInvalid:[1,"isInvalid"],width:[2,"width"]},null),(t()(),i["\u0275eld"](18,0,null,null,2,"pre",[],null,null,null,null,null)),(t()(),i["\u0275ted"](19,null,["",""])),i["\u0275pid"](0,a.JsonPipe,[])],function(t,e){var n=e.component;t(e,3,0,n.period.name),t(e,6,0,"Period Name"),t(e,9,0,n.period.date_from),t(e,12,0,"Period Start",n.period.date_from>n.period.date_to,"147px"),t(e,14,0,n.period.date_to),t(e,17,0,"Period End",n.period.date_from>n.period.date_to,"147px")},function(t,e){var n=e.component;t(e,2,0,i["\u0275nov"](e,5).ngClassUntouched,i["\u0275nov"](e,5).ngClassTouched,i["\u0275nov"](e,5).ngClassPristine,i["\u0275nov"](e,5).ngClassDirty,i["\u0275nov"](e,5).ngClassValid,i["\u0275nov"](e,5).ngClassInvalid,i["\u0275nov"](e,5).ngClassPending),t(e,8,0,i["\u0275nov"](e,11).ngClassUntouched,i["\u0275nov"](e,11).ngClassTouched,i["\u0275nov"](e,11).ngClassPristine,i["\u0275nov"](e,11).ngClassDirty,i["\u0275nov"](e,11).ngClassValid,i["\u0275nov"](e,11).ngClassInvalid,i["\u0275nov"](e,11).ngClassPending),t(e,13,0,i["\u0275nov"](e,16).ngClassUntouched,i["\u0275nov"](e,16).ngClassTouched,i["\u0275nov"](e,16).ngClassPristine,i["\u0275nov"](e,16).ngClassDirty,i["\u0275nov"](e,16).ngClassValid,i["\u0275nov"](e,16).ngClassInvalid,i["\u0275nov"](e,16).ngClassPending),t(e,19,0,i["\u0275unv"](e,19,0,i["\u0275nov"](e,20).transform(n.period)))})}var E=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),k=i["\u0275crt"]({encapsulation:0,styles:[[".app-carets[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;border:1px solid gray;background:url(icon-carrets.aafb86db1d6d18d4707c.svg) 50%}.app-carets[_ngcontent-%COMP%]:active, .app-carets[_ngcontent-%COMP%]:hover{width:13px;height:13px;cursor:pointer}"]],data:{}});function T(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,0,"div",[["class","app-carets"]],null,null,null,null,null))],null,null)}var N,L="undefined"!=typeof Intl&&Intl.v8BreakIterator,A=function(){function t(t){this._platformId=t,this.isBrowser=this._platformId?Object(a.isPlatformBrowser)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!L)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}return t.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new t(Object(i.inject)(i.PLATFORM_ID,8))},token:t,providedIn:"root"}),t}();function j(t){return function(){if(null==N&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return N=!0}}))}finally{N=N||!1}return N}()?t:!!t.capture}function Y(t){return null!=t&&""+t!="false"}function z(t){return t instanceof i.ElementRef?t.nativeElement:t}var V=n("K9Ia"),B=n("pugT"),F=n("6blF"),q=n("p0ib"),H=n("F/XL"),U=n("bne5"),$=(n("tHPV"),n("ad02"),n("T1DM")),G=n("mrSG"),Z=n("MGBS"),K=n("zotm"),W=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new J(t,this.durationSelector))},t}(),J=function(t){function e(e,n){var i=t.call(this,e)||this;return i.durationSelector=n,i.hasValue=!1,i}return G.d(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=void 0;try{e=(0,this.durationSelector)(t)}catch(i){return this.destination.error(i)}var n=Object(K.a)(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},e.prototype.clearThrottle=function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))},e.prototype.notifyNext=function(t,e,n,i){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(Z.a),X=n("gI3B");n("VnD/");var Q=n("ny24"),tt=n("p0Sj"),et=(n("qyHS"),n("15JJ"));n("zo3G"),n("mZXl"),n("8g8A"),n("uMaO");var nt=function(){function t(t,e){var n=this;this._platform=t,e.runOutsideAngular(function(){n._change=t.isBrowser?Object(q.a)(Object(U.a)(window,"resize"),Object(U.a)(window,"orientationchange")):Object(H.a)(),n._invalidateCache=n.change().subscribe(function(){return n._updateViewportSize()})})}return t.prototype.ngOnDestroy=function(){this._invalidateCache.unsubscribe()},t.prototype.getViewportSize=function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t},t.prototype.getViewportRect=function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),n=e.width,i=e.height;return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+n,height:i,width:n}},t.prototype.getViewportScrollPosition=function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=document.documentElement,e=t.getBoundingClientRect();return{top:-e.top||document.body.scrollTop||window.scrollY||t.scrollTop||0,left:-e.left||document.body.scrollLeft||window.scrollX||t.scrollLeft||0}},t.prototype.change=function(t){return void 0===t&&(t=20),t>0?this._change.pipe((e=t,void 0===n&&(n=$.a),i=function(){return Object(X.a)(e,n)},function(t){return t.lift(new W(i))})):this._change;var e,n,i},t.prototype._updateViewportSize=function(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}},t.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new t(Object(i.inject)(A),Object(i.inject)(i.NgZone))},token:t,providedIn:"root"}),t}(),it=n("67Y/"),lt=n("t9fZ"),ot=n("xMyE");function rt(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function at(t,e){var n=e?"":"none";rt(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function st(t){var e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function pt(t,e){return t.getPropertyValue(e).split(",").map(function(t){return t.trim()})}var dt=j({passive:!0}),ut=j({passive:!1}),ct=function(){function t(t,e,n,i,l,o){var r=this;this._config=e,this._document=n,this._ngZone=i,this._viewportRuler=l,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new V.a,this._moveEventSubscriptions=0,this._pointerMoveSubscription=B.a.EMPTY,this._pointerUpSubscription=B.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this._disabled=!1,this.beforeStarted=new V.a,this.started=new V.a,this.released=new V.a,this.ended=new V.a,this.entered=new V.a,this.exited=new V.a,this.dropped=new V.a,this.moved=new F.a(function(t){var e=r._moveEvents.subscribe(t);return r._moveEventSubscriptions++,function(){e.unsubscribe(),r._moveEventSubscriptions--}}),this._pointerDown=function(t){if(r.beforeStarted.next(),r._handles.length){var e=r._handles.find(function(e){var n=t.target;return!!n&&(n===e||e.contains(n))});!e||r._disabledHandles.has(e)||r.disabled||r._initializeDragSequence(e,t)}else r.disabled||r._initializeDragSequence(r._rootElement,t)},this._pointerMove=function(t){if(r._hasStartedDragging){r._boundaryElement&&(r._previewRect&&(r._previewRect.width||r._previewRect.height)||(r._previewRect=(r._preview||r._rootElement).getBoundingClientRect()));var e=r._getConstrainedPointerPosition(t);if(r._hasMoved=!0,t.preventDefault(),r._updatePointerDirectionDelta(e),r._dropContainer)r._updateActiveDropContainer(e);else{var n=r._activeTransform;n.x=e.x-r._pickupPositionOnPage.x+r._passiveTransform.x,n.y=e.y-r._pickupPositionOnPage.y+r._passiveTransform.y;var i=gt(n.x,n.y);r._rootElement.style.transform=r._initialTransform?i+" "+r._initialTransform:i,"undefined"!=typeof SVGElement&&r._rootElement instanceof SVGElement&&r._rootElement.setAttribute("transform","translate("+n.x+" "+n.y+")")}r._moveEventSubscriptions>0&&r._ngZone.run(function(){r._moveEvents.next({source:r,pointerPosition:e,event:t,delta:r._pointerDirectionDelta})})}else{var l=r._getPointerPositionOnPage(t);Math.abs(l.x-r._pickupPositionOnPage.x)+Math.abs(l.y-r._pickupPositionOnPage.y)>=r._config.dragStartThreshold&&(r._hasStartedDragging=!0,r._ngZone.run(function(){return r._startDragSequence(t)}))}},this._pointerUp=function(t){if(r._dragDropRegistry.isDragging(r)&&(r._removeSubscriptions(),r._dragDropRegistry.stopDragging(r),r._handles&&(r._rootElement.style.webkitTapHighlightColor=r._rootElementTapHighlight),r._hasStartedDragging)){if(r.released.next({source:r}),!r._dropContainer)return r._passiveTransform.x=r._activeTransform.x,r._passiveTransform.y=r._activeTransform.y,r._ngZone.run(function(){return r.ended.next({source:r})}),void r._dragDropRegistry.stopDragging(r);r._animatePreviewToPlaceholder().then(function(){r._cleanupDragArtifacts(t),r._dragDropRegistry.stopDragging(r)})}},this.withRootElement(t),o.registerDragItem(this)}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)},set:function(t){var e=Y(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())},enumerable:!0,configurable:!0}),t.prototype.getPlaceholderElement=function(){return this._placeholder},t.prototype.getRootElement=function(){return this._rootElement},t.prototype.withHandles=function(t){return this._handles=t.map(function(t){return z(t)}),this._handles.forEach(function(t){return at(t,!1)}),this._toggleNativeDragInteractions(),this},t.prototype.withPreviewTemplate=function(t){return this._previewTemplate=t,this},t.prototype.withPlaceholderTemplate=function(t){return this._placeholderTemplate=t,this},t.prototype.withRootElement=function(t){var e=z(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),e.addEventListener("mousedown",this._pointerDown,ut),e.addEventListener("touchstart",this._pointerDown,dt),this._initialTransform=void 0,this._rootElement=e),this},t.prototype.withBoundaryElement=function(t){return this._boundaryElement=t?z(t):null,this},t.prototype.dispose=function(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&ft(this._rootElement),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._nextSibling=null},t.prototype.isDragging=function(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)},t.prototype.reset=function(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}},t.prototype.disableHandle=function(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)},t.prototype.enableHandle=function(t){this._disabledHandles.delete(t)},t.prototype.withDirection=function(t){return this._direction=t,this},t.prototype._withDropContainer=function(t){this._dropContainer=t},t.prototype._removeSubscriptions=function(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe()},t.prototype._destroyPreview=function(){this._preview&&ft(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null},t.prototype._destroyPlaceholder=function(){this._placeholder&&ft(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null},t.prototype._startDragSequence=function(t){if(this.started.next({source:this}),mt(t)&&(this._lastTouchEventTime=Date.now()),this._dropContainer){var e=this._rootElement;this._nextSibling=e.nextSibling;var n=this._preview=this._createPreviewElement(),i=this._placeholder=this._createPlaceholderElement();e.style.display="none",this._document.body.appendChild(e.parentNode.replaceChild(i,e)),this._document.body.appendChild(n),this._dropContainer.start()}},t.prototype._initializeDragSequence=function(t,e){e.stopPropagation();var n=this.isDragging(),i=mt(e),l=!i&&0!==e.button,o=this._rootElement,r=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),!(n||l||r)){null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._handles.length&&(this._rootElementTapHighlight=o.style.webkitTapHighlightColor,o.style.webkitTapHighlightColor="transparent"),this._toggleNativeDragInteractions(),this._hasStartedDragging=this._hasMoved=!1,this._initialContainer=this._dropContainer,this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollPosition=this._viewportRuler.getViewportScrollPosition(),this._boundaryElement&&(this._boundaryRect=this._boundaryElement.getBoundingClientRect()),this._pickupPositionInElement=this._previewTemplate&&this._previewTemplate.template?{x:0,y:0}:this._getPointerPositionInElement(t,e);var a=this._pickupPositionOnPage=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:a.x,y:a.y},this._dragDropRegistry.startDragging(this,e)}},t.prototype._cleanupDragArtifacts=function(t){var e=this;this._rootElement.style.display="",this._nextSibling?this._nextSibling.parentNode.insertBefore(this._rootElement,this._nextSibling):this._initialContainer.element.appendChild(this._rootElement),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(function(){var n=e._dropContainer,i=n.getItemIndex(e),l=e._getPointerPositionOnPage(t),o=n._isOverContainer(l.x,l.y);e.ended.next({source:e}),e.dropped.next({item:e,currentIndex:i,previousIndex:e._initialContainer.getItemIndex(e),container:n,previousContainer:e._initialContainer,isPointerOverContainer:o}),n.drop(e,i,e._initialContainer,o),e._dropContainer=e._initialContainer})},t.prototype._updateActiveDropContainer=function(t){var e=this,n=t.x,i=t.y,l=this._dropContainer._getSiblingContainerFromPosition(this,n,i)||this._initialContainer._getSiblingContainerFromPosition(this,n,i);!l&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,i)&&(l=this._initialContainer),l&&l!==this._dropContainer&&this._ngZone.run(function(){e.exited.next({item:e,container:e._dropContainer}),e._dropContainer.exit(e),e.entered.next({item:e,container:l}),e._dropContainer=l,e._dropContainer.enter(e,n,i)}),this._dropContainer._sortItem(this,n,i,this._pointerDirectionDelta),this._preview.style.transform=gt(n-this._pickupPositionInElement.x,i-this._pickupPositionInElement.y)},t.prototype._createPreviewElement=function(){var t,e=this._previewTemplate,n=e?e.template:null;if(n){var i=e.viewContainer.createEmbeddedView(n,e.context);t=i.rootNodes[0],this._previewRef=i,t.style.transform=gt(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{var l=this._rootElement,o=l.getBoundingClientRect();(t=ht(l)).style.width=o.width+"px",t.style.height=o.height+"px",t.style.transform=gt(o.left,o.top)}return rt(t.style,{pointerEvents:"none",position:"fixed",top:"0",left:"0",zIndex:"1000"}),at(t,!1),t.classList.add("cdk-drag-preview"),t.setAttribute("dir",this._direction),t},t.prototype._animatePreviewToPlaceholder=function(){var t=this;if(!this._hasMoved)return Promise.resolve();var e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=gt(e.left,e.top);var n=function(t){var e=getComputedStyle(t),n=pt(e,"transition-property"),i=n.find(function(t){return"transform"===t||"all"===t});if(!i)return 0;var l=n.indexOf(i),o=pt(e,"transition-duration"),r=pt(e,"transition-delay");return st(o[l])+st(r[l])}(this._preview);return 0===n?Promise.resolve():this._ngZone.runOutsideAngular(function(){return new Promise(function(e){var i=function(n){(!n||n.target===t._preview&&"transform"===n.propertyName)&&(t._preview.removeEventListener("transitionend",i),e(),clearTimeout(l))},l=setTimeout(i,1.5*n);t._preview.addEventListener("transitionend",i)})})},t.prototype._createPlaceholderElement=function(){var t,e=this._placeholderTemplate,n=e?e.template:null;return n?(this._placeholderRef=e.viewContainer.createEmbeddedView(n,e.context),t=this._placeholderRef.rootNodes[0]):t=ht(this._rootElement),t.classList.add("cdk-drag-placeholder"),t},t.prototype._getPointerPositionInElement=function(t,e){var n=this._rootElement.getBoundingClientRect(),i=t===this._rootElement?null:t,l=i?i.getBoundingClientRect():n,o=mt(e)?e.targetTouches[0]:e;return{x:l.left-n.left+(o.pageX-l.left-this._scrollPosition.left),y:l.top-n.top+(o.pageY-l.top-this._scrollPosition.top)}},t.prototype._getPointerPositionOnPage=function(t){var e=mt(t)?t.touches[0]||t.changedTouches[0]:t;return{x:e.pageX-this._scrollPosition.left,y:e.pageY-this._scrollPosition.top}},t.prototype._getConstrainedPointerPosition=function(t){var e=this._getPointerPositionOnPage(t),n=this._dropContainer?this._dropContainer.lockAxis:null;if("x"===this.lockAxis||"x"===n?e.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==n||(e.x=this._pickupPositionOnPage.x),this._boundaryRect){var i=this._pickupPositionInElement,l=i.x,o=i.y,r=this._boundaryRect,a=this._previewRect,s=r.top+o,p=r.bottom-(a.height-o);e.x=_t(e.x,r.left+l,r.right-(a.width-l)),e.y=_t(e.y,s,p)}return e},t.prototype._updatePointerDirectionDelta=function(t){var e=t.x,n=t.y,i=this._pointerDirectionDelta,l=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-l.x),r=Math.abs(n-l.y);return o>this._config.pointerDirectionChangeThreshold&&(i.x=e>l.x?1:-1,l.x=e),r>this._config.pointerDirectionChangeThreshold&&(i.y=n>l.y?1:-1,l.y=n),i},t.prototype._toggleNativeDragInteractions=function(){if(this._rootElement&&this._handles){var t=this.disabled||this._handles.length>0;t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,at(this._rootElement,t))}},t.prototype._removeRootElementListeners=function(t){t.removeEventListener("mousedown",this._pointerDown,ut),t.removeEventListener("touchstart",this._pointerDown,dt)},t}();function gt(t,e){return"translate3d("+Math.round(t)+"px, "+Math.round(e)+"px, 0)"}function ht(t){var e=t.cloneNode(!0);return e.removeAttribute("id"),e}function _t(t,e,n){return Math.max(e,Math.min(n,t))}function ft(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function mt(t){return t.type.startsWith("touch")}function vt(t,e){return Math.max(0,Math.min(e,t))}var bt=0,Ct=function(){function t(t,e,n){this._dragDropRegistry=e,this.id="cdk-drop-list-ref-"+bt++,this.disabled=!1,this.enterPredicate=function(){return!0},this.beforeStarted=new V.a,this.entered=new V.a,this.exited=new V.a,this.dropped=new V.a,this.sorted=new V.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",e.registerDropContainer(this),this._document=n,this.element=t instanceof i.ElementRef?t.nativeElement:t}return t.prototype.dispose=function(){this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._dragDropRegistry.removeDropContainer(this)},t.prototype.isDragging=function(){return this._isDragging},t.prototype.start=function(){var t=this;this.beforeStarted.next(),this._isDragging=!0,this._activeDraggables=this._draggables.slice(),this._cacheOwnPosition(),this._cacheItemPositions(),this._siblings.forEach(function(e){return e._startReceiving(t)})},t.prototype.enter=function(t,e,n){this.entered.next({item:t,container:this}),this.start();var i=this._getItemIndexFromPointerPosition(t,e,n),l=this._activeDraggables.indexOf(t),o=this._activeDraggables[i],r=t.getPlaceholderElement();if(l>-1&&this._activeDraggables.splice(l,1),o&&!this._dragDropRegistry.isDragging(o)){var a=o.getRootElement();a.parentElement.insertBefore(r,a),this._activeDraggables.splice(i,0,t)}else this.element.appendChild(r),this._activeDraggables.push(t);r.style.transform="",this._cacheItemPositions()},t.prototype.exit=function(t){this._reset(),this.exited.next({item:t,container:this})},t.prototype.drop=function(t,e,n,i){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:n.getItemIndex(t),container:this,previousContainer:n,isPointerOverContainer:i})},t.prototype.withItems=function(t){var e=this;return this._draggables=t.slice(),t.forEach(function(t){return t._withDropContainer(e)}),this},t.prototype.withDirection=function(t){return this._direction=t,this},t.prototype.connectedTo=function(t){return this._siblings=t.slice(),this},t.prototype.withOrientation=function(t){return this._orientation=t,this},t.prototype.getItemIndex=function(t){return this._isDragging?xt("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,function(e){return e.drag===t}):this._draggables.indexOf(t)},t.prototype.isReceiving=function(){return this._activeSiblings.size>0},t.prototype._sortItem=function(t,e,n,i){if(this._isPointerNearDropContainer(e,n)){var l=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,n,i);if(!(-1===o&&l.length>0)){var r="horizontal"===this._orientation,a=xt(l,function(e){return e.drag===t}),s=l[o],p=l[a].clientRect,d=s.clientRect,u=a>o?1:-1;this._previousSwap.drag=s.drag,this._previousSwap.delta=r?i.x:i.y;var c=this._getItemOffsetPx(p,d,u),g=this._getSiblingOffsetPx(a,l,u),h=l.slice();!function(t,e,n){var i=vt(a,t.length-1),l=vt(n,t.length-1);if(i!==l){for(var o=t[i],r=l<i?-1:1,s=i;s!==l;s+=r)t[s]=t[s+r];t[l]=o}}(l,0,o),this.sorted.next({previousIndex:a,currentIndex:o,container:this,item:t}),l.forEach(function(e,n){if(h[n]!==e){var i=e.drag===t,l=i?c:g,o=i?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=l,r?(o.style.transform="translate3d("+Math.round(e.offset)+"px, 0, 0)",yt(e.clientRect,0,l)):(o.style.transform="translate3d(0, "+Math.round(e.offset)+"px, 0)",yt(e.clientRect,l,0))}})}}},t.prototype._cacheOwnPosition=function(){this._clientRect=this.element.getBoundingClientRect()},t.prototype._cacheItemPositions=function(){var t=this,e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(function(e){var n=(t._dragDropRegistry.isDragging(e)?e.getPlaceholderElement():e.getRootElement()).getBoundingClientRect();return{drag:e,offset:0,clientRect:{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height}}}).sort(function(t,n){return e?t.clientRect.left-n.clientRect.left:t.clientRect.top-n.clientRect.top})},t.prototype._reset=function(){var t=this;this._isDragging=!1,this._activeDraggables.forEach(function(t){return t.getRootElement().style.transform=""}),this._siblings.forEach(function(e){return e._stopReceiving(t)}),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0},t.prototype._getSiblingOffsetPx=function(t,e,n){var i="horizontal"===this._orientation,l=e[t].clientRect,o=e[t+-1*n],r=l[i?"width":"height"]*n;if(o){var a=i?"left":"top",s=i?"right":"bottom";-1===n?r-=o.clientRect[a]-l[s]:r+=l[a]-o.clientRect[s]}return r},t.prototype._isPointerNearDropContainer=function(t,e){var n=this._clientRect,i=.05*n.width,l=.05*n.height;return e>n.top-l&&e<n.bottom+l&&t>n.left-i&&t<n.right+i},t.prototype._getItemOffsetPx=function(t,e,n){var i="horizontal"===this._orientation,l=i?e.left-t.left:e.top-t.top;return-1===n&&(l+=i?e.width-t.width:e.height-t.height),l},t.prototype._getItemIndexFromPointerPosition=function(t,e,n,i){var l=this,o="horizontal"===this._orientation;return xt(this._itemPositions,function(r,a,s){var p=r.drag,d=r.clientRect;return p===t?s.length<2:(!i||p!==l._previousSwap.drag||(o?i.x:i.y)!==l._previousSwap.delta)&&(o?e>=Math.floor(d.left)&&e<=Math.floor(d.right):n>=Math.floor(d.top)&&n<=Math.floor(d.bottom))})},t.prototype._isOverContainer=function(t,e){return Pt(this._clientRect,t,e)},t.prototype._getSiblingContainerFromPosition=function(t,e,n){return this._siblings.find(function(i){return i._canReceive(t,e,n)})},t.prototype._canReceive=function(t,e,n){if(!this.enterPredicate(t,this)||!Pt(this._clientRect,e,n))return!1;var i=this._document.elementFromPoint(e,n);return!!i&&(i===this.element||this.element.contains(i))},t.prototype._startReceiving=function(t){var e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheOwnPosition())},t.prototype._stopReceiving=function(t){this._activeSiblings.delete(t)},t}();function yt(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function xt(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function Pt(t,e,n){return n>=t.top&&n<=t.bottom&&e>=t.left&&e<=t.right}var wt=j({passive:!1,capture:!0}),St=function(){function t(t,e){var n=this;this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new V.a,this.pointerUp=new V.a,this._preventDefaultWhileDragging=function(t){n._activeDragInstances.size&&t.preventDefault()},this._document=e}return t.prototype.registerDropContainer=function(t){if(!this._dropInstances.has(t)){if(this.getDropContainer(t.id))throw Error('Drop instance with id "'+t.id+'" has already been registered.');this._dropInstances.add(t)}},t.prototype.registerDragItem=function(t){var e=this;this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(function(){e._document.addEventListener("touchmove",e._preventDefaultWhileDragging,wt)})},t.prototype.removeDropContainer=function(t){this._dropInstances.delete(t)},t.prototype.removeDragItem=function(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,wt)},t.prototype.startDragging=function(t,e){var n=this;if(this._activeDragInstances.add(t),1===this._activeDragInstances.size){var i=e.type.startsWith("touch"),l=i?"touchend":"mouseup";this._globalListeners.set(i?"touchmove":"mousemove",{handler:function(t){return n.pointerMove.next(t)},options:wt}).set(l,{handler:function(t){return n.pointerUp.next(t)},options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:wt}),i||this._globalListeners.set("wheel",{handler:this._preventDefaultWhileDragging,options:wt}),this._ngZone.runOutsideAngular(function(){n._globalListeners.forEach(function(t,e){n._document.addEventListener(e,t.handler,t.options)})})}},t.prototype.stopDragging=function(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()},t.prototype.isDragging=function(t){return this._activeDragInstances.has(t)},t.prototype.getDropContainer=function(t){return Array.from(this._dropInstances).find(function(e){return e.id===t})},t.prototype.ngOnDestroy=function(){var t=this;this._dragInstances.forEach(function(e){return t.removeDragItem(e)}),this._dropInstances.forEach(function(e){return t.removeDropContainer(e)}),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()},t.prototype._clearGlobalListeners=function(){var t=this;this._globalListeners.forEach(function(e,n){t._document.removeEventListener(n,e.handler,e.options)}),this._globalListeners.clear()},t.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new t(Object(i.inject)(i.NgZone),Object(i.inject)(a.DOCUMENT))},token:t,providedIn:"root"}),t}(),Ot={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Mt=function(){function t(t,e,n,i){this._document=t,this._ngZone=e,this._viewportRuler=n,this._dragDropRegistry=i}return t.prototype.createDrag=function(t,e){return void 0===e&&(e=Ot),new ct(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)},t.prototype.createDropList=function(t){return new Ct(t,this._dragDropRegistry,this._document)},t.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new t(Object(i.inject)(a.DOCUMENT),Object(i.inject)(i.NgZone),Object(i.inject)(nt),Object(i.inject)(St))},token:t,providedIn:"root"}),t}(),It=new i.InjectionToken("CDK_DROP_LIST"),Dt=new i.InjectionToken("CDK_DRAG_PARENT"),Rt=function(){function t(t,e){this.element=t,this._stateChanges=new V.a,this._disabled=!1,this._parentDrag=e,at(t.nativeElement,!1)}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=Y(t),this._stateChanges.next(this)},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this._stateChanges.complete()},t}(),Et=new i.InjectionToken("CDK_DRAG_CONFIG",{providedIn:"root",factory:function(){return{dragStartThreshold:5,pointerDirectionChangeThreshold:5}}}),kt=function(){function t(t,e,n,l,o,r,a,s,p,d,u){var c=this;this.element=t,this.dropContainer=e,this._document=n,this._ngZone=l,this._viewContainerRef=o,this._dir=p,this._changeDetectorRef=u,this._destroyed=new V.a,this._disabled=!1,this.started=new i.EventEmitter,this.released=new i.EventEmitter,this.ended=new i.EventEmitter,this.entered=new i.EventEmitter,this.exited=new i.EventEmitter,this.dropped=new i.EventEmitter,this.moved=new F.a(function(t){var e=c._dragRef.moved.pipe(Object(it.a)(function(t){return{source:c,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta}})).subscribe(t);return function(){e.unsubscribe()}}),this._dragRef=d?d.createDrag(t,s):new ct(t,s,n,l,r,a),this._dragRef.data=this,this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled||this.dropContainer&&this.dropContainer.disabled},set:function(t){this._disabled=Y(t),this._dragRef.disabled=this._disabled},enumerable:!0,configurable:!0}),t.prototype.getPlaceholderElement=function(){return this._dragRef.getPlaceholderElement()},t.prototype.getRootElement=function(){return this._dragRef.getRootElement()},t.prototype.reset=function(){this._dragRef.reset()},t.prototype.ngAfterViewInit=function(){var t=this;this._ngZone.onStable.asObservable().pipe(Object(lt.a)(1),Object(Q.a)(this._destroyed)).subscribe(function(){t._updateRootElement(),t._handles.changes.pipe(Object(tt.a)(t._handles),Object(ot.a)(function(e){var n=e.filter(function(e){return e._parentDrag===t}).map(function(t){return t.element});t._dragRef.withHandles(n)}),Object(et.a)(function(t){return q.a.apply(void 0,t.map(function(t){return t._stateChanges}))}),Object(Q.a)(t._destroyed)).subscribe(function(e){var n=t._dragRef,i=e.element.nativeElement;e.disabled?n.disableHandle(i):n.enableHandle(i)})})},t.prototype.ngOnChanges=function(t){var e=t.rootElementSelector;e&&!e.firstChange&&this._updateRootElement()},t.prototype.ngOnDestroy=function(){this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()},t.prototype._updateRootElement=function(){var t=this.element.nativeElement,e=this.rootElementSelector?Tt(t,this.rootElementSelector):t;if(e&&e.nodeType!==this._document.ELEMENT_NODE)throw Error('cdkDrag must be attached to an element node. Currently attached to "'+e.nodeName+'".');this._dragRef.withRootElement(e||t)},t.prototype._getBoundaryElement=function(){var t=this.boundaryElementSelector;return t?Tt(this.element.nativeElement,t):null},t.prototype._syncInputs=function(t){var e=this;t.beforeStarted.subscribe(function(){if(!t.isDragging()){var n=e._dir,i=e._placeholderTemplate?{template:e._placeholderTemplate.templateRef,context:e._placeholderTemplate.data,viewContainer:e._viewContainerRef}:null,l=e._previewTemplate?{template:e._previewTemplate.templateRef,context:e._previewTemplate.data,viewContainer:e._viewContainerRef}:null;t.disabled=e.disabled,t.lockAxis=e.lockAxis,t.withBoundaryElement(e._getBoundaryElement()).withPlaceholderTemplate(i).withPreviewTemplate(l),n&&t.withDirection(n.value)}})},t.prototype._handleEvents=function(t){var e=this;t.started.subscribe(function(){e.started.emit({source:e}),e._changeDetectorRef&&e._changeDetectorRef.markForCheck()}),t.released.subscribe(function(){e.released.emit({source:e})}),t.ended.subscribe(function(){e.ended.emit({source:e}),e._changeDetectorRef&&e._changeDetectorRef.markForCheck()}),t.entered.subscribe(function(t){e.entered.emit({container:t.container.data,item:e})}),t.exited.subscribe(function(t){e.exited.emit({container:t.container.data,item:e})}),t.dropped.subscribe(function(t){e.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:e})})},t}();function Tt(t,e){for(var n=t.parentElement;n;){if(n.matches?n.matches(e):n.msMatchesSelector(e))return n;n=n.parentElement}return null}var Nt=function(){function t(){this._items=new Set,this._disabled=!1}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=Y(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this._items.clear()},t}(),Lt=0,At=function(){function t(e,n,l,o,r,a,s){var p=this;this.element=e,this._changeDetectorRef=l,this._dir=o,this._group=r,this._destroyed=new V.a,this.connectedTo=[],this.orientation="vertical",this.id="cdk-drop-list-"+Lt++,this._disabled=!1,this.enterPredicate=function(){return!0},this.dropped=new i.EventEmitter,this.entered=new i.EventEmitter,this.exited=new i.EventEmitter,this.sorted=new i.EventEmitter,this._dropListRef=s?s.createDropList(e):new Ct(e,n,a||document),this._dropListRef.data=this,this._dropListRef.enterPredicate=function(t,e){return p.enterPredicate(t.data,e.data)},this._syncInputs(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),r&&r._items.add(this)}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled||!!this._group&&this._group.disabled},set:function(t){this._disabled=Y(t)},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var t=this;this._draggables.changes.pipe(Object(tt.a)(this._draggables),Object(Q.a)(this._destroyed)).subscribe(function(e){t._dropListRef.withItems(e.map(function(t){return t._dragRef}))})},t.prototype.ngOnDestroy=function(){var e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()},t.prototype.start=function(){this._dropListRef.start()},t.prototype.drop=function(t,e,n,i){this._dropListRef.drop(t._dragRef,e,n._dropListRef,i)},t.prototype.enter=function(t,e,n){this._dropListRef.enter(t._dragRef,e,n)},t.prototype.exit=function(t){this._dropListRef.exit(t._dragRef)},t.prototype.getItemIndex=function(t){return this._dropListRef.getItemIndex(t._dragRef)},t.prototype._sortItem=function(t,e,n,i){return this._dropListRef._sortItem(t._dragRef,e,n,i)},t.prototype._getSiblingContainerFromPosition=function(t,e,n){var i=this._dropListRef._getSiblingContainerFromPosition(t._dragRef,e,n);return i?i.data:null},t.prototype._isOverContainer=function(t,e){return this._dropListRef._isOverContainer(t,e)},t.prototype._syncInputs=function(e){var n=this;this._dir&&this._dir.change.pipe(Object(tt.a)(this._dir.value),Object(Q.a)(this._destroyed)).subscribe(function(t){return e.withDirection(t)}),e.beforeStarted.subscribe(function(){var i,l=(i=n.connectedTo,Array.isArray(i)?i:[i]).map(function(e){return"string"==typeof e?t._dropLists.find(function(t){return t.id===e}):e});n._group&&n._group._items.forEach(function(t){-1===l.indexOf(t)&&l.push(t)}),e.lockAxis=n.lockAxis,e.connectedTo(l.filter(function(t){return t&&t!==n}).map(function(t){return t._dropListRef})).withOrientation(n.orientation)})},t.prototype._handleEvents=function(t){var e=this;t.beforeStarted.subscribe(function(){e._changeDetectorRef.markForCheck()}),t.entered.subscribe(function(t){e.entered.emit({container:e,item:t.item.data})}),t.exited.subscribe(function(t){e.exited.emit({container:e,item:t.item.data})}),t.sorted.subscribe(function(t){e.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:e,item:t.item.data})}),t.dropped.subscribe(function(t){e.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer}),e._changeDetectorRef.markForCheck()})},t._dropLists=[],t}(),jt=function(){return function(){}}(),Yt=function(){function t(t){this.store=t,this.closeInfo=new i.EventEmitter,this.periodSubscribe=t.select("state")}return t.prototype.ngOnInit=function(){var t=this;this.periodSubscribe.subscribe(function(e){t.activeSplitSet=e.splitsSet.find(function(e){return e.split_set_id===t.splitSetId}),t.activeSplitSet&&(t.activeSplit=t.activeSplitSet.splits.find(function(e){return e.split_id===t.splitId}))})},t.prototype.onCloseInfo=function(){this.closeInfo.emit(this.periodScaleItemId)},t.prototype.onChangeSplitDate=function(){var t=this,e=this.activeSplitSet.splits.indexOf(this.activeSplitSet.splits.find(function(e){return e.split_id===t.splitId})),n=x(this.activeSplit.date_to).diff(x(this.activeSplit.date_from),"days")+1;n>7&&(this.activeSplitSet.splits[e]={name:this.activeSplit.name,date_from:this.activeSplit.date_from,date_to:this.activeSplit.date_to,split_id:this.activeSplit.split_id,duration:n},this.updateSplitSet(this.splitSetId,this.activeSplitSet))},t.prototype.updateSplitSet=function(t,e){this.store.dispatch(new O({index:t,splitSet:e}))},t.prototype.onDeleteClick=function(){var t=this,e=this.activeSplitSet.splits.indexOf(this.activeSplitSet.splits.find(function(e){return e.split_id===t.splitId}));this.activeSplitSet.splits[e+1]&&(this.activeSplitSet.splits[e+1].date_from=this.activeSplitSet.splits[e].date_from,this.activeSplitSet.splits[e+1].duration+=this.activeSplitSet.splits[e].duration),this.activeSplitSet.splits.splice(e,1),this.updateSplitSet(this.splitSetId,this.activeSplitSet)},t.prototype.onCopyClick=function(){console.log("copy")},t.prototype.onChangeSplitDuration=function(){var t=this;console.log("change duration"),this.activeSplitSet.splits.indexOf(this.activeSplitSet.splits.find(function(e){return e.split_id===t.splitId}))},t}(),zt=i["\u0275crt"]({encapsulation:0,styles:[['.app-period-split-settings[_ngcontent-%COMP%]{width:310px;height:95px;border-radius:5px;background-color:#50597a}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:35px;padding:10px 10px 10px 15px;border-radius:5px 5px 0 0;color:#fff;background-color:#36405f}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__header[_ngcontent-%COMP%]   .app-period-split-settings__header--text[_ngcontent-%COMP%]{font:800 11px/15px NunitoSans-Bold;text-transform:uppercase}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__header[_ngcontent-%COMP%]   .app-period-split-settings__header--cross[_ngcontent-%COMP%]:hover{cursor:pointer}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]{display:flex;padding:10px 15px}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__col[_ngcontent-%COMP%]{width:57px}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__col--duration[_ngcontent-%COMP%]{width:63px}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__col--duration[_ngcontent-%COMP%]   .app-period-split-settings__duration[_ngcontent-%COMP%]{display:flex}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__col--duration[_ngcontent-%COMP%]   .app-period-split-settings__duration[_ngcontent-%COMP%]   .app-period-split-settings__duration--field[_ngcontent-%COMP%]{width:41px;height:22px;padding:5px;border:1px solid #b6b6b6;border-radius:3px;font-size:12px}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__col--duration[_ngcontent-%COMP%]   .app-period-split-settings__duration[_ngcontent-%COMP%]   .app-period-split-settings__duration--text[_ngcontent-%COMP%]{margin:auto 0 auto 5px;font-size:12px;line-height:15px;color:#fff}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__cols[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:222px;padding:0 15px 0 0;position:relative}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__cols[_ngcontent-%COMP%]   .app-period-split-settings__col--text[_ngcontent-%COMP%]{margin:0 0 4px;font:400 9px/11px NunitoSans-Bold;color:#fff;text-transform:uppercase}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__cols[_ngcontent-%COMP%]   .app-period-split-settings__duration[_ngcontent-%COMP%]{display:flex}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__cols[_ngcontent-%COMP%]:after{position:absolute;content:"";width:1px;height:32px;top:9px;right:1px;background-color:#ebeeff}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__buttons[_ngcontent-%COMP%]{display:flex;flex-grow:1;justify-content:space-between;align-items:center;padding:0 0 0 15px;color:#fff}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__buttons-ico[_ngcontent-%COMP%]{font-size:12px}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__buttons-ico[_ngcontent-%COMP%]:hover{cursor:pointer}']],data:{}});function Vt(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,38,"div",[["class","app-period-split-settings"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,3,"div",[["class","app-period-split-settings__header"]],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,1,"h3",[["class","app-period-split-settings__header--text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Split Settings"])),(t()(),i["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-times app-period-split-settings__header--cross"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onCloseInfo()&&i),i},null,null)),(t()(),i["\u0275eld"](5,0,null,null,33,"div",[["class","app-period-split-settings__content"]],null,null,null,null,null)),(t()(),i["\u0275eld"](6,0,null,null,29,"div",[["class","app-period-split-settings__cols"]],null,null,null,null,null)),(t()(),i["\u0275eld"](7,0,null,null,7,"div",[["class","app-period-split-settings__col"]],null,null,null,null,null)),(t()(),i["\u0275eld"](8,0,null,null,1,"p",[["class","app-period-split-settings__col--text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Starts"])),(t()(),i["\u0275eld"](10,0,null,null,4,"app-datepicker-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(t,e,n){var i=!0,l=t.component;return"ngModelChange"===e&&(i=!1!==(l.activeSplit.date_from=n)&&i),"ngModelChange"===e&&(i=!1!==l.onChangeSplitDate()&&i),i},C.b,C.a)),i["\u0275did"](11,671744,null,0,v.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,v.q,null,[v.u]),i["\u0275did"](13,16384,null,0,v.r,[[4,v.q]],null,null),i["\u0275did"](14,114688,null,0,y.a,[[6,v.q]],{isInvalid:[0,"isInvalid"],width:[1,"width"],dateInputFormat:[2,"dateInputFormat"],style:[3,"style"]},null),(t()(),i["\u0275eld"](15,0,null,null,12,"div",[["class","app-period-split-settings__col--duration"]],null,null,null,null,null)),(t()(),i["\u0275eld"](16,0,null,null,1,"p",[["class","app-period-split-settings__col--text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Duration"])),(t()(),i["\u0275eld"](18,0,null,null,9,"div",[["class","app-period-split-settings__duration"]],null,null,null,null,null)),(t()(),i["\u0275eld"](19,0,[["input",1]],null,6,"input",[["class","app-period-split-settings__duration--field"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(t,e,n){var l=!0,o=t.component;return"input"===e&&(l=!1!==i["\u0275nov"](t,20)._handleInput(n.target.value)&&l),"blur"===e&&(l=!1!==i["\u0275nov"](t,20).onTouched()&&l),"compositionstart"===e&&(l=!1!==i["\u0275nov"](t,20)._compositionStart()&&l),"compositionend"===e&&(l=!1!==i["\u0275nov"](t,20)._compositionEnd(n.target.value)&&l),"change"===e&&(l=!1!==i["\u0275nov"](t,21).onChange(n.target.value)&&l),"input"===e&&(l=!1!==i["\u0275nov"](t,21).onChange(n.target.value)&&l),"blur"===e&&(l=!1!==i["\u0275nov"](t,21).onTouched()&&l),"ngModelChange"===e&&(l=!1!==(o.activeSplit.duration=n)&&l),"ngModelChange"===e&&(l=!1!==o.onChangeSplitDuration()&&l),l},null,null)),i["\u0275did"](20,16384,null,0,v.d,[i.Renderer2,i.ElementRef,[2,v.a]],null,null),i["\u0275did"](21,16384,null,0,v.w,[i.Renderer2,i.ElementRef],null,null),i["\u0275prd"](1024,null,v.p,function(t,e){return[t,e]},[v.d,v.w]),i["\u0275did"](23,671744,null,0,v.u,[[8,null],[8,null],[8,null],[6,v.p]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,v.q,null,[v.u]),i["\u0275did"](25,16384,null,0,v.r,[[4,v.q]],null,null),(t()(),i["\u0275eld"](26,0,null,null,1,"div",[["class","app-period-split-settings__duration--text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["days"])),(t()(),i["\u0275eld"](28,0,null,null,7,"div",[["class","app-period-split-settings__col"]],null,null,null,null,null)),(t()(),i["\u0275eld"](29,0,null,null,1,"p",[["class","app-period-split-settings__col--text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Ends"])),(t()(),i["\u0275eld"](31,0,null,null,4,"app-datepicker-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(t,e,n){var i=!0,l=t.component;return"ngModelChange"===e&&(i=!1!==(l.activeSplit.date_to=n)&&i),"ngModelChange"===e&&(i=!1!==l.onChangeSplitDate()&&i),i},C.b,C.a)),i["\u0275did"](32,671744,null,0,v.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,v.q,null,[v.u]),i["\u0275did"](34,16384,null,0,v.r,[[4,v.q]],null,null),i["\u0275did"](35,114688,null,0,y.a,[[6,v.q]],{isInvalid:[0,"isInvalid"],width:[1,"width"],dateInputFormat:[2,"dateInputFormat"],style:[3,"style"]},null),(t()(),i["\u0275eld"](36,0,null,null,2,"div",[["class","app-period-split-settings__buttons"]],null,null,null,null,null)),(t()(),i["\u0275eld"](37,0,null,null,0,"i",[["class","fas fa-trash app-period-split-settings__buttons-ico"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onDeleteClick()&&i),i},null,null)),(t()(),i["\u0275eld"](38,0,null,null,0,"i",[["class","fas fa-copy app-period-split-settings__buttons-ico"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onCopyClick()&&i),i},null,null))],function(t,e){var n=e.component;t(e,11,0,n.activeSplit.date_from),t(e,14,0,n.activeSplit.date_from>n.activeSplit.date_to,"57px","MM/DD","short"),t(e,23,0,n.activeSplit.duration),t(e,32,0,n.activeSplit.date_to),t(e,35,0,n.activeSplit.date_from>n.activeSplit.date_to,"57px","MM/DD","short")},function(t,e){t(e,10,0,i["\u0275nov"](e,13).ngClassUntouched,i["\u0275nov"](e,13).ngClassTouched,i["\u0275nov"](e,13).ngClassPristine,i["\u0275nov"](e,13).ngClassDirty,i["\u0275nov"](e,13).ngClassValid,i["\u0275nov"](e,13).ngClassInvalid,i["\u0275nov"](e,13).ngClassPending),t(e,19,0,i["\u0275nov"](e,25).ngClassUntouched,i["\u0275nov"](e,25).ngClassTouched,i["\u0275nov"](e,25).ngClassPristine,i["\u0275nov"](e,25).ngClassDirty,i["\u0275nov"](e,25).ngClassValid,i["\u0275nov"](e,25).ngClassInvalid,i["\u0275nov"](e,25).ngClassPending),t(e,31,0,i["\u0275nov"](e,34).ngClassUntouched,i["\u0275nov"](e,34).ngClassTouched,i["\u0275nov"](e,34).ngClassPristine,i["\u0275nov"](e,34).ngClassDirty,i["\u0275nov"](e,34).ngClassValid,i["\u0275nov"](e,34).ngClassInvalid,i["\u0275nov"](e,34).ngClassPending)})}var Bt=new i.InjectionToken("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(i.inject)(a.DOCUMENT)}}),Ft=function(){function t(t){if(this.value="ltr",this.change=new i.EventEmitter,t){var e=(t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null);this.value="ltr"===e||"rtl"===e?e:"ltr"}}return t.prototype.ngOnDestroy=function(){this.change.complete()},t.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new t(Object(i.inject)(Bt,8))},token:t,providedIn:"root"}),t}(),qt=n("zC7G"),Ht=function(){function t(t){this.ngControl=t,this.value="",this.inputStyle=null,this.inputColor=null,this.onChangeField=new i.EventEmitter,this.ngControl&&(this.ngControl.valueAccessor=this)}return t.prototype.ngOnInit=function(){},t.prototype.writeValue=function(t){this.value=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.onChange=function(t){return this.onChangeField.emit({fieldValue:t,type:"input"}),t},t.prototype.onTouched=function(){},t.prototype.onPenClick=function(){this.input.nativeElement.focus()},t}(),Ut=i["\u0275crt"]({encapsulation:0,styles:[[".app-input-editable-field[_ngcontent-%COMP%]{width:auto;height:14px;position:relative;display:flex;justify-content:center;padding:0;margin:auto;border:none;border-radius:0;color:#fff}.app-input-editable-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;height:14px;font-size:12px}.app-input-editable-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.app-input-editable-field[_ngcontent-%COMP%]   input.app-input-field__value[_ngcontent-%COMP%]{padding-top:10px}.app-input-editable-field[_ngcontent-%COMP%]   .app-input-editable-field__ico[_ngcontent-%COMP%]{width:9px;height:9px;margin:auto 0;color:#fff;font-size:9px}.app-input-editable-field[_ngcontent-%COMP%]   .app-input-editable-field__input[_ngcontent-%COMP%]{color:#fff;background-color:#36405f}.app-input-editable-field.app-input-editable-field__header[_ngcontent-%COMP%]{justify-content:left;color:#000}.app-input-editable-field.app-input-editable-field__header[_ngcontent-%COMP%]   .app-input-editable-field__input[_ngcontent-%COMP%]{min-width:10px;padding:5px 0 0;margin:0 5px 0 0;color:#000;background-color:#fff;font:11px/15px NunitoSans-Bold}.app-input-editable-field.app-input-editable-field__header[_ngcontent-%COMP%]   .app-input-editable-field__ico[_ngcontent-%COMP%]{width:12px;height:12px;margin:auto 0;color:grey;font-size:12px}"]],data:{}});function $t(t){return i["\u0275vid"](0,[i["\u0275qud"](402653184,1,{input:0}),(t()(),i["\u0275eld"](1,0,null,null,14,"div",[["class","app-input-editable-field"]],null,null,null,null,null)),i["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](3,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](4,{"app-input-editable-field__header":0}),(t()(),i["\u0275eld"](5,0,[[1,0],["input",1]],null,9,"input",[["AutoSizeInput",""],["class","form-control app-input-editable-field__input"]],[[8,"value",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var l=!0,o=t.component;return"input"===e&&(l=!1!==i["\u0275nov"](t,9)._handleInput(n.target.value)&&l),"blur"===e&&(l=!1!==i["\u0275nov"](t,9).onTouched()&&l),"compositionstart"===e&&(l=!1!==i["\u0275nov"](t,9)._compositionStart()&&l),"compositionend"===e&&(l=!1!==i["\u0275nov"](t,9)._compositionEnd(n.target.value)&&l),"input"===e&&(l=!1!==i["\u0275nov"](t,14).onInput(n.target)&&l),"ngModelChange"===e&&(l=!1!==(o.value=n)&&l),"input"===e&&(l=!1!==o.onChange(n.target.value)&&l),"blur"===e&&(l=!1!==o.onTouched()&&l),l},null,null)),i["\u0275prd"](512,null,a["\u0275NgStyleImpl"],a["\u0275NgStyleR2Impl"],[i.ElementRef,i.KeyValueDiffers,i.Renderer2]),i["\u0275did"](7,278528,null,0,a.NgStyle,[a["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](8,{color:0}),i["\u0275did"](9,16384,null,0,v.d,[i.Renderer2,i.ElementRef,[2,v.a]],null,null),i["\u0275prd"](1024,null,v.p,function(t){return[t]},[v.d]),i["\u0275did"](11,671744,null,0,v.u,[[8,null],[8,null],[8,null],[6,v.p]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,v.q,null,[v.u]),i["\u0275did"](13,16384,null,0,v.r,[[4,v.q]],null,null),i["\u0275did"](14,2637824,null,0,qt.AutoSizeInputDirective,[i.ElementRef],null,null),(t()(),i["\u0275eld"](15,0,null,null,0,"i",[["class","fas fa-pen app-input-editable-field__ico"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onPenClick()&&i),i},null,null))],function(t,e){var n=e.component,i=t(e,4,0,"header"===n.inputStyle);t(e,3,0,"app-input-editable-field",i);var l=t(e,8,0,n.inputColor);t(e,7,0,l),t(e,11,0,n.value)},function(t,e){t(e,5,0,e.component.value,i["\u0275nov"](e,13).ngClassUntouched,i["\u0275nov"](e,13).ngClassTouched,i["\u0275nov"](e,13).ngClassPristine,i["\u0275nov"](e,13).ngClassDirty,i["\u0275nov"](e,13).ngClassValid,i["\u0275nov"](e,13).ngClassInvalid,i["\u0275nov"](e,13).ngClassPending)})}var Gt=function(){function t(t){this.store=t,this.periodSubscribe=t.select("state")}return t.prototype.ngOnInit=function(){var t=this;this.periodSubscribe.subscribe(function(e){t.periodSplitSet=e.splitsSet,t.activePeriodSet=e.splitsSet.find(function(e){return e.split_set_id===t.splitSetId}),t.initScale()}),this.periodScale={width:6*this.getSplitSetLength(),length:this.getSplitSetLength(),items:[]},this.initScale()},t.prototype.getSplitSetLength=function(){return this.activePeriodSet&&this.activePeriodSet.splits&&this.activePeriodSet.splits.length?this.activePeriodSet.splits.reduce(function(t,e){return t+e.duration},0):0},t.prototype.initScale=function(){var t=this,e=this.getSplitSetLength();this.periodScale={width:6*e,length:e,items:[]},this.activePeriodSet.splits.map(function(e){for(var n=0;n<e.duration;n++)t.periodScale.items.push({id:n,isExtreme:n===e.duration-1,extremeDate:n===e.duration-1?x(e.date_to,"DD-MM-YYYY").format("MM/DD"):null,label:2===n?e.name:null,splitId:e.split_id,slitDuration:2===n?e.duration:null,isPen:n===e.duration-5,isInfoOpen:!1,isLabelEdit:!1})})},t.prototype.dropItem=function(t){console.log(t.previousIndex,t.currentIndex),this.activePeriodSet.splits.map(t.currentIndex<t.previousIndex?function(e){e.split_id===parseInt(t.item.element.nativeElement.id,10)?(e.date_to=x(e.date_to,"DD-MM-YYYY").subtract(t.currentIndex-t.previousIndex,"days").toDate(),e.duration=e.duration-(t.previousIndex-t.currentIndex)):e.split_id===parseInt(t.item.element.nativeElement.id,10)+1&&(e.date_from=x(e.date_from,"DD-MM-YYYY").subtract(t.currentIndex-t.previousIndex,"days").toDate(),e.duration=e.duration+(t.previousIndex-t.currentIndex))}:function(e){e.split_id===parseInt(t.item.element.nativeElement.id,10)?(e.date_to=x(e.date_to,"DD-MM-YYYY").add(t.currentIndex-t.previousIndex,"days").toDate(),e.duration=e.duration+(t.currentIndex-t.previousIndex)):e.split_id===parseInt(t.item.element.nativeElement.id,10)+1&&(e.date_from=x(e.date_from,"DD-MM-YYYY").add(t.currentIndex-t.previousIndex,"days").toDate(),e.duration=e.duration-(t.currentIndex-t.previousIndex))}),this.updateSplitSet(this.activePeriodSet.split_set_id,this.activePeriodSet)},t.prototype.getColor=function(){return this.viewId%2==0?"#C87F13":"#1079C4"},t.prototype.onChangeSplitName=function(t,e){this.activePeriodSet.splits.map(function(n){n.split_id===e&&(n.name=t)}),this.updateSplitSet(this.activePeriodSet.split_set_id,this.activePeriodSet)},t.prototype.onAddSplit=function(){var t=x(this.activePeriodSet.splits.slice(-1).pop().date_to,"DD-MM-YYYY").add(1,"days").toDate(),e=this.activePeriodSet.splits&&this.activePeriodSet.splits.length?this.activePeriodSet.splits.slice(-1).pop().split_id:1;this.activePeriodSet.splits.push({name:e+1+" split",date_from:t,date_to:x(t,"DD-MM-YYYY").add(31,"days").toDate(),split_id:e+1,duration:31}),this.updateSplitSet(this.activePeriodSet.split_set_id,this.activePeriodSet)},t.prototype.onCreateSplit=function(){var t=this.activePeriodSet.splits&&this.activePeriodSet.splits.length?this.activePeriodSet.splits.slice(-1).pop().split_id:0;this.activePeriodSet.splits.push({name:t+1+" split",date_from:new Date,date_to:x(new Date,"DD-MM-YYYY").add(31,"days").toDate(),split_id:t+1,duration:31}),this.updateSplitSet(this.activePeriodSet.split_set_id,this.activePeriodSet),console.log(this.activePeriodSet)},t.prototype.updateSplitSet=function(t,e){this.store.dispatch(new O({index:t,splitSet:e}))},t.prototype.onPenClick=function(t){var e=this.periodScale.items[t].splitId;this.periodScale.items[t].isInfoOpen=!this.periodScale.items[t].isInfoOpen,this.periodScale.items.map(function(t){t.splitId===e&&(t.isLabelEdit=!t.isLabelEdit)})},t.prototype.onCloseInfo=function(t){var e=this.periodScale.items[t].splitId;this.periodScale.items[t].isInfoOpen=!1,this.periodScale.items.map(function(t){t.splitId===e&&(t.isLabelEdit=!1)})},t.prototype.getWidth=function(t){return 8*t.length+"px"},t.prototype.getIndex=function(t){return!t.isInfoOpen&&(t.isPen||t.isExtreme||t.label)?2:t.isInfoOpen?3:0},t}(),Zt=i["\u0275crt"]({encapsulation:0,styles:[['.app-period-split-bar[_ngcontent-%COMP%]{display:flex;padding:0 15px;background-color:#fff}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__header[_ngcontent-%COMP%]{min-width:115px;max-width:115px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]{display:flex;width:100%;max-width:1025px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale[_ngcontent-%COMP%]{display:flex;position:relative;overflow:visible;min-width:100px;max-width:1003px;height:65px;padding:10px 10px 15px 0}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale[_ngcontent-%COMP%]   .app-period-split-bar__scale--label[_ngcontent-%COMP%]{position:absolute;z-index:1;overflow:hidden}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__add_split[_ngcontent-%COMP%]{flex-grow:2;height:19px;width:19px;margin:5px 0 0;cursor:pointer;color:#4350a2;background-color:#ebeeff;border:1px dashed #4350a2;text-align:center;vertical-align:middle}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__add_split[_ngcontent-%COMP%]   .app-period-split-bar__add_split--ico[_ngcontent-%COMP%]{font-size:14px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--cell[_ngcontent-%COMP%]{width:6px;height:14px;position:relative}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--cell[_ngcontent-%COMP%]   .app-period-split-bar--date[_ngcontent-%COMP%]{position:absolute;bottom:-14px;left:-8px;height:10px;font-size:10px;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--cell[_ngcontent-%COMP%]   .app-period-split-bar--input[_ngcontent-%COMP%]{position:absolute;top:2px;height:10px;font-size:10px;line-height:13px;border:none;border-radius:5px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar--label[_ngcontent-%COMP%]{position:absolute;height:14px;z-index:1;font-size:10px;line-height:15px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar--label--yellow[_ngcontent-%COMP%]{color:#c87f13}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar--label--blue[_ngcontent-%COMP%]{color:#1079c4}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--cell[_ngcontent-%COMP%]::before{content:"";position:absolute;top:-7px;height:4px;width:4px;background-color:#c87f13}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__cell--selected[_ngcontent-%COMP%]{width:5.5px;height:14px;background-color:#a4a8be}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--yellow[_ngcontent-%COMP%]{background-color:#fbe2bc}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--yellow[_ngcontent-%COMP%]::before{background-color:#c87f13}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--blue[_ngcontent-%COMP%]{background-color:#def1ff}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--blue[_ngcontent-%COMP%]::before{background-color:#1079c4}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__add[_ngcontent-%COMP%]{width:100%;height:23px;margin:0 0 20px;cursor:pointer;font:12px/23px NunitoSans-Bold;color:#4350a2;background-color:#ebeeff;border:1px dashed #4350a2;text-align:center}.app-period-split-bar[_ngcontent-%COMP%]   .cdk-drag-placeholder[_ngcontent-%COMP%]   .app-period-split-bar--date[_ngcontent-%COMP%]{display:none}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__ico[_ngcontent-%COMP%]{font-size:10px;position:absolute;top:2px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__ico[_ngcontent-%COMP%]:hover{cursor:pointer}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__settings[_ngcontent-%COMP%]{position:absolute;top:18px;right:-30px}.cdk-drag-preview[_ngcontent-%COMP%]{color:red}.cdk-drag-preview[_ngcontent-%COMP%]   .app-period-split-bar--date[_ngcontent-%COMP%]{display:none}']],data:{}});function Kt(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","app-period-split-bar--date"]],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,["",""]))],null,function(t,e){t(e,1,0,e.parent.context.$implicit.extremeDate)})}function Wt(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"app-carets",[["cdkDragHandle",""],["class","app-period-bar__cell--extreme cdk-drag-handle"]],null,null,null,T,k)),i["\u0275did"](1,147456,[[2,4]],0,Rt,[i.ElementRef,[2,Dt]],null,null),i["\u0275did"](2,114688,null,0,E,[],null,null)],function(t,e){t(e,2,0)},null)}function Jt(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,7,"div",[["class","app-period-split-bar--label"]],null,null,null,null,null)),i["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](2,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](3,{"app-period-split-bar--label--yellow":0,"app-period-split-bar--label--blue":1}),i["\u0275prd"](512,null,a["\u0275NgStyleImpl"],a["\u0275NgStyleR2Impl"],[i.ElementRef,i.KeyValueDiffers,i.Renderer2]),i["\u0275did"](5,278528,null,0,a.NgStyle,[a["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](6,{width:0}),(t()(),i["\u0275ted"](7,null,[" ",""]))],function(t,e){var n=e.component,i=t(e,3,0,n.viewId%2==0,n.viewId%2==1);t(e,2,0,"app-period-split-bar--label",i);var l=t(e,6,0,n.getWidth(e.parent.context.$implicit.label));t(e,5,0,l)},function(t,e){t(e,7,0,e.parent.context.$implicit.label)})}function Xt(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,8,"input",[["class","app-period-split-bar--input"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var l=!0,o=t.component;return"input"===e&&(l=!1!==i["\u0275nov"](t,4)._handleInput(n.target.value)&&l),"blur"===e&&(l=!1!==i["\u0275nov"](t,4).onTouched()&&l),"compositionstart"===e&&(l=!1!==i["\u0275nov"](t,4)._compositionStart()&&l),"compositionend"===e&&(l=!1!==i["\u0275nov"](t,4)._compositionEnd(n.target.value)&&l),"ngModelChange"===e&&(l=!1!==(t.parent.context.$implicit.label=n)&&l),"ngModelChange"===e&&(l=!1!==o.onChangeSplitName(n,t.parent.context.$implicit.splitId)&&l),l},null,null)),i["\u0275prd"](512,null,a["\u0275NgStyleImpl"],a["\u0275NgStyleR2Impl"],[i.ElementRef,i.KeyValueDiffers,i.Renderer2]),i["\u0275did"](2,278528,null,0,a.NgStyle,[a["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](3,{width:0}),i["\u0275did"](4,16384,null,0,v.d,[i.Renderer2,i.ElementRef,[2,v.a]],null,null),i["\u0275prd"](1024,null,v.p,function(t){return[t]},[v.d]),i["\u0275did"](6,671744,null,0,v.u,[[8,null],[8,null],[8,null],[6,v.p]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,v.q,null,[v.u]),i["\u0275did"](8,16384,null,0,v.r,[[4,v.q]],null,null)],function(t,e){var n=t(e,3,0,e.component.getWidth(e.parent.context.$implicit.label));t(e,2,0,n),t(e,6,0,e.parent.context.$implicit.label)},function(t,e){t(e,0,0,i["\u0275nov"](e,8).ngClassUntouched,i["\u0275nov"](e,8).ngClassTouched,i["\u0275nov"](e,8).ngClassPristine,i["\u0275nov"](e,8).ngClassDirty,i["\u0275nov"](e,8).ngClassValid,i["\u0275nov"](e,8).ngClassInvalid,i["\u0275nov"](e,8).ngClassPending)})}function Qt(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"i",[["class","fas fa-pen app-period-split-bar__ico"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onPenClick(t.parent.context.index)&&i),i},null,null)),i["\u0275prd"](512,null,a["\u0275NgStyleImpl"],a["\u0275NgStyleR2Impl"],[i.ElementRef,i.KeyValueDiffers,i.Renderer2]),i["\u0275did"](2,278528,null,0,a.NgStyle,[a["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](3,{color:0})],function(t,e){var n=t(e,3,0,e.component.getColor());t(e,2,0,n)},null)}function te(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-split-bar__settings"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,1,"app-period-split-settings",[],null,[[null,"closeInfo"]],function(t,e,n){var i=!0;return"closeInfo"===e&&(i=!1!==t.component.onCloseInfo(n)&&i),i},Vt,zt)),i["\u0275did"](2,114688,null,0,Yt,[I.n],{splitSetId:[0,"splitSetId"],splitId:[1,"splitId"],periodScaleItemId:[2,"periodScaleItemId"]},{closeInfo:"closeInfo"})],function(t,e){t(e,2,0,e.component.splitSetId,e.parent.context.$implicit.splitId,e.parent.context.index)},null)}function ee(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,16777216,null,null,23,"div",[["cdkDrag",""],["cdkDragBoundary",".app-period-bar__scale"],["cdkDragLockAxis","x"],["class","app-period-split-bar__scale--cell cdk-drag"]],[[8,"id",0],[2,"cdk-drag-disabled",null],[2,"cdk-drag-dragging",null]],null,null,null,null)),i["\u0275prd"](6144,null,Dt,null,[kt]),i["\u0275did"](2,4866048,[[1,4]],3,kt,[i.ElementRef,[3,It],a.DOCUMENT,i.NgZone,i.ViewContainerRef,nt,St,Et,[2,Ft],Mt,i.ChangeDetectorRef],{lockAxis:[0,"lockAxis"],boundaryElementSelector:[1,"boundaryElementSelector"],disabled:[2,"disabled"]},null),i["\u0275qud"](603979776,2,{_handles:1}),i["\u0275qud"](335544320,3,{_previewTemplate:0}),i["\u0275qud"](335544320,4,{_placeholderTemplate:0}),i["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](7,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](8,{"app-period-split-bar__scale--yellow":0,"app-period-split-bar__scale--blue":1}),i["\u0275prd"](512,null,a["\u0275NgStyleImpl"],a["\u0275NgStyleR2Impl"],[i.ElementRef,i.KeyValueDiffers,i.Renderer2]),i["\u0275did"](10,278528,null,0,a.NgStyle,[a["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](11,{"z-index":0}),(t()(),i["\u0275and"](16777216,null,null,1,null,Kt)),i["\u0275did"](13,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Wt)),i["\u0275did"](15,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Jt)),i["\u0275did"](17,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Xt)),i["\u0275did"](19,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Qt)),i["\u0275did"](21,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,te)),i["\u0275did"](23,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](0,null,null,0))],function(t,e){var n=e.component;t(e,2,0,"x",".app-period-bar__scale",!e.context.$implicit.isExtreme);var i=t(e,8,0,n.viewId%2==0,n.viewId%2==1);t(e,7,0,"app-period-split-bar__scale--cell",i);var l=t(e,11,0,n.getIndex(e.context.$implicit));t(e,10,0,l),t(e,13,0,e.context.$implicit.extremeDate),t(e,15,0,e.context.$implicit.isExtreme),t(e,17,0,e.context.$implicit.label&&e.context.$implicit.slitDuration>10&&!e.context.$implicit.isLabelEdit),t(e,19,0,e.context.$implicit.label&&e.context.$implicit.slitDuration>10&&e.context.$implicit.isLabelEdit),t(e,21,0,e.context.$implicit.isPen),t(e,23,0,e.context.$implicit.isInfoOpen)},function(t,e){t(e,0,0,i["\u0275inlineInterpolate"](1,"",e.context.$implicit.splitId,""),i["\u0275nov"](e,2).disabled,i["\u0275nov"](e,2)._dragRef.isDragging())})}function ne(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,9,"div",[["class","app-period-split-bar__splitset"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,6,"div",[["cdkDropList",""],["cdkDropListOrientation","horizontal"],["class","app-period-split-bar__scale cdk-drop-list"]],[[8,"id",0],[2,"cdk-drop-list-disabled",null],[2,"cdk-drop-list-dragging",null],[2,"cdk-drop-list-receiving",null]],[[null,"cdkDropListDropped"]],function(t,e,n){var i=!0;return"cdkDropListDropped"===e&&(i=!1!==t.component.dropItem(n)&&i),i},null,null)),i["\u0275prd"](6144,null,It,null,[At]),i["\u0275did"](3,1196032,null,1,At,[i.ElementRef,St,i.ChangeDetectorRef,[2,Ft],[3,Nt],[2,a.DOCUMENT],Mt],{orientation:[0,"orientation"]},{dropped:"cdkDropListDropped"}),i["\u0275qud"](603979776,1,{_draggables:1}),i["\u0275prd"](256,null,Nt,void 0,[]),(t()(),i["\u0275and"](16777216,null,null,1,null,ee)),i["\u0275did"](7,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275eld"](8,0,null,null,1,"div",[["class","app-period-split-bar__add_split"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onAddSplit()&&i),i},null,null)),(t()(),i["\u0275eld"](9,0,null,null,0,"i",[["class","fa fa-plus app-period-split-bar__add_split--ico"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,3,0,"horizontal"),t(e,7,0,n.periodScale.items)},function(t,e){t(e,1,0,i["\u0275nov"](e,3).id,i["\u0275nov"](e,3).disabled,i["\u0275nov"](e,3)._dropListRef.isDragging(),i["\u0275nov"](e,3)._dropListRef.isReceiving())})}function ie(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","app-period-split-bar__add"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onCreateSplit()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,[" + Create first split "]))],null,null)}function le(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,10,"div",[["class","app-period-split-bar"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,5,"div",[["class","app-period-split-bar__header"]],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,4,"app-input-editable-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(t,e,n){var i=!0;return"ngModelChange"===e&&(i=!1!==(t.component.activePeriodSet.name=n)&&i),i},$t,Ut)),i["\u0275did"](3,671744,null,0,v.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,v.q,null,[v.u]),i["\u0275did"](5,16384,null,0,v.r,[[4,v.q]],null,null),i["\u0275did"](6,114688,null,0,Ht,[[6,v.q]],{inputStyle:[0,"inputStyle"],inputColor:[1,"inputColor"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,ne)),i["\u0275did"](8,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,ie)),i["\u0275did"](10,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275eld"](11,0,null,null,2,"pre",[],null,null,null,null,null)),(t()(),i["\u0275ted"](12,null,[" ",""])),i["\u0275pid"](0,a.JsonPipe,[])],function(t,e){var n=e.component;t(e,3,0,n.activePeriodSet.name),t(e,6,0,"header",n.getColor()),t(e,8,0,n.getSplitSetLength()),t(e,10,0,!n.getSplitSetLength())},function(t,e){var n=e.component;t(e,2,0,i["\u0275nov"](e,5).ngClassUntouched,i["\u0275nov"](e,5).ngClassTouched,i["\u0275nov"](e,5).ngClassPristine,i["\u0275nov"](e,5).ngClassDirty,i["\u0275nov"](e,5).ngClassValid,i["\u0275nov"](e,5).ngClassInvalid,i["\u0275nov"](e,5).ngClassPending),t(e,12,0,i["\u0275unv"](e,12,0,i["\u0275nov"](e,13).transform(n.activePeriodSet)))})}var oe=function(){function t(t){this.store=t,this.periodSubscribe=t.select("state")}return t.prototype.ngOnInit=function(){var t=this;this.periodSubscribe.subscribe(function(e){t.period=e.period,t.initScale()}),this.periodScale={width:2196,length:366,items:[],label:this.period.name,duration:this.period.duration>366?366:this.period.duration},this.initScale()},t.prototype.initScale=function(){this.periodScale={width:2196,length:366,items:[],label:this.period.name,duration:this.period.duration>366?366:this.period.duration};for(var t=0;t<this.periodScale.length;t++)this.drawItem(t);this.periodScale.items&&this.period&&this.period.duration&&this.period.duration>0&&(this.periodScale.items[0].isLowExtreme=!0,this.periodScale.items[this.period.duration-1].isHighExtreme=!0)},t.prototype.drawItem=function(t){1===x(this.period.date_from,"DD-MM-YYYY").add(t,"days").date()?this.periodScale.items.push({id:t,label:x().month(x(this.period.date_from,"DD-MM-YYYY").add(t,"days").month()).format("MMMM").slice(0,3)}):this.periodScale.items.push({id:t}),this.periodScale.items[t].isSelected=x(this.period.date_from,"DD-MM-YYYY")<=x(this.period.date_from,"DD-MM-YYYY").add(t,"days")&&x(this.period.date_from,"DD-MM-YYYY").add(t,"days")<=x(this.period.date_to,"DD-MM-YYYY")},t.prototype.dropItem=function(t){var e=this;Array.prototype.slice.call(t.item.element.nativeElement.children).map(function(n){if(n.className.includes("app-period-bar__cell--high-extreme"))e.store.dispatch(new w({name:e.periodScale.label,date_from:e.period.date_from,date_to:x(e.period.date_from,"DD-MM-YYYY").add(t.currentIndex+1,"days").toDate(),duration:t.currentIndex+2}));else if(n.className.includes("app-period-bar__cell--low-extreme")){var i=e.period.duration;e.store.dispatch(new w({name:e.periodScale.label,date_from:x(e.period.date_from,"DD-MM-YYYY").add(t.currentIndex,"days").toDate(),date_to:e.period.date_to,duration:i-t.currentIndex+1}))}})},t.prototype.getWidth=function(){return this.periodScale.duration>15?(6*this.periodScale.duration-12).toString()+"px":"0px"},t.prototype.onChangeName=function(t){this.store.dispatch(new w({name:t,date_from:this.period.date_from,date_to:this.period.date_to,duration:this.period.duration}))},t}(),re=i["\u0275crt"]({encapsulation:0,styles:[['.app-period-bar[_ngcontent-%COMP%]{display:flex;padding:20px 15px;background-color:#fff;overflow-x:hidden}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__header[_ngcontent-%COMP%]{min-width:113px;max-width:113px;height:15px;font:800 12px/15px NunitoSans-Bold;margin:7px 0 auto}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale[_ngcontent-%COMP%]{flex-grow:1;display:flex;position:relative;overflow:visible;min-width:500px;max-width:1025px;height:65px;padding:10px 0 15px 7px;overflow-y:auto}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale[_ngcontent-%COMP%]   .app-period-bar__scale--label[_ngcontent-%COMP%]{position:absolute;z-index:1;overflow:hidden}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]{width:4px;height:14px;margin:0 2px 0 0;background-color:#f7f8ff;position:relative}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]   .app-period-bar__cell--month[_ngcontent-%COMP%]{position:absolute;bottom:-14px;height:10px;font-size:10px;color:#000}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]   .app-period-bar__cell--month[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:9px;left:1px;height:7px;width:2px;background-color:#000}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]   .app-period-bar__cell--high-extreme[_ngcontent-%COMP%], .app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]   .app-period-bar__cell--low-extreme[_ngcontent-%COMP%]{position:absolute;z-index:2;top:1px;right:-2px}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]   .app-period-bar__cell--high-extreme[_ngcontent-%COMP%]{right:-4px}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]::before{content:"";position:absolute;top:-7px;height:4px;width:4px;background-color:#36405f}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__cell--selected[_ngcontent-%COMP%]{width:5.5px;height:14px;background-color:#36405f}.app-period-bar[_ngcontent-%COMP%]   .cdk-drag-placeholder[_ngcontent-%COMP%]   .app-period-bar__cell--month[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   .app-period-bar__cell--month[_ngcontent-%COMP%]{display:none}']],data:{}});function ae(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","app-period-bar__cell--month"]],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,["",""]))],null,function(t,e){t(e,1,0,e.parent.context.$implicit.label)})}function se(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,0,"div",[["class","app-period-bar__cell--selected"]],null,null,null,null,null))],null,null)}function pe(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"app-carets",[["cdkDragHandle",""],["class","app-period-bar__cell--high-extreme cdk-drag-handle"]],null,null,null,T,k)),i["\u0275did"](1,147456,[[2,4]],0,Rt,[i.ElementRef,[2,Dt]],null,null),i["\u0275did"](2,114688,null,0,E,[],null,null)],function(t,e){t(e,2,0)},null)}function de(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"app-carets",[["cdkDragHandle",""],["class","app-period-bar__cell--low-extreme cdk-drag-handle"]],null,null,null,T,k)),i["\u0275did"](1,147456,[[2,4]],0,Rt,[i.ElementRef,[2,Dt]],null,null),i["\u0275did"](2,114688,null,0,E,[],null,null)],function(t,e){t(e,2,0)},null)}function ue(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,16777216,null,null,13,"div",[["cdkDrag",""],["cdkDragBoundary",".app-period-bar__scale"],["cdkDragLockAxis","x"],["class","app-period-bar__scale--cell cdk-drag"]],[[2,"cdk-drag-disabled",null],[2,"cdk-drag-dragging",null]],null,null,null,null)),i["\u0275prd"](6144,null,Dt,null,[kt]),i["\u0275did"](2,4866048,[[1,4]],3,kt,[i.ElementRef,[3,It],a.DOCUMENT,i.NgZone,i.ViewContainerRef,nt,St,Et,[2,Ft],Mt,i.ChangeDetectorRef],{lockAxis:[0,"lockAxis"],boundaryElementSelector:[1,"boundaryElementSelector"],disabled:[2,"disabled"]},null),i["\u0275qud"](603979776,2,{_handles:1}),i["\u0275qud"](335544320,3,{_previewTemplate:0}),i["\u0275qud"](335544320,4,{_placeholderTemplate:0}),(t()(),i["\u0275and"](16777216,null,null,1,null,ae)),i["\u0275did"](7,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,se)),i["\u0275did"](9,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,pe)),i["\u0275did"](11,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,de)),i["\u0275did"](13,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](0,null,null,0))],function(t,e){t(e,2,0,"x",".app-period-bar__scale",!(e.context.$implicit.isHighExtreme||e.context.$implicit.isLowExtreme)),t(e,7,0,e.context.$implicit.label),t(e,9,0,e.context.$implicit.isSelected),t(e,11,0,e.context.$implicit.isHighExtreme),t(e,13,0,e.context.$implicit.isLowExtreme)},function(t,e){t(e,0,0,i["\u0275nov"](e,2).disabled,i["\u0275nov"](e,2)._dragRef.isDragging())})}function ce(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,15,"div",[["class","app-period-bar"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,1,"h2",[["class","app-period-bar__header"]],null,null,null,null,null)),(t()(),i["\u0275ted"](2,null,["",""])),(t()(),i["\u0275eld"](3,0,null,null,12,"div",[["cdkDropList",""],["cdkDropListOrientation","horizontal"],["class","app-period-bar__scale cdk-drop-list"]],[[8,"id",0],[2,"cdk-drop-list-disabled",null],[2,"cdk-drop-list-dragging",null],[2,"cdk-drop-list-receiving",null]],[[null,"cdkDropListDropped"]],function(t,e,n){var i=!0;return"cdkDropListDropped"===e&&(i=!1!==t.component.dropItem(n)&&i),i},null,null)),i["\u0275prd"](6144,null,It,null,[At]),i["\u0275did"](5,1196032,null,1,At,[i.ElementRef,St,i.ChangeDetectorRef,[2,Ft],[3,Nt],[2,a.DOCUMENT],Mt],{orientation:[0,"orientation"]},{dropped:"cdkDropListDropped"}),i["\u0275qud"](603979776,1,{_draggables:1}),i["\u0275prd"](256,null,Nt,void 0,[]),(t()(),i["\u0275eld"](8,0,null,null,5,"div",[["class","app-period-bar__scale--label"]],[[4,"width",null]],null,null,null,null)),(t()(),i["\u0275eld"](9,0,null,null,4,"app-input-editable-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(t,e,n){var i=!0,l=t.component;return"ngModelChange"===e&&(i=!1!==(l.period.name=n)&&i),"ngModelChange"===e&&(i=!1!==l.onChangeName(n)&&i),i},$t,Ut)),i["\u0275did"](10,671744,null,0,v.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,v.q,null,[v.u]),i["\u0275did"](12,16384,null,0,v.r,[[4,v.q]],null,null),i["\u0275did"](13,114688,null,0,Ht,[[6,v.q]],null,null),(t()(),i["\u0275and"](16777216,null,null,1,null,ue)),i["\u0275did"](15,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,5,0,"horizontal"),t(e,10,0,n.period.name),t(e,13,0),t(e,15,0,n.periodScale.items)},function(t,e){var n=e.component;t(e,2,0,n.period.name),t(e,3,0,i["\u0275nov"](e,5).id,i["\u0275nov"](e,5).disabled,i["\u0275nov"](e,5)._dropListRef.isDragging(),i["\u0275nov"](e,5)._dropListRef.isReceiving()),t(e,8,0,n.getWidth()),t(e,9,0,i["\u0275nov"](e,12).ngClassUntouched,i["\u0275nov"](e,12).ngClassTouched,i["\u0275nov"](e,12).ngClassPristine,i["\u0275nov"](e,12).ngClassDirty,i["\u0275nov"](e,12).ngClassValid,i["\u0275nov"](e,12).ngClassInvalid,i["\u0275nov"](e,12).ngClassPending)})}var ge=function(){function t(t){this.store=t,this.periodSubscribe=t.select("state")}return t.prototype.ngOnInit=function(){var t=this;this.periodSubscribe.subscribe(function(e){t.splitSet=e.splitsSet})},t.prototype.onAddSplit=function(){this.store.dispatch(new S({name:"Academical",split_set_id:this.splitSet.length+1,splits:[]}))},t.prototype.ngOnDestroy=function(){this.periodSubscribe.subscribe().unsubscribe()},t}(),he=i["\u0275crt"]({encapsulation:0,styles:[[".app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__container[_ngcontent-%COMP%]{padding:20px 15px;background-color:#fff}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__add[_ngcontent-%COMP%]{font:10px/11px NunitoSans-Bold;color:#4350a2;cursor:pointer}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__add[_ngcontent-%COMP%]:hover{opacity:.6}"]],data:{}});function _e(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-general-settings__split-set"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,1,"app-period-split-bar",[],null,null,null,le,Zt)),i["\u0275did"](2,114688,null,0,Gt,[I.n],{splitSetId:[0,"splitSetId"],viewId:[1,"viewId"]},null)],function(t,e){t(e,2,0,e.component.splitSet[e.context.index].split_set_id,e.context.index)},null)}function fe(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-general-settings__split-sets"]],null,null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,_e)),i["\u0275did"](2,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.splitSet)},null)}function me(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,7,"div",[["class","app-period-general-settings"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,6,"div",[["class","app-period-general-settings__container"]],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,1,"app-period-bar",[],null,null,null,ce,re)),i["\u0275did"](3,114688,null,0,oe,[I.n],null,null),(t()(),i["\u0275and"](16777216,null,null,1,null,fe)),i["\u0275did"](5,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275eld"](6,0,null,null,1,"div",[["class","app-period-general-settings__add"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onAddSplit()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,[" + Add new split type "]))],function(t,e){var n=e.component;t(e,3,0),t(e,5,0,n.splitSet)},null)}var ve=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),be=i["\u0275crt"]({encapsulation:0,styles:[[".app-period-create[_ngcontent-%COMP%]{padding:30px 20px}.app-period-create[_ngcontent-%COMP%]   .app-period-create-header[_ngcontent-%COMP%]{color:#151515;font:800 17px/20px NunitoSans-Bold;letter-spacing:.2px;text-transform:uppercase}.app-period-create[_ngcontent-%COMP%]   .app-period-create-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.app-period-create[_ngcontent-%COMP%]   .app-period-create-left-panel[_ngcontent-%COMP%]{width:320px;margin:0 20px 0 0}.app-period-create[_ngcontent-%COMP%]   .app-period-create-right-panel[_ngcontent-%COMP%]{flex-grow:1}"]],data:{}});function Ce(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"app-period-page-header",[],null,[[null,"click"]],function(t,e,n){var l=!0;return"click"===e&&(l=!1!==i["\u0275nov"](t,1).onClick()&&l),l},u,p)),i["\u0275did"](1,16384,null,0,r.l,[r.k,r.a,[8,null],i.Renderer2,i.ElementRef],{routerLink:[0,"routerLink"]},null),i["\u0275did"](2,114688,null,0,s,[],{titleHeader:[0,"titleHeader"],isBackArrowEnable:[1,"isBackArrowEnable"],buttonText:[2,"buttonText"],routerLink:[3,"routerLink"]},null),(t()(),i["\u0275eld"](3,0,null,null,9,"div",[["class","app-period-create"]],null,null,null,null,null)),(t()(),i["\u0275eld"](4,0,null,null,1,"h1",[["class","app-period-create-header"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Create Period"])),(t()(),i["\u0275eld"](6,0,null,null,6,"div",[["class","app-period-create-container"]],null,null,null,null,null)),(t()(),i["\u0275eld"](7,0,null,null,2,"div",[["class","app-period-create-left-panel"]],null,null,null,null,null)),(t()(),i["\u0275eld"](8,0,null,null,1,"app-period-duration-setting",[],null,null,null,R,D)),i["\u0275did"](9,114688,null,0,M,[I.n],null,null),(t()(),i["\u0275eld"](10,0,null,null,2,"div",[["class","app-period-create-right-panel"]],null,null,null,null,null)),(t()(),i["\u0275eld"](11,0,null,null,1,"app-period-general-setting",[],null,null,null,me,he)),i["\u0275did"](12,245760,null,0,ge,[I.n],null,null)],function(t,e){t(e,1,0,"/period"),t(e,2,0,"CREATE PERIOD",!0,"Save & exit","/period"),t(e,9,0),t(e,12,0)},null)}function ye(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-period-create",[],null,null,null,Ce,be)),i["\u0275did"](1,114688,null,0,ve,[],null,null)],function(t,e){t(e,1,0)},null)}var xe=i["\u0275ccf"]("app-period-create",ve,ye,{},{},[]),Pe=n("atuK"),we=n("9AJC"),Se=n("4GxJ"),Oe=n("NJnL"),Me=n("lqqz"),Ie=n("ARl4"),De=function(){return function(t,e){this.http=t,this.store=e}}(),Re=n("t/Na"),Ee=function(){return function(){}}(),ke=n("QpxQ"),Te=n("D2tp"),Ne={period:{name:"new period",date_from:new Date,date_to:x(new Date,"DD-MM-YYYY").add(365,"days").toDate(),duration:366},splitsSet:[{name:"Financial",split_set_id:1,splits:[{name:"1 split",date_from:new Date,date_to:x(new Date,"DD-MM-YYYY").add(30,"days").toDate(),split_id:1,duration:31}]}]};function Le(t,e){switch(void 0===t&&(t=Ne),e.type){case P.ChangePeriod:return G.a({},t,{period:G.a({},e.payload)});case P.AddSplitSet:return G.a({},t,{splitsSet:G.i(t.splitsSet,[e.payload])});case P.ChangeSplitSet:var n=G.i(t.splitsSet);return n.map(function(t){return t.split_set_id===e.payload.index?e.payload.splitSet:t}),G.a({},t,{splitsSet:n});default:return t}}n.d(e,"PeriodModuleNgFactory",function(){return Ae});var Ae=i["\u0275cmf"](l,[],function(t){return i["\u0275mod"]([i["\u0275mpd"](512,i.ComponentFactoryResolver,i["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,f,xe,Pe.a,Pe.b,Pe.c,we.a,we.b,we.l,we.m,we.i,we.j,we.k]],[3,i.ComponentFactoryResolver],i.NgModuleRef]),i["\u0275mpd"](4608,Mt,Mt,[a.DOCUMENT,i.NgZone,nt,St]),i["\u0275mpd"](4608,a.NgLocalization,a.NgLocaleLocalization,[i.LOCALE_ID,[2,a["\u0275angular_packages_common_common_a"]]]),i["\u0275mpd"](4608,v.E,v.E,[]),i["\u0275mpd"](4608,v.f,v.f,[]),i["\u0275mpd"](4608,Se.E,Se.E,[i.ComponentFactoryResolver,i.Injector,Se.wb,Se.F]),i["\u0275mpd"](4608,Oe.a,Oe.a,[i.RendererFactory2,i.PLATFORM_ID]),i["\u0275mpd"](4608,Me.a,Me.a,[i.ComponentFactoryResolver,i.NgZone,i.Injector,Oe.a,i.ApplicationRef]),i["\u0275mpd"](4608,Ie.w,Ie.w,[]),i["\u0275mpd"](4608,Ie.y,Ie.y,[]),i["\u0275mpd"](4608,Ie.a,Ie.a,[]),i["\u0275mpd"](4608,Ie.e,Ie.e,[]),i["\u0275mpd"](4608,Ie.c,Ie.c,[]),i["\u0275mpd"](4608,Ie.f,Ie.f,[]),i["\u0275mpd"](4608,Ie.x,Ie.x,[Ie.y,Ie.f]),i["\u0275mpd"](4608,De,De,[Re.c,I.n]),i["\u0275mpd"](1073742336,jt,jt,[]),i["\u0275mpd"](1073742336,a.CommonModule,a.CommonModule,[]),i["\u0275mpd"](1073742336,v.D,v.D,[]),i["\u0275mpd"](1073742336,v.m,v.m,[]),i["\u0275mpd"](1073742336,v.z,v.z,[]),i["\u0275mpd"](1073742336,r.o,r.o,[[2,r.t],[2,r.k]]),i["\u0275mpd"](1073742336,Ee,Ee,[]),i["\u0275mpd"](1073742336,Ie.d,Ie.d,[]),i["\u0275mpd"](1073742336,Se.c,Se.c,[]),i["\u0275mpd"](1073742336,Se.f,Se.f,[]),i["\u0275mpd"](1073742336,Se.h,Se.h,[]),i["\u0275mpd"](1073742336,Se.m,Se.m,[]),i["\u0275mpd"](1073742336,Se.n,Se.n,[]),i["\u0275mpd"](1073742336,Se.u,Se.u,[]),i["\u0275mpd"](1073742336,Se.A,Se.A,[]),i["\u0275mpd"](1073742336,Se.G,Se.G,[]),i["\u0275mpd"](1073742336,Se.K,Se.K,[]),i["\u0275mpd"](1073742336,Se.P,Se.P,[]),i["\u0275mpd"](1073742336,Se.S,Se.S,[]),i["\u0275mpd"](1073742336,Se.X,Se.X,[]),i["\u0275mpd"](1073742336,Se.cb,Se.cb,[]),i["\u0275mpd"](1073742336,Se.gb,Se.gb,[]),i["\u0275mpd"](1073742336,Se.jb,Se.jb,[]),i["\u0275mpd"](1073742336,Se.kb,Se.kb,[]),i["\u0275mpd"](1073742336,Se.H,Se.H,[]),i["\u0275mpd"](1073742336,ke.c,ke.c,[]),i["\u0275mpd"](1073742336,qt.AutoSizeInputModule,qt.AutoSizeInputModule,[]),i["\u0275mpd"](1073742336,Te.a,Te.a,[]),i["\u0275mpd"](131584,I.a,I.a,[]),i["\u0275mpd"](2048,I.h,null,[I.a]),i["\u0275mpd"](256,I.t,void 0,[]),i["\u0275mpd"](1024,I.d,I.y,[I.t]),i["\u0275mpd"](256,I.s,{state:Le},[]),i["\u0275mpd"](2048,I.v,null,[I.s]),i["\u0275mpd"](1024,I.c,I.x,[i.Injector,I.s,I.v]),i["\u0275mpd"](256,I.u,I.z,[]),i["\u0275mpd"](256,I.e,[],[]),i["\u0275mpd"](1024,I.f,I.C,[I.u,I.e]),i["\u0275mpd"](131584,I.g,I.g,[I.h,I.d,I.c,I.f]),i["\u0275mpd"](2048,I.i,null,[I.g]),i["\u0275mpd"](131584,I.k,I.k,[]),i["\u0275mpd"](131584,I.l,I.l,[I.a,I.i,I.k,I.d]),i["\u0275mpd"](2048,I.m,null,[I.l]),i["\u0275mpd"](512,I.n,I.n,[I.m,I.a,I.g]),i["\u0275mpd"](1073742336,I.p,I.p,[I.a,I.i,I.k,I.n]),i["\u0275mpd"](1073742336,l,l,[]),i["\u0275mpd"](1024,r.i,function(){return[[{path:"",component:c},{path:"create",component:ve}]]},[]),i["\u0275mpd"](256,ke.d,ke.e,[])])})},LHBH:function(t,e,n){"use strict";var i=n("CcnG"),l=n("Ip0R"),o=n("gIcY");n("RzGa"),n.d(e,"a",function(){return r}),n.d(e,"b",function(){return p});var r=i["\u0275crt"]({encapsulation:0,styles:[[".app-input-field[_ngcontent-%COMP%]{border:none;border-radius:0;color:#151515;padding:0;min-height:36px;max-height:36px;width:auto;position:relative}.app-input-field.app-input-field-table[_ngcontent-%COMP%]{min-height:24px;max-height:24px}.app-input-field.app-input-field-table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{min-height:24px;padding:0 10px;font-size:12px}.app-input-field.app-input-field-table[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.app-input-field.app-input-field-table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-inner-spin-button, .app-input-field.app-input-field-table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none}.app-input-field[_ngcontent-%COMP%]   .app-input-field-label[_ngcontent-%COMP%]{position:absolute;color:#909090;transform-origin:0 0;z-index:1;top:11px;left:11px;font-size:10px}.app-input-field[_ngcontent-%COMP%]   .app-input-field-label__value[_ngcontent-%COMP%]{top:1px}.app-input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #b6b6b6;border-radius:3px;width:100%;min-height:36px;padding:0 10px;font-size:12px}.app-input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.app-input-field[_ngcontent-%COMP%]   input.app-input-field__value[_ngcontent-%COMP%]{padding-top:10px}.app-input-field[_ngcontent-%COMP%]   .app-input-field-error-icon[_ngcontent-%COMP%]{color:#fff;background:#e65757;border-radius:50%;width:16px;height:16px;text-align:center;line-height:7px;position:absolute;right:11px;top:11px;padding:4px 0}.app-input-field.app-input-field-has-error[_ngcontent-%COMP%]   .app-input-field-label[_ngcontent-%COMP%]{color:#e65757}.app-input-field.app-input-field-has-error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-color:#e65757}"]],data:{}});function a(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"label",[["class","app-input-field-label"]],[[8,"htmlFor",0]],[[null,"click"]],function(t,e,n){var l=!0;return"click"===e&&(l=!1!==i["\u0275nov"](t.parent,6).focus()&&l),l},null,null)),i["\u0275prd"](512,null,l["\u0275NgClassImpl"],l["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](2,278528,null,0,l.NgClass,[l["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](3,{"app-input-field-label__value":0}),(t()(),i["\u0275ted"](4,null,[" "," "]))],function(t,e){var n=t(e,3,0,e.component.value);t(e,2,0,"app-input-field-label",n)},function(t,e){var n=e.component;t(e,0,0,n.id),t(e,4,0,n.label)})}function s(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","app-input-field-error-icon"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" x "]))],null,null)}function p(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,19,"div",[["class","app-input-field"]],null,null,null,null,null)),i["\u0275prd"](512,null,l["\u0275NgClassImpl"],l["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](2,278528,null,0,l.NgClass,[l["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](3,{"app-input-field-has-error":0,"app-input-field-table":1}),(t()(),i["\u0275and"](16777216,null,null,1,null,a)),i["\u0275did"](5,16384,null,0,l.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275eld"](6,0,[["input",1]],null,11,"input",[["class","form-control"]],[[8,"id",0],[8,"type",0],[8,"value",0],[8,"min",0],[1,"maxlength",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var l=!0,o=t.component;return"input"===e&&(l=!1!==i["\u0275nov"](t,10)._handleInput(n.target.value)&&l),"blur"===e&&(l=!1!==i["\u0275nov"](t,10).onTouched()&&l),"compositionstart"===e&&(l=!1!==i["\u0275nov"](t,10)._compositionStart()&&l),"compositionend"===e&&(l=!1!==i["\u0275nov"](t,10)._compositionEnd(n.target.value)&&l),"ngModelChange"===e&&(l=!1!==(o.value=n)&&l),"input"===e&&(l=!1!==o.onChange(n.target.value)&&l),"blur"===e&&(l=!1!==o.onTouched()&&l),l},null,null)),i["\u0275prd"](512,null,l["\u0275NgClassImpl"],l["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](8,278528,null,0,l.NgClass,[l["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](9,{"app-input-field__value":0}),i["\u0275did"](10,16384,null,0,o.d,[i.Renderer2,i.ElementRef,[2,o.a]],null,null),i["\u0275did"](11,540672,null,0,o.n,[],{maxlength:[0,"maxlength"]},null),i["\u0275did"](12,540672,null,0,o.x,[],{pattern:[0,"pattern"]},null),i["\u0275prd"](1024,null,o.o,function(t,e){return[t,e]},[o.n,o.x]),i["\u0275prd"](1024,null,o.p,function(t){return[t]},[o.d]),i["\u0275did"](15,671744,null,0,o.u,[[8,null],[6,o.o],[8,null],[6,o.p]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,o.q,null,[o.u]),i["\u0275did"](17,16384,null,0,o.r,[[4,o.q]],null,null),(t()(),i["\u0275and"](16777216,null,null,1,null,s)),i["\u0275did"](19,16384,null,0,l.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component,i=t(e,3,0,n.isInvalid,"table"==n.fieldType);t(e,2,0,"app-input-field",i),t(e,5,0,n.label);var l=t(e,9,0,n.value&&n.label);t(e,8,0,"form-control",l),t(e,11,0,n.maxLength),t(e,12,0,n.pattern),t(e,15,0,n.disabled,n.value),t(e,19,0,n.isInvalid)},function(t,e){var n=e.component;t(e,6,1,[n.id,n.type,n.value,n.min,i["\u0275nov"](e,11).maxlength?i["\u0275nov"](e,11).maxlength:null,i["\u0275nov"](e,12).pattern?i["\u0275nov"](e,12).pattern:null,i["\u0275nov"](e,17).ngClassUntouched,i["\u0275nov"](e,17).ngClassTouched,i["\u0275nov"](e,17).ngClassPristine,i["\u0275nov"](e,17).ngClassDirty,i["\u0275nov"](e,17).ngClassValid,i["\u0275nov"](e,17).ngClassInvalid,i["\u0275nov"](e,17).ngClassPending])})}},RzGa:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("CcnG"),l=function(){function t(t){this.ngControl=t,this.fieldType=null,this.label="",this.isInvalid=!1,this.type="text",this.value="",this.maxLength=null,this.max=null,this.min=null,this.onChangeField=new i.EventEmitter,this.ngControl&&(this.ngControl.valueAccessor=this)}return t.prototype.ngOnInit=function(){},t.prototype.writeValue=function(t){this.value=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.onChange=function(t){return"number"===this.type&&this.max&&t>this.max&&(this.value=t=this.max),this.onChangeField.emit({fieldValue:t,id:this.id,type:"input"}),t},t.prototype.onTouched=function(){},t}()}}]);