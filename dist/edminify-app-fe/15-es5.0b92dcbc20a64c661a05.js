(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{H54p:function(n,t,e){"use strict";e.d(t,"a",function(){return i});var i=function(){function n(n){this.ngControl=n,this.isInvalid=!1,this.placeholder="",this.value="",this.ngControl&&(this.ngControl.valueAccessor=this)}return n.prototype.ngOnInit=function(){},n.prototype.writeValue=function(n){this.value=n},n.prototype.setDisabledState=function(n){this.disabled=n},n.prototype.registerOnChange=function(n){this.onChange=n},n.prototype.registerOnTouched=function(n){this.onTouched=n},n.prototype.onChange=function(n){return n},n.prototype.onTouched=function(){},n}()},IhLC:function(n,t,e){"use strict";e.r(t);var i=e("CcnG"),l=function(){return function(){}}(),o=e("pMnS"),r=e("ZYCi"),a=e("Ip0R"),p=e("pugT"),s=e("t/Na"),d=e("67Y/"),u=e("wd/R"),c=function(n){return n.AddPeriod="[Period] Add Period",n.ChangePeriod="[Period] Change Period",n.OpenCreatePeriodPage="[Period] Open Create Period Page",n.CreatePeriodRequest="[Period] Create Period Request",n.CreatePeriodResponse="[Period] Create Period Response",n.ChangePeriodError="[Period] Change Period Error",n.GetPeriodsRequest="[Period] Get Periods Request",n.GetPeriodsResponse="[Period] Get Periods Response",n.AddSplitSet="[Period] Add split Set",n.ValidatePeriod="[Period] Validate period",n.ChangeSplitSet="[Period] Change split",n.DeleteSplitSet="[Period] Delete split",n}({}),g=function(){return function(n){this.payload=n,this.type=c.OpenCreatePeriodPage}}(),h=function(){return function(n){this.payload=n,this.type=c.ChangePeriod}}(),_=function(){return function(n){this.payload=n,this.type=c.CreatePeriodRequest}}(),f=function(){return function(n){this.payload=n,this.type=c.ChangePeriodError}}(),m=function(){return function(){this.type=c.GetPeriodsRequest}}(),v=function(){return function(n){this.payload=n,this.type=c.GetPeriodsResponse}}(),C=function(){return function(n){this.payload=n,this.type=c.ValidatePeriod}}(),b=function(){return function(n){this.payload=n,this.type=c.AddSplitSet}}(),P=function(){return function(n){this.payload=n,this.type=c.ChangeSplitSet}}(),y=function(){return function(n){this.payload=n,this.type=c.DeleteSplitSet}}(),x="http://fin.red.dev.codeblue.ventures/api/v1",S={headers:new s.i({"Content-Type":"application/json",Authorization:"Bearer 123"})},M=function(){function n(n,t){this.store=n,this.http=t,this.periodStore=n.select("state")}return n.prototype.setSplitName=function(n,t,e){n&&(n.splits.map(function(n){n.split_id===e&&(n.name=t)}),this.updateSplitSet(n))},n.prototype.getPeriodStore=function(){return this.periodStore},n.prototype.onOpenCreateNewPeriodPage=function(){this.store.dispatch(new g({name:"new period",date_from:new Date,date_to:u(new Date,"DD-MM-YYYY").add(365,"days").toDate(),duration:366,split_sets:[{name:"Financial",split_set_id:1,error:{text:null,isBarErrorOpen:!1,isTableErrorOpen:!1},splits:[{name:"1 split",date_from:new Date,date_to:u(new Date,"DD-MM-YYYY").add(30,"days").toDate(),split_id:1,duration:31}]}]})),this.store.dispatch(new f({text:null,isOpen:!1}))},n.prototype.createSplit=function(n){var t=n.splits&&n.splits.length?n.splits.slice(-1).pop().split_id:0;if(n.splits&&n.splits.length){var e=u(n.splits.slice(-1).pop().date_to,"DD-MM-YYYY").add(1,"days").toDate();n.splits.push({name:t+1+" split",date_from:e,date_to:u(e,"DD-MM-YYYY").add(31,"days").toDate(),split_id:t+1,duration:31})}else n.splits.push({name:t+1+" split",date_from:new Date,date_to:u(new Date,"DD-MM-YYYY").add(31,"days").toDate(),split_id:t+1,duration:31});this.updateSplitSet(n)},n.prototype.changeSplitDate=function(n,t,e,i){var l=n.splits.indexOf(n.splits.find(function(n){return n.split_id===e})),o=t.duration,r=u(t.date_to).diff(u(t.date_from),"days")+1;if(r>7){if(n.splits[l]={name:t.name,date_from:t.date_from,date_to:t.date_to,split_id:t.split_id,duration:r},"dateFrom"===i&&n.splits[l-1]){var a=n.splits[l-1];n.splits[l-1]={name:a.name,date_from:a.date_from,date_to:u(t.date_from,"DD-MM-YYYY").subtract(1,"days").toDate(),split_id:a.split_id,duration:a.duration-(r-o)}}else if("dateTo"===i&&n.splits[l+1]){var p=n.splits[l+1];n.splits[l+1]={name:p.name,date_from:u(t.date_to,"DD-MM-YYYY").add(1,"days").toDate(),date_to:p.date_to,split_id:p.split_id,duration:p.duration-(r-o)}}this.updateSplitSet(n)}},n.prototype.changeSplitDuration=function(n,t){var e=n.splits.indexOf(n.splits.find(function(n){return n.split_id===t})),i=n.splits[e],l=u(i.date_from,"DD-MM-YYYY").add(i.duration,"days").toDate();i.duration>5&&(void 0===n.splits[e+1]?n.splits[e].date_to=l:(n.splits[e].date_to=l,n.splits.map(function(t){if(n.splits.indexOf(t)>e){var i=n.splits[n.splits.indexOf(t)-1];t.date_from=u(i.date_to,"DD-MM-YYYY").add(1,"days").toDate(),t.date_to=u(t.date_from,"DD-MM-YYYY").add(t.duration,"days").toDate()}}))),this.updateSplitSet(n)},n.prototype.deleteSplit=function(n,t){var e=n.splits.indexOf(n.splits.find(function(n){return n.split_id===t}));n.splits[e+1]&&(n.splits[e+1].date_from=n.splits[e].date_from,n.splits[e+1].duration+=n.splits[e].duration),n.splits.splice(e,1),this.updateSplitSet(n)},n.prototype.updateSplitSet=function(n){this.store.dispatch(new P({index:n.split_set_id,splitSet:n}))},n.prototype.createPeriod=function(n){console.log("create"),this.store.dispatch(new f({text:null,isOpen:!1}));var t=[];n.period.split_sets&&n.period.split_sets.map(function(n){var e=[];n.splits.map(function(n){e.push({name:n.name,date_from:u(n.date_from).format("YYYY-MM-DD"),date_to:u(n.date_to).format("YYYY-MM-DD")})}),t.push({name:n.name,splits:e})});var e={name:n.period.name,date_from:u(n.period.date_from).format("YYYY-MM-DD"),date_to:u(n.period.date_to).format("YYYY-MM-DD"),split_sets:t};return this.http.post(x+"/periods",e,S).pipe(Object(d.a)(function(n){return console.log(n),n}))},n.prototype.getPeriods=function(){return this.http.get(x+"/periods",S).pipe(Object(d.a)(function(n){return console.log(n),n}))},n.prototype.validatePeriod=function(n){var t=[];n.period.name||t.push("Period name is required"),n.period.date_from||t.push("Period start date is required"),n.period.date_to||t.push("Period end date is required"),this.store.dispatch(new C(t))},n.prototype.validateSplitSet=function(n){var t=this;n.period.split_sets.map(function(n){var e=[];n.splits?n.splits.map(function(n){n.name||e.push("Split name is required"),n.date_from||e.push("Split date is required"),n.date_to||e.push("Split date is required"),n.duration||e.push("Split duration is required")}):n.splits.length&&e.push("Split is required"),n.error={text:e,isBarErrorOpen:!0,isTableErrorOpen:!0},t.updateSplitSet(n)})},n.prototype.isError=function(n){var t=!1;return n.period.split_sets.map(function(n){n.error&&n.error.text&&n.error.text.length&&(t=!0)}),t},n}(),O=function(){function n(n,t,e){this.store=n,this.periodService=t,this.router=e,this.isBackArrowEnable=!0,this.isCreate=!1,this.subscription=new p.a}return n.prototype.ngOnInit=function(){var n=this;this.subscription=this.periodService.getPeriodStore().subscribe(function(t){n.period=t})},n.prototype.onClick=function(){console.log("click"),this.isCreate&&(this.periodService.validatePeriod(this.period),this.periodService.validateSplitSet(this.period),console.log(this.periodService.isError(this.period)),this.periodService.isError(this.period)||this.store.dispatch(new _(this.period))),this.link&&!this.isCreate&&this.router.navigate([this.link])},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n}(),w=e("yGQT"),D=i["\u0275crt"]({encapsulation:0,styles:[[".app-period-page-header[_ngcontent-%COMP%]   .app-period-page-header__button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:baseline}"]],data:{}});function I(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","d-inline-block back p-3 mr-3 app-cursor-pointer"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==i["\u0275nov"](n,1).onClick()&&l),l},null,null)),i["\u0275did"](1,16384,null,0,r.l,[r.k,r.a,[8,null],i.Renderer2,i.ElementRef],{routerLink:[0,"routerLink"]},null),(n()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","fas fa-chevron-left"]],null,null,null,null,null))],function(n,t){n(t,1,0,t.component.link)},null)}function E(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,8,"div",[["class","row no-gutters app-period-page-header pr-3 bg-white"]],null,null,null,null,null)),(n()(),i["\u0275eld"](1,0,null,null,4,"div",[["class","col-10"]],null,null,null,null,null)),(n()(),i["\u0275and"](16777216,null,null,1,null,I)),i["\u0275did"](3,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),i["\u0275eld"](4,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),i["\u0275ted"](5,null,["",""])),(n()(),i["\u0275eld"](6,0,null,null,2,"div",[["class","col-2 pt-2 app-period-page-header__button-container"]],null,null,null,null,null)),(n()(),i["\u0275eld"](7,0,null,null,1,"button",[["class","btn app-btn-outline-primary"],["type","button"]],null,[[null,"click"]],function(n,t,e){var i=!0;return"click"===t&&(i=!1!==n.component.onClick()&&i),i},null,null)),(n()(),i["\u0275ted"](8,null,[" "," "]))],function(n,t){n(t,3,0,t.component.isBackArrowEnable)},function(n,t){var e=t.component;n(t,5,0,e.titleHeader),n(t,8,0,e.buttonText)})}var R=e("JGVx"),k=e("DBKO"),T=function(){function n(n,t){var e=this;this.store=n,this.periodService=t,this.periods=[],this.subscription=new p.a,this.periodTableColumns=[{id:"name",title:"NAME",sort:!0,search:!0,width:"20%"},{id:"date_from",title:"PERIOD START",sort:!0,dateSearch:!0,width:"8%"},{id:"duration",title:"DURATION",sort:!0,search:!0,width:"8%"},{id:"date_to",title:"PERIOD END",sort:!0,dateSearch:!0,width:"8%"},{id:"type",title:"SPLIT TYPES",sort:!0,search:!0,width:"26%"},{width:"30%"}],this.splitsTableColumns=[{id:"name",title:"SPLITS",sort:!0},{id:"date_from",title:"SPLIT START",sort:!0},{id:"duration",title:"DURATION",sort:!0},{id:"date_to",title:"SPLIT END",sort:!0},{id:"type",title:"SPLIT TYPES",sort:!0},{}],this.subscription=this.periodService.getPeriodStore().subscribe(function(n){e.periods=n.periods})}return n.prototype.ngOnInit=function(){this.store.dispatch(new m)},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n}(),Y=i["\u0275crt"]({encapsulation:0,styles:[[".app-period[_ngcontent-%COMP%]   .app-period__content[_ngcontent-%COMP%]{margin:0 15px;padding:15px;background-color:#fff}.app-period[_ngcontent-%COMP%]   .app-period__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.app-period[_ngcontent-%COMP%]   .app-period__header[_ngcontent-%COMP%]   .app-period__header--text[_ngcontent-%COMP%]{font:800 13px/15px NunitoSans-Bold;text-transform:uppercase}.app-period[_ngcontent-%COMP%]   .app-period__table[_ngcontent-%COMP%]{width:100%}.app-period[_ngcontent-%COMP%]   .app-period__table[_ngcontent-%COMP%]   .app-period__cell--name[_ngcontent-%COMP%]{width:20%}.app-period[_ngcontent-%COMP%]   .app-period__table[_ngcontent-%COMP%]   .app-period__cell--date[_ngcontent-%COMP%], .app-period[_ngcontent-%COMP%]   .app-period__table[_ngcontent-%COMP%]   .app-period__cell--duration[_ngcontent-%COMP%]{width:8%}.app-period[_ngcontent-%COMP%]   .app-period__table[_ngcontent-%COMP%]   .app-period__cell--type[_ngcontent-%COMP%]{width:26%}.app-period[_ngcontent-%COMP%]   .app-period__table[_ngcontent-%COMP%]   .app-period__cell--edit[_ngcontent-%COMP%]{width:30%}.app-period[_ngcontent-%COMP%]   .app-period__split-sets[_ngcontent-%COMP%]{display:flex}"]],data:{}});function N(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,14,"tr",[["class","app-period__row"]],null,null,null,null,null)),(n()(),i["\u0275eld"](1,0,null,null,1,"td",[["class","app-period__cell app-period__cell--name"]],null,null,null,null,null)),(n()(),i["\u0275ted"](2,null,[" "," "])),(n()(),i["\u0275eld"](3,0,null,null,1,"td",[["class","app-period__cell app-period__cell--date"]],null,null,null,null,null)),(n()(),i["\u0275ted"](4,null,[" "," "])),(n()(),i["\u0275eld"](5,0,null,null,1,"td",[["class","app-period__cell app-period__cell--duration"]],null,null,null,null,null)),(n()(),i["\u0275ted"](6,null,[" "," "])),(n()(),i["\u0275eld"](7,0,null,null,1,"td",[["class","app-period__cell app-period__cell--date"]],null,null,null,null,null)),(n()(),i["\u0275ted"](8,null,[" "," "])),(n()(),i["\u0275eld"](9,0,null,null,1,"td",[["class","app-period__cell app-period__cell--type"]],null,null,null,null,null)),(n()(),i["\u0275ted"](10,null,[" "," "])),(n()(),i["\u0275eld"](11,0,null,null,1,"td",[["class","app-period__cell app-period__cell--edit"]],null,null,null,null,null)),(n()(),i["\u0275ted"](-1,null,[" edit delete hide/show "])),(n()(),i["\u0275eld"](13,0,null,null,1,"td",[["class","app-period__cell--split-sets"],["colspan","7"]],null,null,null,null,null)),(n()(),i["\u0275ted"](-1,null,[" test "]))],null,function(n,t){n(t,2,0,t.context.$implicit.name),n(t,4,0,t.context.$implicit.date_from),n(t,6,0,t.context.$implicit.duration),n(t,8,0,t.context.$implicit.date_to),n(t,10,0,t.context.$implicit.type)})}function L(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,19,"div",[["class","app-period"]],null,null,null,null,null)),(n()(),i["\u0275eld"](1,0,null,null,1,"app-period-page-header",[],null,null,null,E,D)),i["\u0275did"](2,245760,null,0,O,[w.n,M,r.k],{titleHeader:[0,"titleHeader"],isBackArrowEnable:[1,"isBackArrowEnable"],buttonText:[2,"buttonText"],link:[3,"link"]},null),(n()(),i["\u0275eld"](3,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),i["\u0275ted"](-1,null,["Periods"])),(n()(),i["\u0275eld"](5,0,null,null,2,"button",[["routerLink","/period/create"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==i["\u0275nov"](n,6).onClick()&&l),l},null,null)),i["\u0275did"](6,16384,null,0,r.l,[r.k,r.a,[8,null],i.Renderer2,i.ElementRef],{routerLink:[0,"routerLink"]},null),(n()(),i["\u0275ted"](-1,null,["Create Period"])),(n()(),i["\u0275eld"](8,0,null,null,11,"div",[["class","app-period__content"]],null,null,null,null,null)),(n()(),i["\u0275eld"](9,0,null,null,4,"div",[["class","app-period__header"]],null,null,null,null,null)),(n()(),i["\u0275eld"](10,0,null,null,1,"h2",[["class","app-period__header--text"]],null,null,null,null,null)),(n()(),i["\u0275ted"](-1,null,["List of Periods"])),(n()(),i["\u0275eld"](12,0,null,null,1,"div",[["class","app-period__header--search"]],null,null,null,null,null)),(n()(),i["\u0275ted"](-1,null,["Search"])),(n()(),i["\u0275eld"](14,0,null,null,5,"table",[["class","app-period__table"]],null,null,null,null,null)),(n()(),i["\u0275eld"](15,0,null,null,1,"thead",[["app-table-thead",""]],null,null,null,R.b,R.a)),i["\u0275did"](16,114688,null,0,k.a,[],{columns:[0,"columns"]},null),(n()(),i["\u0275eld"](17,0,null,null,2,"tbody",[],null,null,null,null,null)),(n()(),i["\u0275and"](16777216,null,null,1,null,N)),i["\u0275did"](19,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,t){var e=t.component;n(t,2,0,"Period Management",!1,"Add Period","/period/create"),n(t,6,0,"/period/create"),n(t,16,0,e.periodTableColumns),n(t,19,0,e.periods)},null)}function j(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,1,"app-period",[],null,null,null,L,Y)),i["\u0275did"](1,245760,null,0,T,[w.n,M],null,null)],function(n,t){n(t,1,0)},null)}var F=i["\u0275ccf"]("app-period",T,j,{},{},[]),V=e("LHBH"),A=e("gIcY"),q=e("RzGa"),z=e("p6zw"),B=e("bubl"),U=function(){function n(n,t){this.store=n,this.periodService=t,this.width="auto",this.subscription=new p.a}return n.prototype.ngOnInit=function(){var n=this;this.subscription=this.periodService.getPeriodStore().subscribe(function(t){n.period=t.period})},n.prototype.onChangePeriod=function(){this.store.dispatch(new h({name:this.period.name,date_from:this.period.date_from,date_to:this.period.date_to,duration:Math.ceil(u.duration(u(this.period.date_to).diff(u(this.period.date_from))).asDays()),split_sets:this.period.split_sets}))},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n}(),$=i["\u0275crt"]({encapsulation:0,styles:[[".app-period-duration-setting[_ngcontent-%COMP%]{background:#fff;padding:15px 10px}.app-period-duration-setting[_ngcontent-%COMP%]   .app-period-duration-setting__header[_ngcontent-%COMP%]{font:800 13px/15px NunitoSans-Bold;text-transform:uppercase;margin:0 0 15px}.app-period-duration-setting[_ngcontent-%COMP%]   .app-period-duration-setting__name[_ngcontent-%COMP%]{margin:0 0 10px}.app-period-duration-setting[_ngcontent-%COMP%]   .app-period-duration-setting__range[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.app-period-duration-setting[_ngcontent-%COMP%]   .app-period-duration-setting__error[_ngcontent-%COMP%]{color:red;margin:0}"]],data:{}});function H(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,1,"p",[["class","app-period-duration-setting__error"]],null,null,null,null,null)),(n()(),i["\u0275ted"](1,null,[" "," "]))],null,function(n,t){n(t,1,0,t.context.$implicit)})}function G(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-duration-setting__error"]],null,null,null,null,null)),(n()(),i["\u0275and"](16777216,null,null,1,null,H)),i["\u0275did"](2,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,2,0,t.component.period.error)},null)}function K(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,21,"div",[["class","app-period-duration-setting"]],null,null,null,null,null)),(n()(),i["\u0275eld"](1,0,null,null,1,"h2",[["class","app-period-duration-setting__header"]],null,null,null,null,null)),(n()(),i["\u0275ted"](-1,null,["Period Settings"])),(n()(),i["\u0275eld"](3,0,null,null,5,"div",[["class","app-period-duration-setting__name"]],null,null,null,null,null)),(n()(),i["\u0275eld"](4,0,null,null,4,"app-input-field",[["label","Period Name"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,t,e){var i=!0,l=n.component;return"ngModelChange"===t&&(i=!1!==(l.period.name=e)&&i),"ngModelChange"===t&&(i=!1!==l.onChangePeriod()&&i),i},V.b,V.a)),i["\u0275did"](5,671744,null,0,A.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,A.q,null,[A.u]),i["\u0275did"](7,16384,null,0,A.r,[[4,A.q]],null,null),i["\u0275did"](8,114688,null,0,q.a,[[6,A.q]],{label:[0,"label"],isInvalid:[1,"isInvalid"]},null),(n()(),i["\u0275eld"](9,0,null,null,10,"div",[["class","app-period-duration-setting__range"]],null,null,null,null,null)),(n()(),i["\u0275eld"](10,0,null,null,4,"app-datepicker-field",[["label","Period Start"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,t,e){var i=!0,l=n.component;return"ngModelChange"===t&&(i=!1!==(l.period.date_from=e)&&i),"ngModelChange"===t&&(i=!1!==l.onChangePeriod()&&i),i},z.b,z.a)),i["\u0275did"](11,671744,null,0,A.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,A.q,null,[A.u]),i["\u0275did"](13,16384,null,0,A.r,[[4,A.q]],null,null),i["\u0275did"](14,114688,null,0,B.a,[[6,A.q]],{label:[0,"label"],isInvalid:[1,"isInvalid"],width:[2,"width"]},null),(n()(),i["\u0275eld"](15,0,null,null,4,"app-datepicker-field",[["label","Period End"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,t,e){var i=!0,l=n.component;return"ngModelChange"===t&&(i=!1!==(l.period.date_to=e)&&i),"ngModelChange"===t&&(i=!1!==l.onChangePeriod()&&i),i},z.b,z.a)),i["\u0275did"](16,671744,null,0,A.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,A.q,null,[A.u]),i["\u0275did"](18,16384,null,0,A.r,[[4,A.q]],null,null),i["\u0275did"](19,114688,null,0,B.a,[[6,A.q]],{label:[0,"label"],isInvalid:[1,"isInvalid"],width:[2,"width"]},null),(n()(),i["\u0275and"](16777216,null,null,1,null,G)),i["\u0275did"](21,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,5,0,e.period.name),n(t,8,0,"Period Name",!e.period.name),n(t,11,0,e.period.date_from),n(t,14,0,"Period Start",e.period.date_from>e.period.date_to,"147px"),n(t,16,0,e.period.date_to),n(t,19,0,"Period End",e.period.date_from>e.period.date_to,"147px"),n(t,21,0,e.period.error)},function(n,t){n(t,4,0,i["\u0275nov"](t,7).ngClassUntouched,i["\u0275nov"](t,7).ngClassTouched,i["\u0275nov"](t,7).ngClassPristine,i["\u0275nov"](t,7).ngClassDirty,i["\u0275nov"](t,7).ngClassValid,i["\u0275nov"](t,7).ngClassInvalid,i["\u0275nov"](t,7).ngClassPending),n(t,10,0,i["\u0275nov"](t,13).ngClassUntouched,i["\u0275nov"](t,13).ngClassTouched,i["\u0275nov"](t,13).ngClassPristine,i["\u0275nov"](t,13).ngClassDirty,i["\u0275nov"](t,13).ngClassValid,i["\u0275nov"](t,13).ngClassInvalid,i["\u0275nov"](t,13).ngClassPending),n(t,15,0,i["\u0275nov"](t,18).ngClassUntouched,i["\u0275nov"](t,18).ngClassTouched,i["\u0275nov"](t,18).ngClassPristine,i["\u0275nov"](t,18).ngClassDirty,i["\u0275nov"](t,18).ngClassValid,i["\u0275nov"](t,18).ngClassInvalid,i["\u0275nov"](t,18).ngClassPending)})}var Z,W=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),X=i["\u0275crt"]({encapsulation:0,styles:[[".app-carets[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;border:1px solid gray;background:url(icon-carrets.aafb86db1d6d18d4707c.svg) 50%}.app-carets[_ngcontent-%COMP%]:active, .app-carets[_ngcontent-%COMP%]:hover{width:13px;height:13px;cursor:pointer}"]],data:{}});function J(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,0,"div",[["class","app-carets"]],null,null,null,null,null))],null,null)}try{Z="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(we){Z=!1}var Q,nn=function(){function n(n){this._platformId=n,this.isBrowser=this._platformId?Object(a.isPlatformBrowser)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Z)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}return n.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new n(Object(i.inject)(i.PLATFORM_ID,8))},token:n,providedIn:"root"}),n}();function tn(n){return function(){if(null==Q&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return Q=!0}}))}finally{Q=Q||!1}return Q}()?n:!!n.capture}function en(n){return null!=n&&""+n!="false"}function ln(n){return n instanceof i.ElementRef?n.nativeElement:n}var on=e("K9Ia"),rn=e("6blF"),an=e("p0ib"),pn=e("F/XL"),sn=e("bne5"),dn=(e("tHPV"),e("mrSG")),un=(e("h9Dq"),e("ad02"),e("T1DM")),cn=e("MGBS"),gn=e("zotm"),hn=function(){function n(n){this.durationSelector=n}return n.prototype.call=function(n,t){return t.subscribe(new _n(n,this.durationSelector))},n}(),_n=function(n){function t(t,e){var i=n.call(this,t)||this;return i.durationSelector=e,i.hasValue=!1,i}return dn.d(t,n),t.prototype._next=function(n){if(this.value=n,this.hasValue=!0,!this.throttled){var t=void 0;try{t=(0,this.durationSelector)(n)}catch(i){return this.destination.error(i)}var e=Object(gn.a)(this,t);!e||e.closed?this.clearThrottle():this.add(this.throttled=e)}},t.prototype.clearThrottle=function(){var n=this.value,t=this.hasValue,e=this.throttled;e&&(this.remove(e),this.throttled=null,e.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(n))},t.prototype.notifyNext=function(n,t,e,i){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(cn.a),fn=e("gI3B");e("VnD/");var mn=e("ny24"),vn=e("p0Sj"),Cn=(e("qyHS"),e("15JJ"));e("zo3G"),e("mZXl"),e("8g8A"),e("uMaO");var bn=function(){function n(n,t){var e=this;this._platform=n,t.runOutsideAngular(function(){e._change=n.isBrowser?Object(an.a)(Object(sn.a)(window,"resize"),Object(sn.a)(window,"orientationchange")):Object(pn.a)(),e._invalidateCache=e.change().subscribe(function(){return e._updateViewportSize()})})}return n.prototype.ngOnDestroy=function(){this._invalidateCache.unsubscribe()},n.prototype.getViewportSize=function(){this._viewportSize||this._updateViewportSize();var n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n},n.prototype.getViewportRect=function(){var n=this.getViewportScrollPosition(),t=this.getViewportSize(),e=t.width,i=t.height;return{top:n.top,left:n.left,bottom:n.top+i,right:n.left+e,height:i,width:e}},n.prototype.getViewportScrollPosition=function(){if(!this._platform.isBrowser)return{top:0,left:0};var n=document.documentElement,t=n.getBoundingClientRect();return{top:-t.top||document.body.scrollTop||window.scrollY||n.scrollTop||0,left:-t.left||document.body.scrollLeft||window.scrollX||n.scrollLeft||0}},n.prototype.change=function(n){return void 0===n&&(n=20),n>0?this._change.pipe((t=n,void 0===e&&(e=un.a),i=function(){return Object(fn.a)(t,e)},function(n){return n.lift(new hn(i))})):this._change;var t,e,i},n.prototype._updateViewportSize=function(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}},n.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new n(Object(i.inject)(nn),Object(i.inject)(i.NgZone))},token:n,providedIn:"root"}),n}(),Pn=e("t9fZ"),yn=e("xMyE");function xn(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Sn(n,t){var e=t?"":"none";xn(n.style,{touchAction:t?"":"none",webkitUserDrag:t?"":"none",webkitTapHighlightColor:t?"":"transparent",userSelect:e,msUserSelect:e,webkitUserSelect:e,MozUserSelect:e})}function Mn(n){var t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function On(n,t){return n.getPropertyValue(t).split(",").map(function(n){return n.trim()})}var wn=tn({passive:!0}),Dn=tn({passive:!1}),In=function(){function n(n,t,e,i,l,o){var r=this;this._config=t,this._document=e,this._ngZone=i,this._viewportRuler=l,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new on.a,this._moveEventSubscriptions=0,this._pointerMoveSubscription=p.a.EMPTY,this._pointerUpSubscription=p.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this._disabled=!1,this.beforeStarted=new on.a,this.started=new on.a,this.released=new on.a,this.ended=new on.a,this.entered=new on.a,this.exited=new on.a,this.dropped=new on.a,this.moved=new rn.a(function(n){var t=r._moveEvents.subscribe(n);return r._moveEventSubscriptions++,function(){t.unsubscribe(),r._moveEventSubscriptions--}}),this._pointerDown=function(n){if(r.beforeStarted.next(),r._handles.length){var t=r._handles.find(function(t){var e=n.target;return!!e&&(e===t||t.contains(e))});!t||r._disabledHandles.has(t)||r.disabled||r._initializeDragSequence(t,n)}else r.disabled||r._initializeDragSequence(r._rootElement,n)},this._pointerMove=function(n){if(r._hasStartedDragging){r._boundaryElement&&(r._previewRect&&(r._previewRect.width||r._previewRect.height)||(r._previewRect=(r._preview||r._rootElement).getBoundingClientRect()));var t=r._getConstrainedPointerPosition(n);if(r._hasMoved=!0,n.preventDefault(),r._updatePointerDirectionDelta(t),r._dropContainer)r._updateActiveDropContainer(t);else{var e=r._activeTransform;e.x=t.x-r._pickupPositionOnPage.x+r._passiveTransform.x,e.y=t.y-r._pickupPositionOnPage.y+r._passiveTransform.y;var i=En(e.x,e.y);r._rootElement.style.transform=r._initialTransform?i+" "+r._initialTransform:i,"undefined"!=typeof SVGElement&&r._rootElement instanceof SVGElement&&r._rootElement.setAttribute("transform","translate("+e.x+" "+e.y+")")}r._moveEventSubscriptions>0&&r._ngZone.run(function(){r._moveEvents.next({source:r,pointerPosition:t,event:n,delta:r._pointerDirectionDelta})})}else{var l=r._getPointerPositionOnPage(n);Math.abs(l.x-r._pickupPositionOnPage.x)+Math.abs(l.y-r._pickupPositionOnPage.y)>=r._config.dragStartThreshold&&(r._hasStartedDragging=!0,r._ngZone.run(function(){return r._startDragSequence(n)}))}},this._pointerUp=function(n){if(r._dragDropRegistry.isDragging(r)&&(r._removeSubscriptions(),r._dragDropRegistry.stopDragging(r),r._handles&&(r._rootElement.style.webkitTapHighlightColor=r._rootElementTapHighlight),r._hasStartedDragging)){if(r.released.next({source:r}),!r._dropContainer)return r._passiveTransform.x=r._activeTransform.x,r._passiveTransform.y=r._activeTransform.y,r._ngZone.run(function(){return r.ended.next({source:r})}),void r._dragDropRegistry.stopDragging(r);r._animatePreviewToPlaceholder().then(function(){r._cleanupDragArtifacts(n),r._dragDropRegistry.stopDragging(r)})}},this.withRootElement(n),o.registerDragItem(this)}return Object.defineProperty(n.prototype,"disabled",{get:function(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)},set:function(n){var t=en(n);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions())},enumerable:!0,configurable:!0}),n.prototype.getPlaceholderElement=function(){return this._placeholder},n.prototype.getRootElement=function(){return this._rootElement},n.prototype.withHandles=function(n){return this._handles=n.map(function(n){return ln(n)}),this._handles.forEach(function(n){return Sn(n,!1)}),this._toggleNativeDragInteractions(),this},n.prototype.withPreviewTemplate=function(n){return this._previewTemplate=n,this},n.prototype.withPlaceholderTemplate=function(n){return this._placeholderTemplate=n,this},n.prototype.withRootElement=function(n){var t=ln(n);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),t.addEventListener("mousedown",this._pointerDown,Dn),t.addEventListener("touchstart",this._pointerDown,wn),this._initialTransform=void 0,this._rootElement=t),this},n.prototype.withBoundaryElement=function(n){return this._boundaryElement=n?ln(n):null,this},n.prototype.dispose=function(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&Tn(this._rootElement),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._nextSibling=null},n.prototype.isDragging=function(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)},n.prototype.reset=function(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}},n.prototype.disableHandle=function(n){this._handles.indexOf(n)>-1&&this._disabledHandles.add(n)},n.prototype.enableHandle=function(n){this._disabledHandles.delete(n)},n.prototype.withDirection=function(n){return this._direction=n,this},n.prototype._withDropContainer=function(n){this._dropContainer=n},n.prototype._removeSubscriptions=function(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe()},n.prototype._destroyPreview=function(){this._preview&&Tn(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null},n.prototype._destroyPlaceholder=function(){this._placeholder&&Tn(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null},n.prototype._startDragSequence=function(n){if(this.started.next({source:this}),Yn(n)&&(this._lastTouchEventTime=Date.now()),this._dropContainer){var t=this._rootElement;this._nextSibling=t.nextSibling;var e=this._preview=this._createPreviewElement(),i=this._placeholder=this._createPlaceholderElement();t.style.display="none",this._document.body.appendChild(t.parentNode.replaceChild(i,t)),this._document.body.appendChild(e),this._dropContainer.start()}},n.prototype._initializeDragSequence=function(n,t){t.stopPropagation();var e=this.isDragging(),i=Yn(t),l=!i&&0!==t.button,o=this._rootElement,r=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(t.target&&t.target.draggable&&"mousedown"===t.type&&t.preventDefault(),!(e||l||r)){null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._handles.length&&(this._rootElementTapHighlight=o.style.webkitTapHighlightColor,o.style.webkitTapHighlightColor="transparent"),this._toggleNativeDragInteractions(),this._hasStartedDragging=this._hasMoved=!1,this._initialContainer=this._dropContainer,this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollPosition=this._viewportRuler.getViewportScrollPosition(),this._boundaryElement&&(this._boundaryRect=this._boundaryElement.getBoundingClientRect()),this._pickupPositionInElement=this._previewTemplate&&this._previewTemplate.template?{x:0,y:0}:this._getPointerPositionInElement(n,t);var a=this._pickupPositionOnPage=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:a.x,y:a.y},this._dragDropRegistry.startDragging(this,t)}},n.prototype._cleanupDragArtifacts=function(n){var t=this;this._rootElement.style.display="",this._nextSibling?this._nextSibling.parentNode.insertBefore(this._rootElement,this._nextSibling):this._initialContainer.element.appendChild(this._rootElement),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(function(){var e=t._dropContainer,i=e.getItemIndex(t),l=t._getPointerPositionOnPage(n),o=e._isOverContainer(l.x,l.y);t.ended.next({source:t}),t.dropped.next({item:t,currentIndex:i,previousIndex:t._initialContainer.getItemIndex(t),container:e,previousContainer:t._initialContainer,isPointerOverContainer:o}),e.drop(t,i,t._initialContainer,o),t._dropContainer=t._initialContainer})},n.prototype._updateActiveDropContainer=function(n){var t=this,e=n.x,i=n.y,l=this._dropContainer._getSiblingContainerFromPosition(this,e,i)||this._initialContainer._getSiblingContainerFromPosition(this,e,i);!l&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,i)&&(l=this._initialContainer),l&&l!==this._dropContainer&&this._ngZone.run(function(){t.exited.next({item:t,container:t._dropContainer}),t._dropContainer.exit(t),t.entered.next({item:t,container:l}),t._dropContainer=l,t._dropContainer.enter(t,e,i)}),this._dropContainer._sortItem(this,e,i,this._pointerDirectionDelta),this._preview.style.transform=En(e-this._pickupPositionInElement.x,i-this._pickupPositionInElement.y)},n.prototype._createPreviewElement=function(){var n,t=this._previewTemplate,e=t?t.template:null;if(e){var i=t.viewContainer.createEmbeddedView(e,t.context);n=i.rootNodes[0],this._previewRef=i,n.style.transform=En(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{var l=this._rootElement,o=l.getBoundingClientRect();(n=Rn(l)).style.width=o.width+"px",n.style.height=o.height+"px",n.style.transform=En(o.left,o.top)}return xn(n.style,{pointerEvents:"none",position:"fixed",top:"0",left:"0",zIndex:"1000"}),Sn(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("dir",this._direction),n},n.prototype._animatePreviewToPlaceholder=function(){var n=this;if(!this._hasMoved)return Promise.resolve();var t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=En(t.left,t.top);var e=function(n){var t=getComputedStyle(n),e=On(t,"transition-property"),i=e.find(function(n){return"transform"===n||"all"===n});if(!i)return 0;var l=e.indexOf(i),o=On(t,"transition-duration"),r=On(t,"transition-delay");return Mn(o[l])+Mn(r[l])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(function(){return new Promise(function(t){var i=function(e){(!e||e.target===n._preview&&"transform"===e.propertyName)&&(n._preview.removeEventListener("transitionend",i),t(),clearTimeout(l))},l=setTimeout(i,1.5*e);n._preview.addEventListener("transitionend",i)})})},n.prototype._createPlaceholderElement=function(){var n,t=this._placeholderTemplate,e=t?t.template:null;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),n=this._placeholderRef.rootNodes[0]):n=Rn(this._rootElement),n.classList.add("cdk-drag-placeholder"),n},n.prototype._getPointerPositionInElement=function(n,t){var e=this._rootElement.getBoundingClientRect(),i=n===this._rootElement?null:n,l=i?i.getBoundingClientRect():e,o=Yn(t)?t.targetTouches[0]:t;return{x:l.left-e.left+(o.pageX-l.left-this._scrollPosition.left),y:l.top-e.top+(o.pageY-l.top-this._scrollPosition.top)}},n.prototype._getPointerPositionOnPage=function(n){var t=Yn(n)?n.touches[0]||n.changedTouches[0]:n;return{x:t.pageX-this._scrollPosition.left,y:t.pageY-this._scrollPosition.top}},n.prototype._getConstrainedPointerPosition=function(n){var t=this._getPointerPositionOnPage(n),e=this._dropContainer?this._dropContainer.lockAxis:null;if("x"===this.lockAxis||"x"===e?t.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==e||(t.x=this._pickupPositionOnPage.x),this._boundaryRect){var i=this._pickupPositionInElement,l=i.x,o=i.y,r=this._boundaryRect,a=this._previewRect,p=r.top+o,s=r.bottom-(a.height-o);t.x=kn(t.x,r.left+l,r.right-(a.width-l)),t.y=kn(t.y,p,s)}return t},n.prototype._updatePointerDirectionDelta=function(n){var t=n.x,e=n.y,i=this._pointerDirectionDelta,l=this._pointerPositionAtLastDirectionChange,o=Math.abs(t-l.x),r=Math.abs(e-l.y);return o>this._config.pointerDirectionChangeThreshold&&(i.x=t>l.x?1:-1,l.x=t),r>this._config.pointerDirectionChangeThreshold&&(i.y=e>l.y?1:-1,l.y=e),i},n.prototype._toggleNativeDragInteractions=function(){if(this._rootElement&&this._handles){var n=this.disabled||this._handles.length>0;n!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=n,Sn(this._rootElement,n))}},n.prototype._removeRootElementListeners=function(n){n.removeEventListener("mousedown",this._pointerDown,Dn),n.removeEventListener("touchstart",this._pointerDown,wn)},n}();function En(n,t){return"translate3d("+Math.round(n)+"px, "+Math.round(t)+"px, 0)"}function Rn(n){var t=n.cloneNode(!0);return t.removeAttribute("id"),t}function kn(n,t,e){return Math.max(t,Math.min(e,n))}function Tn(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function Yn(n){return n.type.startsWith("touch")}function Nn(n,t){return Math.max(0,Math.min(t,n))}var Ln=0,jn=function(){function n(n,t,e){this._dragDropRegistry=t,this.id="cdk-drop-list-ref-"+Ln++,this.disabled=!1,this.enterPredicate=function(){return!0},this.beforeStarted=new on.a,this.entered=new on.a,this.exited=new on.a,this.dropped=new on.a,this.sorted=new on.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",t.registerDropContainer(this),this._document=e,this.element=n instanceof i.ElementRef?n.nativeElement:n}return n.prototype.dispose=function(){this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._dragDropRegistry.removeDropContainer(this)},n.prototype.isDragging=function(){return this._isDragging},n.prototype.start=function(){var n=this;this.beforeStarted.next(),this._isDragging=!0,this._activeDraggables=this._draggables.slice(),this._cacheOwnPosition(),this._cacheItemPositions(),this._siblings.forEach(function(t){return t._startReceiving(n)})},n.prototype.enter=function(n,t,e){this.entered.next({item:n,container:this}),this.start();var i=this._getItemIndexFromPointerPosition(n,t,e),l=this._activeDraggables.indexOf(n),o=this._activeDraggables[i],r=n.getPlaceholderElement();if(l>-1&&this._activeDraggables.splice(l,1),o&&!this._dragDropRegistry.isDragging(o)){var a=o.getRootElement();a.parentElement.insertBefore(r,a),this._activeDraggables.splice(i,0,n)}else this.element.appendChild(r),this._activeDraggables.push(n);r.style.transform="",this._cacheItemPositions()},n.prototype.exit=function(n){this._reset(),this.exited.next({item:n,container:this})},n.prototype.drop=function(n,t,e,i){this._reset(),this.dropped.next({item:n,currentIndex:t,previousIndex:e.getItemIndex(n),container:this,previousContainer:e,isPointerOverContainer:i})},n.prototype.withItems=function(n){var t=this;return this._draggables=n,n.forEach(function(n){return n._withDropContainer(t)}),this},n.prototype.withDirection=function(n){return this._direction=n,this},n.prototype.connectedTo=function(n){return this._siblings=n.slice(),this},n.prototype.withOrientation=function(n){return this._orientation=n,this},n.prototype.getItemIndex=function(n){return this._isDragging?Vn("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,function(t){return t.drag===n}):this._draggables.indexOf(n)},n.prototype.isReceiving=function(){return this._activeSiblings.size>0},n.prototype._sortItem=function(n,t,e,i){if(this._isPointerNearDropContainer(t,e)){var l=this._itemPositions,o=this._getItemIndexFromPointerPosition(n,t,e,i);if(!(-1===o&&l.length>0)){var r="horizontal"===this._orientation,a=Vn(l,function(t){return t.drag===n}),p=l[o],s=l[a].clientRect,d=p.clientRect,u=a>o?1:-1;this._previousSwap.drag=p.drag,this._previousSwap.delta=r?i.x:i.y;var c=this._getItemOffsetPx(s,d,u),g=this._getSiblingOffsetPx(a,l,u),h=l.slice();!function(n,t,e){var i=Nn(a,n.length-1),l=Nn(e,n.length-1);if(i!==l){for(var o=n[i],r=l<i?-1:1,p=i;p!==l;p+=r)n[p]=n[p+r];n[l]=o}}(l,0,o),this.sorted.next({previousIndex:a,currentIndex:o,container:this,item:n}),l.forEach(function(t,e){if(h[e]!==t){var i=t.drag===n,l=i?c:g,o=i?n.getPlaceholderElement():t.drag.getRootElement();t.offset+=l,r?(o.style.transform="translate3d("+Math.round(t.offset)+"px, 0, 0)",Fn(t.clientRect,0,l)):(o.style.transform="translate3d(0, "+Math.round(t.offset)+"px, 0)",Fn(t.clientRect,l,0))}})}}},n.prototype._cacheOwnPosition=function(){this._clientRect=this.element.getBoundingClientRect()},n.prototype._cacheItemPositions=function(){var n=this,t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(function(t){var e=(n._dragDropRegistry.isDragging(t)?t.getPlaceholderElement():t.getRootElement()).getBoundingClientRect();return{drag:t,offset:0,clientRect:{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}}).sort(function(n,e){return t?n.clientRect.left-e.clientRect.left:n.clientRect.top-e.clientRect.top})},n.prototype._reset=function(){var n=this;this._isDragging=!1,this._activeDraggables.forEach(function(n){return n.getRootElement().style.transform=""}),this._siblings.forEach(function(t){return t._stopReceiving(n)}),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0},n.prototype._getSiblingOffsetPx=function(n,t,e){var i="horizontal"===this._orientation,l=t[n].clientRect,o=t[n+-1*e],r=l[i?"width":"height"]*e;if(o){var a=i?"left":"top",p=i?"right":"bottom";-1===e?r-=o.clientRect[a]-l[p]:r+=l[a]-o.clientRect[p]}return r},n.prototype._isPointerNearDropContainer=function(n,t){var e=this._clientRect,i=.05*e.width,l=.05*e.height;return t>e.top-l&&t<e.bottom+l&&n>e.left-i&&n<e.right+i},n.prototype._getItemOffsetPx=function(n,t,e){var i="horizontal"===this._orientation,l=i?t.left-n.left:t.top-n.top;return-1===e&&(l+=i?t.width-n.width:t.height-n.height),l},n.prototype._getItemIndexFromPointerPosition=function(n,t,e,i){var l=this,o="horizontal"===this._orientation;return Vn(this._itemPositions,function(r,a,p){var s=r.drag,d=r.clientRect;return s===n?p.length<2:(!i||s!==l._previousSwap.drag||(o?i.x:i.y)!==l._previousSwap.delta)&&(o?t>=Math.floor(d.left)&&t<=Math.floor(d.right):e>=Math.floor(d.top)&&e<=Math.floor(d.bottom))})},n.prototype._isOverContainer=function(n,t){return An(this._clientRect,n,t)},n.prototype._getSiblingContainerFromPosition=function(n,t,e){return this._siblings.find(function(i){return i._canReceive(n,t,e)})},n.prototype._canReceive=function(n,t,e){if(!this.enterPredicate(n,this)||!An(this._clientRect,t,e))return!1;var i=this._document.elementFromPoint(t,e);return!!i&&(i===this.element||this.element.contains(i))},n.prototype._startReceiving=function(n){var t=this._activeSiblings;t.has(n)||(t.add(n),this._cacheOwnPosition())},n.prototype._stopReceiving=function(n){this._activeSiblings.delete(n)},n}();function Fn(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function Vn(n,t){for(var e=0;e<n.length;e++)if(t(n[e],e,n))return e;return-1}function An(n,t,e){return e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right}var qn=tn({passive:!1,capture:!0}),zn=function(){function n(n,t){var e=this;this._ngZone=n,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new on.a,this.pointerUp=new on.a,this._preventDefaultWhileDragging=function(n){e._activeDragInstances.size&&n.preventDefault()},this._document=t}return n.prototype.registerDropContainer=function(n){if(!this._dropInstances.has(n)){if(this.getDropContainer(n.id))throw Error('Drop instance with id "'+n.id+'" has already been registered.');this._dropInstances.add(n)}},n.prototype.registerDragItem=function(n){var t=this;this._dragInstances.add(n),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(function(){t._document.addEventListener("touchmove",t._preventDefaultWhileDragging,qn)})},n.prototype.removeDropContainer=function(n){this._dropInstances.delete(n)},n.prototype.removeDragItem=function(n){this._dragInstances.delete(n),this.stopDragging(n),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,qn)},n.prototype.startDragging=function(n,t){var e=this;if(this._activeDragInstances.add(n),1===this._activeDragInstances.size){var i=t.type.startsWith("touch"),l=i?"touchend":"mouseup";this._globalListeners.set(i?"touchmove":"mousemove",{handler:function(n){return e.pointerMove.next(n)},options:qn}).set(l,{handler:function(n){return e.pointerUp.next(n)},options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:qn}),i||this._globalListeners.set("wheel",{handler:this._preventDefaultWhileDragging,options:qn}),this._ngZone.runOutsideAngular(function(){e._globalListeners.forEach(function(n,t){e._document.addEventListener(t,n.handler,n.options)})})}},n.prototype.stopDragging=function(n){this._activeDragInstances.delete(n),0===this._activeDragInstances.size&&this._clearGlobalListeners()},n.prototype.isDragging=function(n){return this._activeDragInstances.has(n)},n.prototype.getDropContainer=function(n){return Array.from(this._dropInstances).find(function(t){return t.id===n})},n.prototype.ngOnDestroy=function(){var n=this;this._dragInstances.forEach(function(t){return n.removeDragItem(t)}),this._dropInstances.forEach(function(t){return n.removeDropContainer(t)}),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()},n.prototype._clearGlobalListeners=function(){var n=this;this._globalListeners.forEach(function(t,e){n._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()},n.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new n(Object(i.inject)(i.NgZone),Object(i.inject)(a.DOCUMENT))},token:n,providedIn:"root"}),n}(),Bn={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Un=function(){function n(n,t,e,i){this._document=n,this._ngZone=t,this._viewportRuler=e,this._dragDropRegistry=i}return n.prototype.createDrag=function(n,t){return void 0===t&&(t=Bn),new In(n,t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)},n.prototype.createDropList=function(n){return new jn(n,this._dragDropRegistry,this._document)},n.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new n(Object(i.inject)(a.DOCUMENT),Object(i.inject)(i.NgZone),Object(i.inject)(bn),Object(i.inject)(zn))},token:n,providedIn:"root"}),n}(),$n=new i.InjectionToken("CDK_DROP_LIST"),Hn=new i.InjectionToken("CDK_DRAG_PARENT"),Gn=function(){function n(n,t){this.element=n,this._stateChanges=new on.a,this._disabled=!1,this._parentDrag=t,Sn(n.nativeElement,!1)}return Object.defineProperty(n.prototype,"disabled",{get:function(){return this._disabled},set:function(n){this._disabled=en(n),this._stateChanges.next(this)},enumerable:!0,configurable:!0}),n.prototype.ngOnDestroy=function(){this._stateChanges.complete()},n}(),Kn=new i.InjectionToken("CDK_DRAG_CONFIG",{providedIn:"root",factory:function(){return{dragStartThreshold:5,pointerDirectionChangeThreshold:5}}}),Zn=function(){function n(n,t,e,l,o,r,a,p,s,u,c){var g=this;this.element=n,this.dropContainer=t,this._document=e,this._ngZone=l,this._viewContainerRef=o,this._dir=s,this._changeDetectorRef=c,this._destroyed=new on.a,this._disabled=!1,this.started=new i.EventEmitter,this.released=new i.EventEmitter,this.ended=new i.EventEmitter,this.entered=new i.EventEmitter,this.exited=new i.EventEmitter,this.dropped=new i.EventEmitter,this.moved=new rn.a(function(n){var t=g._dragRef.moved.pipe(Object(d.a)(function(n){return{source:g,pointerPosition:n.pointerPosition,event:n.event,delta:n.delta}})).subscribe(n);return function(){t.unsubscribe()}}),this._dragRef=u?u.createDrag(n,p):new In(n,p,e,l,r,a),this._dragRef.data=this,this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}return Object.defineProperty(n.prototype,"disabled",{get:function(){return this._disabled||this.dropContainer&&this.dropContainer.disabled},set:function(n){this._disabled=en(n),this._dragRef.disabled=this._disabled},enumerable:!0,configurable:!0}),n.prototype.getPlaceholderElement=function(){return this._dragRef.getPlaceholderElement()},n.prototype.getRootElement=function(){return this._dragRef.getRootElement()},n.prototype.reset=function(){this._dragRef.reset()},n.prototype.ngAfterViewInit=function(){var n=this;this._ngZone.onStable.asObservable().pipe(Object(Pn.a)(1),Object(mn.a)(this._destroyed)).subscribe(function(){n._updateRootElement(),n._handles.changes.pipe(Object(vn.a)(n._handles),Object(yn.a)(function(t){var e=t.filter(function(t){return t._parentDrag===n}).map(function(n){return n.element});n._dragRef.withHandles(e)}),Object(Cn.a)(function(n){return an.a.apply(void 0,n.map(function(n){return n._stateChanges}))}),Object(mn.a)(n._destroyed)).subscribe(function(t){var e=n._dragRef,i=t.element.nativeElement;t.disabled?e.disableHandle(i):e.enableHandle(i)})})},n.prototype.ngOnChanges=function(n){var t=n.rootElementSelector;t&&!t.firstChange&&this._updateRootElement()},n.prototype.ngOnDestroy=function(){this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()},n.prototype._updateRootElement=function(){var n=this.element.nativeElement,t=this.rootElementSelector?Wn(n,this.rootElementSelector):n;if(t&&t.nodeType!==this._document.ELEMENT_NODE)throw Error('cdkDrag must be attached to an element node. Currently attached to "'+t.nodeName+'".');this._dragRef.withRootElement(t||n)},n.prototype._getBoundaryElement=function(){var n=this.boundaryElementSelector;return n?Wn(this.element.nativeElement,n):null},n.prototype._syncInputs=function(n){var t=this;n.beforeStarted.subscribe(function(){if(!n.isDragging()){var e=t._dir,i=t._placeholderTemplate?{template:t._placeholderTemplate.templateRef,context:t._placeholderTemplate.data,viewContainer:t._viewContainerRef}:null,l=t._previewTemplate?{template:t._previewTemplate.templateRef,context:t._previewTemplate.data,viewContainer:t._viewContainerRef}:null;n.disabled=t.disabled,n.lockAxis=t.lockAxis,n.withBoundaryElement(t._getBoundaryElement()).withPlaceholderTemplate(i).withPreviewTemplate(l),e&&n.withDirection(e.value)}})},n.prototype._handleEvents=function(n){var t=this;n.started.subscribe(function(){t.started.emit({source:t}),t._changeDetectorRef&&t._changeDetectorRef.markForCheck()}),n.released.subscribe(function(){t.released.emit({source:t})}),n.ended.subscribe(function(){t.ended.emit({source:t}),t._changeDetectorRef&&t._changeDetectorRef.markForCheck()}),n.entered.subscribe(function(n){t.entered.emit({container:n.container.data,item:t})}),n.exited.subscribe(function(n){t.exited.emit({container:n.container.data,item:t})}),n.dropped.subscribe(function(n){t.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,isPointerOverContainer:n.isPointerOverContainer,item:t})})},n}();function Wn(n,t){for(var e=n.parentElement;e;){if(e.matches?e.matches(t):e.msMatchesSelector(t))return e;e=e.parentElement}return null}var Xn=function(){function n(){this._items=new Set,this._disabled=!1}return Object.defineProperty(n.prototype,"disabled",{get:function(){return this._disabled},set:function(n){this._disabled=en(n)},enumerable:!0,configurable:!0}),n.prototype.ngOnDestroy=function(){this._items.clear()},n}(),Jn=0,Qn=function(){function n(t,e,l,o,r,a,p){var s=this;this.element=t,this._changeDetectorRef=l,this._dir=o,this._group=r,this._destroyed=new on.a,this.connectedTo=[],this.orientation="vertical",this.id="cdk-drop-list-"+Jn++,this._disabled=!1,this.enterPredicate=function(){return!0},this.dropped=new i.EventEmitter,this.entered=new i.EventEmitter,this.exited=new i.EventEmitter,this.sorted=new i.EventEmitter,this._dropListRef=p?p.createDropList(t):new jn(t,e,a||document),this._dropListRef.data=this,this._dropListRef.enterPredicate=function(n,t){return s.enterPredicate(n.data,t.data)},this._syncInputs(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),r&&r._items.add(this)}return Object.defineProperty(n.prototype,"disabled",{get:function(){return this._disabled||!!this._group&&this._group.disabled},set:function(n){this._disabled=en(n)},enumerable:!0,configurable:!0}),n.prototype.ngAfterContentInit=function(){var n=this;this._draggables.changes.pipe(Object(vn.a)(this._draggables),Object(mn.a)(this._destroyed)).subscribe(function(t){n._dropListRef.withItems(t.map(function(n){return n._dragRef}))})},n.prototype.ngOnDestroy=function(){var t=n._dropLists.indexOf(this);t>-1&&n._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()},n.prototype.start=function(){this._dropListRef.start()},n.prototype.drop=function(n,t,e,i){this._dropListRef.drop(n._dragRef,t,e._dropListRef,i)},n.prototype.enter=function(n,t,e){this._dropListRef.enter(n._dragRef,t,e)},n.prototype.exit=function(n){this._dropListRef.exit(n._dragRef)},n.prototype.getItemIndex=function(n){return this._dropListRef.getItemIndex(n._dragRef)},n.prototype._sortItem=function(n,t,e,i){return this._dropListRef._sortItem(n._dragRef,t,e,i)},n.prototype._getSiblingContainerFromPosition=function(n,t,e){var i=this._dropListRef._getSiblingContainerFromPosition(n._dragRef,t,e);return i?i.data:null},n.prototype._isOverContainer=function(n,t){return this._dropListRef._isOverContainer(n,t)},n.prototype._syncInputs=function(t){var e=this;this._dir&&this._dir.change.pipe(Object(vn.a)(this._dir.value),Object(mn.a)(this._destroyed)).subscribe(function(n){return t.withDirection(n)}),t.beforeStarted.subscribe(function(){var i,l=(i=e.connectedTo,Array.isArray(i)?i:[i]).map(function(t){return"string"==typeof t?n._dropLists.find(function(n){return n.id===t}):t});e._group&&e._group._items.forEach(function(n){-1===l.indexOf(n)&&l.push(n)}),t.lockAxis=e.lockAxis,t.connectedTo(l.filter(function(n){return n&&n!==e}).map(function(n){return n._dropListRef})).withOrientation(e.orientation)})},n.prototype._handleEvents=function(n){var t=this;n.beforeStarted.subscribe(function(){t._changeDetectorRef.markForCheck()}),n.entered.subscribe(function(n){t.entered.emit({container:t,item:n.item.data})}),n.exited.subscribe(function(n){t.exited.emit({container:t,item:n.item.data})}),n.sorted.subscribe(function(n){t.sorted.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,container:t,item:n.item.data})}),n.dropped.subscribe(function(n){t.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,item:n.item.data,isPointerOverContainer:n.isPointerOverContainer}),t._changeDetectorRef.markForCheck()})},n._dropLists=[],n}(),nt=function(){return function(){}}(),tt=function(){function n(n,t){this.store=n,this.periodService=t,this.closeInfo=new i.EventEmitter,this.subscription=new p.a}return n.prototype.ngOnInit=function(){var n=this;this.subscription=this.periodService.getPeriodStore().subscribe(function(t){n.activeSplitSet=t.period.split_sets.find(function(t){return t.split_set_id===n.splitSetId}),n.activeSplitSet&&(n.activeSplit=n.activeSplitSet.splits.find(function(t){return t.split_id===n.splitId}))})},n.prototype.onCloseInfo=function(){this.closeInfo.emit(this.periodScaleItemId)},n.prototype.onChangeSplitDate=function(n){this.periodService.changeSplitDate(this.activeSplitSet,this.activeSplit,this.splitId,n)},n.prototype.onDeleteClick=function(){this.periodService.deleteSplit(this.activeSplitSet,this.splitId)},n.prototype.onCopyClick=function(){var n=this,t=this.activeSplitSet.splits.indexOf(this.activeSplitSet.splits.find(function(t){return t.split_id===n.splitId})),e=this.activeSplitSet.splits[t];this.activeSplitSet.splits.splice(t,0,{name:e.name,date_from:u(e.date_to,"DD-MM-YYYY").add(1,"days").toDate(),date_to:u(e.date_to,"DD-MM-YYYY").add(1+e.duration,"days").toDate(),split_id:this.activeSplitSet.splits.slice(-1).pop().split_id+1,duration:e.duration}),this.activeSplitSet.splits.map(function(e){if(n.activeSplitSet.splits.indexOf(e)>t+1){var i=n.activeSplitSet.splits[n.activeSplitSet.splits.indexOf(e)-1];e.date_from=u(i.date_to,"DD-MM-YYYY").add(1,"days").toDate(),e.date_from=u(i.date_to,"DD-MM-YYYY").add(1+e.duration,"days").toDate()}}),this.periodService.updateSplitSet(this.activeSplitSet)},n.prototype.onChangeSplitDuration=function(){this.periodService.changeSplitDuration(this.activeSplitSet,this.splitId)},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n}(),et=i["\u0275crt"]({encapsulation:0,styles:[['.app-period-split-settings[_ngcontent-%COMP%]{width:310px;height:95px;border-radius:5px;background-color:#50597a}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:35px;padding:10px 10px 10px 15px;border-radius:5px 5px 0 0;color:#fff;background-color:#36405f}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__header[_ngcontent-%COMP%]   .app-period-split-settings__header--text[_ngcontent-%COMP%]{font:800 11px/15px NunitoSans-Bold;text-transform:uppercase}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__header[_ngcontent-%COMP%]   .app-period-split-settings__header--cross[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]{display:flex;padding:10px 15px}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__col[_ngcontent-%COMP%]{width:57px}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__col--duration[_ngcontent-%COMP%]{width:63px}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__col--duration[_ngcontent-%COMP%]   .app-period-split-settings__duration[_ngcontent-%COMP%]{display:flex}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__col--duration[_ngcontent-%COMP%]   .app-period-split-settings__duration[_ngcontent-%COMP%]   .app-period-split-settings__duration--field[_ngcontent-%COMP%]{width:41px;height:22px;padding:5px;border:1px solid #b6b6b6;border-radius:3px;font-size:12px}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__col--duration[_ngcontent-%COMP%]   .app-period-split-settings__duration[_ngcontent-%COMP%]   .app-period-split-settings__duration--text[_ngcontent-%COMP%]{margin:auto 0 auto 5px;font-size:12px;line-height:15px;color:#fff}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__cols[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:222px;padding:0 15px 0 0;position:relative}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__cols[_ngcontent-%COMP%]   .app-period-split-settings__col--text[_ngcontent-%COMP%]{margin:0 0 4px;font:400 9px/11px NunitoSans-Bold;color:#fff;text-transform:uppercase}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__cols[_ngcontent-%COMP%]   .app-period-split-settings__duration[_ngcontent-%COMP%]{display:flex}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__cols[_ngcontent-%COMP%]:after{position:absolute;content:"";width:1px;height:32px;top:9px;right:1px;background-color:#ebeeff}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__buttons[_ngcontent-%COMP%]{display:flex;flex-grow:1;justify-content:space-between;align-items:center;padding:0 0 0 15px;color:#fff}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__buttons-ico[_ngcontent-%COMP%]{font-size:12px}.app-period-split-settings[_ngcontent-%COMP%]   .app-period-split-settings__content[_ngcontent-%COMP%]   .app-period-split-settings__buttons-ico[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7}']],data:{}});function it(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,38,"div",[["class","app-period-split-settings"]],null,null,null,null,null)),(n()(),i["\u0275eld"](1,0,null,null,3,"div",[["class","app-period-split-settings__header"]],null,null,null,null,null)),(n()(),i["\u0275eld"](2,0,null,null,1,"h3",[["class","app-period-split-settings__header--text"]],null,null,null,null,null)),(n()(),i["\u0275ted"](-1,null,["Split Settings"])),(n()(),i["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-times app-period-split-settings__header--cross"]],null,[[null,"click"]],function(n,t,e){var i=!0;return"click"===t&&(i=!1!==n.component.onCloseInfo()&&i),i},null,null)),(n()(),i["\u0275eld"](5,0,null,null,33,"div",[["class","app-period-split-settings__content"]],null,null,null,null,null)),(n()(),i["\u0275eld"](6,0,null,null,29,"div",[["class","app-period-split-settings__cols"]],null,null,null,null,null)),(n()(),i["\u0275eld"](7,0,null,null,7,"div",[["class","app-period-split-settings__col"]],null,null,null,null,null)),(n()(),i["\u0275eld"](8,0,null,null,1,"p",[["class","app-period-split-settings__col--text"]],null,null,null,null,null)),(n()(),i["\u0275ted"](-1,null,["Starts"])),(n()(),i["\u0275eld"](10,0,null,null,4,"app-datepicker-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,t,e){var i=!0,l=n.component;return"ngModelChange"===t&&(i=!1!==(l.activeSplit.date_from=e)&&i),"ngModelChange"===t&&(i=!1!==l.onChangeSplitDate("dateFrom")&&i),i},z.b,z.a)),i["\u0275did"](11,671744,null,0,A.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,A.q,null,[A.u]),i["\u0275did"](13,16384,null,0,A.r,[[4,A.q]],null,null),i["\u0275did"](14,114688,null,0,B.a,[[6,A.q]],{isInvalid:[0,"isInvalid"],width:[1,"width"],dateInputFormat:[2,"dateInputFormat"],style:[3,"style"]},null),(n()(),i["\u0275eld"](15,0,null,null,12,"div",[["class","app-period-split-settings__col--duration"]],null,null,null,null,null)),(n()(),i["\u0275eld"](16,0,null,null,1,"p",[["class","app-period-split-settings__col--text"]],null,null,null,null,null)),(n()(),i["\u0275ted"](-1,null,["Duration"])),(n()(),i["\u0275eld"](18,0,null,null,9,"div",[["class","app-period-split-settings__duration"]],null,null,null,null,null)),(n()(),i["\u0275eld"](19,0,[["input",1]],null,6,"input",[["class","app-period-split-settings__duration--field"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,t,e){var l=!0,o=n.component;return"input"===t&&(l=!1!==i["\u0275nov"](n,20)._handleInput(e.target.value)&&l),"blur"===t&&(l=!1!==i["\u0275nov"](n,20).onTouched()&&l),"compositionstart"===t&&(l=!1!==i["\u0275nov"](n,20)._compositionStart()&&l),"compositionend"===t&&(l=!1!==i["\u0275nov"](n,20)._compositionEnd(e.target.value)&&l),"change"===t&&(l=!1!==i["\u0275nov"](n,21).onChange(e.target.value)&&l),"input"===t&&(l=!1!==i["\u0275nov"](n,21).onChange(e.target.value)&&l),"blur"===t&&(l=!1!==i["\u0275nov"](n,21).onTouched()&&l),"ngModelChange"===t&&(l=!1!==(o.activeSplit.duration=e)&&l),"ngModelChange"===t&&(l=!1!==o.onChangeSplitDuration()&&l),l},null,null)),i["\u0275did"](20,16384,null,0,A.d,[i.Renderer2,i.ElementRef,[2,A.a]],null,null),i["\u0275did"](21,16384,null,0,A.w,[i.Renderer2,i.ElementRef],null,null),i["\u0275prd"](1024,null,A.p,function(n,t){return[n,t]},[A.d,A.w]),i["\u0275did"](23,671744,null,0,A.u,[[8,null],[8,null],[8,null],[6,A.p]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,A.q,null,[A.u]),i["\u0275did"](25,16384,null,0,A.r,[[4,A.q]],null,null),(n()(),i["\u0275eld"](26,0,null,null,1,"div",[["class","app-period-split-settings__duration--text"]],null,null,null,null,null)),(n()(),i["\u0275ted"](-1,null,["days"])),(n()(),i["\u0275eld"](28,0,null,null,7,"div",[["class","app-period-split-settings__col"]],null,null,null,null,null)),(n()(),i["\u0275eld"](29,0,null,null,1,"p",[["class","app-period-split-settings__col--text"]],null,null,null,null,null)),(n()(),i["\u0275ted"](-1,null,["Ends"])),(n()(),i["\u0275eld"](31,0,null,null,4,"app-datepicker-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,t,e){var i=!0,l=n.component;return"ngModelChange"===t&&(i=!1!==(l.activeSplit.date_to=e)&&i),"ngModelChange"===t&&(i=!1!==l.onChangeSplitDate("dateTo")&&i),i},z.b,z.a)),i["\u0275did"](32,671744,null,0,A.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,A.q,null,[A.u]),i["\u0275did"](34,16384,null,0,A.r,[[4,A.q]],null,null),i["\u0275did"](35,114688,null,0,B.a,[[6,A.q]],{isInvalid:[0,"isInvalid"],width:[1,"width"],dateInputFormat:[2,"dateInputFormat"],style:[3,"style"]},null),(n()(),i["\u0275eld"](36,0,null,null,2,"div",[["class","app-period-split-settings__buttons"]],null,null,null,null,null)),(n()(),i["\u0275eld"](37,0,null,null,0,"i",[["class","fas fa-trash app-period-split-settings__buttons-ico"]],null,[[null,"click"]],function(n,t,e){var i=!0;return"click"===t&&(i=!1!==n.component.onDeleteClick()&&i),i},null,null)),(n()(),i["\u0275eld"](38,0,null,null,0,"i",[["class","fas fa-copy app-period-split-settings__buttons-ico"]],null,[[null,"click"]],function(n,t,e){var i=!0;return"click"===t&&(i=!1!==n.component.onCopyClick()&&i),i},null,null))],function(n,t){var e=t.component;n(t,11,0,e.activeSplit.date_from),n(t,14,0,e.activeSplit.date_from>e.activeSplit.date_to,"57px","MM/DD","short"),n(t,23,0,e.activeSplit.duration),n(t,32,0,e.activeSplit.date_to),n(t,35,0,e.activeSplit.date_from>e.activeSplit.date_to,"57px","MM/DD","short")},function(n,t){n(t,10,0,i["\u0275nov"](t,13).ngClassUntouched,i["\u0275nov"](t,13).ngClassTouched,i["\u0275nov"](t,13).ngClassPristine,i["\u0275nov"](t,13).ngClassDirty,i["\u0275nov"](t,13).ngClassValid,i["\u0275nov"](t,13).ngClassInvalid,i["\u0275nov"](t,13).ngClassPending),n(t,19,0,i["\u0275nov"](t,25).ngClassUntouched,i["\u0275nov"](t,25).ngClassTouched,i["\u0275nov"](t,25).ngClassPristine,i["\u0275nov"](t,25).ngClassDirty,i["\u0275nov"](t,25).ngClassValid,i["\u0275nov"](t,25).ngClassInvalid,i["\u0275nov"](t,25).ngClassPending),n(t,31,0,i["\u0275nov"](t,34).ngClassUntouched,i["\u0275nov"](t,34).ngClassTouched,i["\u0275nov"](t,34).ngClassPristine,i["\u0275nov"](t,34).ngClassDirty,i["\u0275nov"](t,34).ngClassValid,i["\u0275nov"](t,34).ngClassInvalid,i["\u0275nov"](t,34).ngClassPending)})}var lt=new i.InjectionToken("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(i.inject)(a.DOCUMENT)}}),ot=function(){function n(n){if(this.value="ltr",this.change=new i.EventEmitter,n){var t=(n.body?n.body.dir:null)||(n.documentElement?n.documentElement.dir:null);this.value="ltr"===t||"rtl"===t?t:"ltr"}}return n.prototype.ngOnDestroy=function(){this.change.complete()},n.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new n(Object(i.inject)(lt,8))},token:n,providedIn:"root"}),n}(),rt=function(){function n(){this.closeError=new i.EventEmitter}return n.prototype.ngOnInit=function(){},n.prototype.onCloseError=function(){this.closeError.emit(),console.log("close")},n.prototype.isString=function(n){return"string"==typeof n},n}(),at=i["\u0275crt"]({encapsulation:0,styles:[[".app-period-error[_ngcontent-%COMP%]{width:317px;min-height:65px;position:relative;display:flex;padding:15px 0;background-color:#36405f;border-radius:5px;border-left:5px solid #e65757}.app-period-error[_ngcontent-%COMP%]   .app-period-error__sign[_ngcontent-%COMP%]{width:31px;padding:3px 12px}.app-period-error[_ngcontent-%COMP%]   .app-period-error__sign[_ngcontent-%COMP%]   .app-period-error__sign--ico[_ngcontent-%COMP%]{color:#e65757}.app-period-error[_ngcontent-%COMP%]   .app-period-error__header[_ngcontent-%COMP%]{color:#e65757;text-transform:uppercase}.app-period-error[_ngcontent-%COMP%]   .app-period-error__error[_ngcontent-%COMP%]{padding:0 25px 0 0;color:#fff}.app-period-error[_ngcontent-%COMP%]   .app-period-error__cross[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;width:16px;height:16px}.app-period-error[_ngcontent-%COMP%]   .app-period-error__cross[_ngcontent-%COMP%]   .app-period-error__cross--ico[_ngcontent-%COMP%]{color:#fff}.app-period-error[_ngcontent-%COMP%]   .app-period-error__cross[_ngcontent-%COMP%]:hover{cursor:pointer}"]],data:{}});function pt(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),i["\u0275ted"](1,null,[" "," "]))],null,function(n,t){n(t,1,0,t.component.errors)})}function st(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),i["\u0275ted"](1,null,[" "," "]))],null,function(n,t){n(t,1,0,t.context.$implicit)})}function dt(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),i["\u0275and"](16777216,null,null,1,null,st)),i["\u0275did"](2,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,2,0,t.component.errors)},null)}function ut(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,11,"div",[["class","app-period-error"]],null,null,null,null,null)),(n()(),i["\u0275eld"](1,0,null,null,1,"div",[["class","app-period-error__sign"]],null,null,null,null,null)),(n()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-exclamation app-period-error__sign--ico"]],null,null,null,null,null)),(n()(),i["\u0275eld"](3,0,null,null,1,"div",[["class","app-period-error__header"]],null,null,null,null,null)),(n()(),i["\u0275ted"](4,null,["",""])),(n()(),i["\u0275eld"](5,0,null,null,4,"div",[["class","app-period-error__error"]],null,null,null,null,null)),(n()(),i["\u0275and"](16777216,null,null,1,null,pt)),i["\u0275did"](7,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),i["\u0275and"](16777216,null,null,1,null,dt)),i["\u0275did"](9,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),i["\u0275eld"](10,0,null,null,1,"div",[["class","app-period-error__cross"]],null,[[null,"click"]],function(n,t,e){var i=!0;return"click"===t&&(i=!1!==n.component.onCloseError()&&i),i},null,null)),(n()(),i["\u0275eld"](11,0,null,null,0,"i",[["class","fa fa-times app-period-error__cross--ico"]],null,null,null,null,null))],function(n,t){var e=t.component;n(t,7,0,e.isString(e.errors)),n(t,9,0,!e.isString(e.errors))},function(n,t){n(t,4,0,t.component.header)})}var ct=e("zC7G"),gt=function(){function n(n){this.ngControl=n,this.value="",this.inputStyle=null,this.inputColor=null,this.onChangeField=new i.EventEmitter,this.ngControl&&(this.ngControl.valueAccessor=this)}return n.prototype.ngOnInit=function(){},n.prototype.writeValue=function(n){this.value=n},n.prototype.setDisabledState=function(n){this.disabled=n},n.prototype.registerOnChange=function(n){this.onChange=n},n.prototype.registerOnTouched=function(n){this.onTouched=n},n.prototype.onChange=function(n){return this.onChangeField.emit({fieldValue:n,type:"input"}),n},n.prototype.onTouched=function(){},n.prototype.onPenClick=function(){this.input.nativeElement.focus()},n}(),ht=i["\u0275crt"]({encapsulation:0,styles:[[".app-input-editable-field[_ngcontent-%COMP%]{width:auto;height:14px;position:relative;display:flex;justify-content:center;padding:0;margin:auto;border:none;border-radius:0;color:#fff}.app-input-editable-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;height:14px;font-size:12px}.app-input-editable-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.app-input-editable-field[_ngcontent-%COMP%]   input.app-input-field__value[_ngcontent-%COMP%]{padding-top:10px}.app-input-editable-field[_ngcontent-%COMP%]   .app-input-editable-field__ico[_ngcontent-%COMP%]{width:9px;height:9px;margin:auto 0;color:#fff;font-size:9px}.app-input-editable-field[_ngcontent-%COMP%]   .app-input-editable-field__input[_ngcontent-%COMP%]{color:#fff;background-color:#36405f}.app-input-editable-field.app-input-editable-field__header[_ngcontent-%COMP%]{justify-content:left;color:#000}.app-input-editable-field.app-input-editable-field__header[_ngcontent-%COMP%]   .app-input-editable-field__input[_ngcontent-%COMP%]{min-width:10px;padding:5px 0 0;margin:0 5px 0 0;color:#000;background-color:#fff;font:11px/15px NunitoSans-Bold}.app-input-editable-field.app-input-editable-field__header[_ngcontent-%COMP%]   .app-input-editable-field__ico[_ngcontent-%COMP%]{width:12px;height:12px;margin:auto 0;color:grey;font-size:12px}"]],data:{}});function _t(n){return i["\u0275vid"](0,[i["\u0275qud"](402653184,1,{input:0}),(n()(),i["\u0275eld"](1,0,null,null,14,"div",[["class","app-input-editable-field"]],null,null,null,null,null)),i["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](3,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](4,{"app-input-editable-field__header":0}),(n()(),i["\u0275eld"](5,0,[[1,0],["input",1]],null,9,"input",[["AutoSizeInput",""],["class","form-control app-input-editable-field__input"]],[[8,"value",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var l=!0,o=n.component;return"input"===t&&(l=!1!==i["\u0275nov"](n,9)._handleInput(e.target.value)&&l),"blur"===t&&(l=!1!==i["\u0275nov"](n,9).onTouched()&&l),"compositionstart"===t&&(l=!1!==i["\u0275nov"](n,9)._compositionStart()&&l),"compositionend"===t&&(l=!1!==i["\u0275nov"](n,9)._compositionEnd(e.target.value)&&l),"input"===t&&(l=!1!==i["\u0275nov"](n,14).onInput(e.target)&&l),"ngModelChange"===t&&(l=!1!==(o.value=e)&&l),"input"===t&&(l=!1!==o.onChange(e.target.value)&&l),"blur"===t&&(l=!1!==o.onTouched()&&l),l},null,null)),i["\u0275prd"](512,null,a["\u0275NgStyleImpl"],a["\u0275NgStyleR2Impl"],[i.ElementRef,i.KeyValueDiffers,i.Renderer2]),i["\u0275did"](7,278528,null,0,a.NgStyle,[a["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](8,{color:0}),i["\u0275did"](9,16384,null,0,A.d,[i.Renderer2,i.ElementRef,[2,A.a]],null,null),i["\u0275prd"](1024,null,A.p,function(n){return[n]},[A.d]),i["\u0275did"](11,671744,null,0,A.u,[[8,null],[8,null],[8,null],[6,A.p]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,A.q,null,[A.u]),i["\u0275did"](13,16384,null,0,A.r,[[4,A.q]],null,null),i["\u0275did"](14,2637824,null,0,ct.AutoSizeInputDirective,[i.ElementRef],null,null),(n()(),i["\u0275eld"](15,0,null,null,0,"i",[["class","fas fa-pen app-input-editable-field__ico"]],null,[[null,"click"]],function(n,t,e){var i=!0;return"click"===t&&(i=!1!==n.component.onPenClick()&&i),i},null,null))],function(n,t){var e=t.component,i=n(t,4,0,"header"===e.inputStyle);n(t,3,0,"app-input-editable-field",i);var l=n(t,8,0,e.inputColor);n(t,7,0,l),n(t,11,0,e.value)},function(n,t){n(t,5,0,t.component.value,i["\u0275nov"](t,13).ngClassUntouched,i["\u0275nov"](t,13).ngClassTouched,i["\u0275nov"](t,13).ngClassPristine,i["\u0275nov"](t,13).ngClassDirty,i["\u0275nov"](t,13).ngClassValid,i["\u0275nov"](t,13).ngClassInvalid,i["\u0275nov"](t,13).ngClassPending)})}var ft=function(){function n(n,t){this.store=n,this.periodService=t,this.subscription=new p.a}return n.prototype.ngOnInit=function(){var n=this;this.subscription=this.periodService.getPeriodStore().subscribe(function(t){n.periodSplitSet=t.period.split_sets,n.activePeriodSet=t.period.split_sets.find(function(t){return t.split_set_id===n.splitSetId}),n.activePeriodSet&&n.activePeriodSet.splits&&n.initScale(),n.savePeriodError=t.savePeriodError}),this.periodScale={width:6*this.getSplitSetLength(),length:this.getSplitSetLength(),items:[]},this.initScale()},n.prototype.getSplitSetLength=function(){return this.activePeriodSet&&this.activePeriodSet.splits&&this.activePeriodSet.splits.length?this.activePeriodSet.splits.reduce(function(n,t){return n+t.duration},0):0},n.prototype.initScale=function(){var n=this,t=this.getSplitSetLength();this.periodScale={width:6*t,length:t,items:[]},this.activePeriodSet.splits.map(function(t){for(var e=0;e<t.duration;e++)n.periodScale.items.push({id:e,isExtreme:e===t.duration-1,extremeDate:e===t.duration-1?u(t.date_to,"DD-MM-YYYY").format("MM/DD"):null,label:2===e?t.name:null,splitId:t.split_id,slitDuration:2===e?t.duration:null,isPen:e===t.duration-5,isInfoOpen:!1,isLabelEdit:!1})})},n.prototype.dropItem=function(n){console.log(n.previousIndex,n.currentIndex),this.activePeriodSet.splits.map(n.currentIndex<n.previousIndex?function(t){t.split_id===parseInt(n.item.element.nativeElement.id,10)?(t.date_to=u(t.date_to,"DD-MM-YYYY").subtract(n.currentIndex-n.previousIndex,"days").toDate(),t.duration=t.duration-(n.previousIndex-n.currentIndex)):t.split_id===parseInt(n.item.element.nativeElement.id,10)+1&&(t.date_from=u(t.date_from,"DD-MM-YYYY").subtract(n.currentIndex-n.previousIndex,"days").toDate(),t.duration=t.duration+(n.previousIndex-n.currentIndex))}:function(t){t.split_id===parseInt(n.item.element.nativeElement.id,10)?(t.date_to=u(t.date_to,"DD-MM-YYYY").add(n.currentIndex-n.previousIndex,"days").toDate(),t.duration=t.duration+(n.currentIndex-n.previousIndex)):t.split_id===parseInt(n.item.element.nativeElement.id,10)+1&&(t.date_from=u(t.date_from,"DD-MM-YYYY").add(n.currentIndex-n.previousIndex,"days").toDate(),t.duration=t.duration-(n.currentIndex-n.previousIndex))}),this.periodService.updateSplitSet(this.activePeriodSet)},n.prototype.getColor=function(){return this.viewId%2==0?"#C87F13":"#1079C4"},n.prototype.onChangeSplitName=function(n,t){this.periodService.setSplitName(this.activePeriodSet,n,t)},n.prototype.onCreateSplit=function(){this.periodService.createSplit(this.activePeriodSet)},n.prototype.onPenClick=function(n){var t=this.periodScale.items[n].splitId;this.periodScale.items[n].isInfoOpen=!this.periodScale.items[n].isInfoOpen,this.periodScale.items.map(function(n){n.splitId===t&&(n.isLabelEdit=!n.isLabelEdit)})},n.prototype.onCloseInfo=function(n){var t=this.periodScale.items[n].splitId;this.periodScale.items[n].isInfoOpen=!1,this.periodScale.items.map(function(n){n.splitId===t&&(n.isLabelEdit=!1)})},n.prototype.getWidth=function(n){return 8*n.length+"px"},n.prototype.getIndex=function(n){return!n.isInfoOpen&&(n.isPen||n.isExtreme||n.label)?2:n.isInfoOpen?3:0},n.prototype.onCloseSplitSetError=function(){this.activePeriodSet.error.isBarErrorOpen=!1,this.periodService.updateSplitSet(this.activePeriodSet)},n.prototype.hasShownSplitSetError=function(n){return n.error&&n.error.text&&n.error.text.length&&n.error.isBarErrorOpen},n.prototype.onCloseSavePeriodError=function(){this.store.dispatch(new f({text:this.savePeriodError.text,isOpen:!1}))},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n}(),mt=i["\u0275crt"]({encapsulation:0,styles:[['.app-period-split-bar[_ngcontent-%COMP%]{display:flex;padding:0 15px 5px;background-color:#fff;position:relative}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__header[_ngcontent-%COMP%]{min-width:115px;max-width:115px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]{display:flex;width:100%;max-width:853px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale[_ngcontent-%COMP%]{display:flex;position:relative;overflow:visible;min-width:100px;max-width:1003px;height:65px;padding:10px 10px 15px 0}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale[_ngcontent-%COMP%]   .app-period-split-bar__scale--label[_ngcontent-%COMP%]{position:absolute;z-index:1;overflow:hidden}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__add_split[_ngcontent-%COMP%]{flex-grow:2;height:19px;width:19px;margin:5px 0 0;cursor:pointer;color:#4350a2;background-color:#ebeeff;border:1px dashed #4350a2;text-align:center;vertical-align:middle}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__add_split[_ngcontent-%COMP%]   .app-period-split-bar__add_split--ico[_ngcontent-%COMP%]{font-size:14px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__add_split.app-period-split-bar__add_split--error[_ngcontent-%COMP%]{background-color:#fff3f3;border:1px dashed #e65757}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--cell[_ngcontent-%COMP%]{width:6px;height:14px;position:relative}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--cell[_ngcontent-%COMP%]   .app-period-split-bar--date[_ngcontent-%COMP%]{position:absolute;bottom:-14px;left:-8px;height:10px;font-size:10px;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--cell[_ngcontent-%COMP%]   .app-period-split-bar--input[_ngcontent-%COMP%]{position:absolute;top:2px;height:10px;font-size:10px;line-height:13px;border:none;border-radius:5px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar--label[_ngcontent-%COMP%]{position:absolute;height:14px;z-index:1;font-size:10px;line-height:15px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar--label--yellow[_ngcontent-%COMP%]{color:#c87f13}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar--label--blue[_ngcontent-%COMP%]{color:#1079c4}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--cell[_ngcontent-%COMP%]::before{content:"";position:absolute;top:-7px;height:4px;width:4px;background-color:#c87f13}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__cell--selected[_ngcontent-%COMP%]{width:5.5px;height:14px;background-color:#a4a8be}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--yellow[_ngcontent-%COMP%]{background-color:#fbe2bc}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--yellow[_ngcontent-%COMP%]::before{background-color:#c87f13}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--blue[_ngcontent-%COMP%]{background-color:#def1ff}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__splitset[_ngcontent-%COMP%]   .app-period-split-bar__scale--blue[_ngcontent-%COMP%]::before{background-color:#1079c4}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__add[_ngcontent-%COMP%]{width:100%;max-width:853px;height:23px;margin:0 0 20px;cursor:pointer;font:12px/23px NunitoSans-Bold;color:#4350a2;background-color:#ebeeff;border:1px dashed #4350a2;text-align:center}.app-period-split-bar[_ngcontent-%COMP%]   .cdk-drag-placeholder[_ngcontent-%COMP%]   .app-period-split-bar--date[_ngcontent-%COMP%]{display:none}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__ico[_ngcontent-%COMP%]{font-size:10px;position:absolute;top:2px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__ico[_ngcontent-%COMP%]:hover{cursor:pointer}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__settings[_ngcontent-%COMP%]{position:absolute;top:18px;right:-30px}.app-period-split-bar[_ngcontent-%COMP%]   .app-period-split-bar__error[_ngcontent-%COMP%]{position:absolute;top:30px;right:0}.cdk-drag-preview[_ngcontent-%COMP%]{color:red}.cdk-drag-preview[_ngcontent-%COMP%]   .app-period-split-bar--date[_ngcontent-%COMP%]{display:none}']],data:{}});function vt(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","app-period-split-bar--date"]],null,null,null,null,null)),(n()(),i["\u0275ted"](1,null,["",""]))],null,function(n,t){n(t,1,0,t.parent.context.$implicit.extremeDate)})}function Ct(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,2,"app-carets",[["cdkDragHandle",""],["class","app-period-bar__cell--extreme cdk-drag-handle"]],null,null,null,J,X)),i["\u0275did"](1,147456,[[2,4]],0,Gn,[i.ElementRef,[2,Hn]],null,null),i["\u0275did"](2,114688,null,0,W,[],null,null)],function(n,t){n(t,2,0)},null)}function bt(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,7,"div",[["class","app-period-split-bar--label"]],null,null,null,null,null)),i["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](2,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](3,{"app-period-split-bar--label--yellow":0,"app-period-split-bar--label--blue":1}),i["\u0275prd"](512,null,a["\u0275NgStyleImpl"],a["\u0275NgStyleR2Impl"],[i.ElementRef,i.KeyValueDiffers,i.Renderer2]),i["\u0275did"](5,278528,null,0,a.NgStyle,[a["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](6,{width:0}),(n()(),i["\u0275ted"](7,null,[" ",""]))],function(n,t){var e=t.component,i=n(t,3,0,e.viewId%2==0,e.viewId%2==1);n(t,2,0,"app-period-split-bar--label",i);var l=n(t,6,0,e.getWidth(t.parent.context.$implicit.label));n(t,5,0,l)},function(n,t){n(t,7,0,t.parent.context.$implicit.label)})}function Pt(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,8,"input",[["class","app-period-split-bar--input"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var l=!0,o=n.component;return"input"===t&&(l=!1!==i["\u0275nov"](n,4)._handleInput(e.target.value)&&l),"blur"===t&&(l=!1!==i["\u0275nov"](n,4).onTouched()&&l),"compositionstart"===t&&(l=!1!==i["\u0275nov"](n,4)._compositionStart()&&l),"compositionend"===t&&(l=!1!==i["\u0275nov"](n,4)._compositionEnd(e.target.value)&&l),"ngModelChange"===t&&(l=!1!==(n.parent.context.$implicit.label=e)&&l),"ngModelChange"===t&&(l=!1!==o.onChangeSplitName(e,n.parent.context.$implicit.splitId)&&l),l},null,null)),i["\u0275prd"](512,null,a["\u0275NgStyleImpl"],a["\u0275NgStyleR2Impl"],[i.ElementRef,i.KeyValueDiffers,i.Renderer2]),i["\u0275did"](2,278528,null,0,a.NgStyle,[a["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](3,{width:0}),i["\u0275did"](4,16384,null,0,A.d,[i.Renderer2,i.ElementRef,[2,A.a]],null,null),i["\u0275prd"](1024,null,A.p,function(n){return[n]},[A.d]),i["\u0275did"](6,671744,null,0,A.u,[[8,null],[8,null],[8,null],[6,A.p]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,A.q,null,[A.u]),i["\u0275did"](8,16384,null,0,A.r,[[4,A.q]],null,null)],function(n,t){var e=n(t,3,0,t.component.getWidth(t.parent.context.$implicit.label));n(t,2,0,e),n(t,6,0,t.parent.context.$implicit.label)},function(n,t){n(t,0,0,i["\u0275nov"](t,8).ngClassUntouched,i["\u0275nov"](t,8).ngClassTouched,i["\u0275nov"](t,8).ngClassPristine,i["\u0275nov"](t,8).ngClassDirty,i["\u0275nov"](t,8).ngClassValid,i["\u0275nov"](t,8).ngClassInvalid,i["\u0275nov"](t,8).ngClassPending)})}function yt(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,3,"i",[["class","fas fa-pen app-period-split-bar__ico"]],null,[[null,"click"]],function(n,t,e){var i=!0;return"click"===t&&(i=!1!==n.component.onPenClick(n.parent.context.index)&&i),i},null,null)),i["\u0275prd"](512,null,a["\u0275NgStyleImpl"],a["\u0275NgStyleR2Impl"],[i.ElementRef,i.KeyValueDiffers,i.Renderer2]),i["\u0275did"](2,278528,null,0,a.NgStyle,[a["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](3,{color:0})],function(n,t){var e=n(t,3,0,t.component.getColor());n(t,2,0,e)},null)}function xt(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-split-bar__settings"]],null,null,null,null,null)),(n()(),i["\u0275eld"](1,0,null,null,1,"app-period-split-settings",[],null,[[null,"closeInfo"]],function(n,t,e){var i=!0;return"closeInfo"===t&&(i=!1!==n.component.onCloseInfo(e)&&i),i},it,et)),i["\u0275did"](2,245760,null,0,tt,[w.n,M],{splitSetId:[0,"splitSetId"],splitId:[1,"splitId"],periodScaleItemId:[2,"periodScaleItemId"]},{closeInfo:"closeInfo"})],function(n,t){n(t,2,0,t.component.splitSetId,t.parent.context.$implicit.splitId,t.parent.context.index)},null)}function St(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,16777216,null,null,23,"div",[["cdkDrag",""],["cdkDragBoundary",".app-period-bar__scale"],["cdkDragLockAxis","x"],["class","app-period-split-bar__scale--cell cdk-drag"]],[[8,"id",0],[2,"cdk-drag-disabled",null],[2,"cdk-drag-dragging",null]],null,null,null,null)),i["\u0275prd"](6144,null,Hn,null,[Zn]),i["\u0275did"](2,4866048,[[1,4]],3,Zn,[i.ElementRef,[3,$n],a.DOCUMENT,i.NgZone,i.ViewContainerRef,bn,zn,Kn,[2,ot],Un,i.ChangeDetectorRef],{lockAxis:[0,"lockAxis"],boundaryElementSelector:[1,"boundaryElementSelector"],disabled:[2,"disabled"]},null),i["\u0275qud"](603979776,2,{_handles:1}),i["\u0275qud"](335544320,3,{_previewTemplate:0}),i["\u0275qud"](335544320,4,{_placeholderTemplate:0}),i["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](7,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](8,{"app-period-split-bar__scale--yellow":0,"app-period-split-bar__scale--blue":1}),i["\u0275prd"](512,null,a["\u0275NgStyleImpl"],a["\u0275NgStyleR2Impl"],[i.ElementRef,i.KeyValueDiffers,i.Renderer2]),i["\u0275did"](10,278528,null,0,a.NgStyle,[a["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](11,{"z-index":0}),(n()(),i["\u0275and"](16777216,null,null,1,null,vt)),i["\u0275did"](13,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),i["\u0275and"](16777216,null,null,1,null,Ct)),i["\u0275did"](15,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),i["\u0275and"](16777216,null,null,1,null,bt)),i["\u0275did"](17,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),i["\u0275and"](16777216,null,null,1,null,Pt)),i["\u0275did"](19,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),i["\u0275and"](16777216,null,null,1,null,yt)),i["\u0275did"](21,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),i["\u0275and"](16777216,null,null,1,null,xt)),i["\u0275did"](23,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),i["\u0275and"](0,null,null,0))],function(n,t){var e=t.component;n(t,2,0,"x",".app-period-bar__scale",!t.context.$implicit.isExtreme);var i=n(t,8,0,e.viewId%2==0,e.viewId%2==1);n(t,7,0,"app-period-split-bar__scale--cell",i);var l=n(t,11,0,e.getIndex(t.context.$implicit));n(t,10,0,l),n(t,13,0,t.context.$implicit.extremeDate),n(t,15,0,t.context.$implicit.isExtreme),n(t,17,0,t.context.$implicit.label&&t.context.$implicit.slitDuration>10&&!t.context.$implicit.isLabelEdit),n(t,19,0,t.context.$implicit.label&&t.context.$implicit.slitDuration>10&&t.context.$implicit.isLabelEdit),n(t,21,0,t.context.$implicit.isPen),n(t,23,0,t.context.$implicit.isInfoOpen)},function(n,t){n(t,0,0,i["\u0275inlineInterpolate"](1,"",t.context.$implicit.splitId,""),i["\u0275nov"](t,2).disabled,i["\u0275nov"](t,2)._dragRef.isDragging())})}function Mt(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,12,"div",[["class","app-period-split-bar__splitset"]],null,null,null,null,null)),(n()(),i["\u0275eld"](1,0,null,null,6,"div",[["cdkDropList",""],["cdkDropListOrientation","horizontal"],["class","app-period-split-bar__scale cdk-drop-list"]],[[8,"id",0],[2,"cdk-drop-list-disabled",null],[2,"cdk-drop-list-dragging",null],[2,"cdk-drop-list-receiving",null]],[[null,"cdkDropListDropped"]],function(n,t,e){var i=!0;return"cdkDropListDropped"===t&&(i=!1!==n.component.dropItem(e)&&i),i},null,null)),i["\u0275prd"](6144,null,$n,null,[Qn]),i["\u0275did"](3,1196032,null,1,Qn,[i.ElementRef,zn,i.ChangeDetectorRef,[2,ot],[3,Xn],[2,a.DOCUMENT],Un],{orientation:[0,"orientation"]},{dropped:"cdkDropListDropped"}),i["\u0275qud"](603979776,1,{_draggables:1}),i["\u0275prd"](256,null,Xn,void 0,[]),(n()(),i["\u0275and"](16777216,null,null,1,null,St)),i["\u0275did"](7,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),i["\u0275eld"](8,0,null,null,4,"div",[["class","app-period-split-bar__add_split"]],null,[[null,"click"]],function(n,t,e){var i=!0;return"click"===t&&(i=!1!==n.component.onCreateSplit()&&i),i},null,null)),i["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](10,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](11,{"app-period-split-bar__add_split--error":0}),(n()(),i["\u0275eld"](12,0,null,null,0,"i",[["class","fa fa-plus app-period-split-bar__add_split--ico"]],null,null,null,null,null))],function(n,t){var e=t.component;n(t,3,0,"horizontal"),n(t,7,0,e.periodScale.items);var i=n(t,11,0,e.hasShownSplitSetError(e.activePeriodSet));n(t,10,0,"app-period-split-bar__add_split",i)},function(n,t){n(t,1,0,i["\u0275nov"](t,3).id,i["\u0275nov"](t,3).disabled,i["\u0275nov"](t,3)._dropListRef.isDragging(),i["\u0275nov"](t,3)._dropListRef.isReceiving())})}function Ot(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","app-period-split-bar__add"]],null,[[null,"click"]],function(n,t,e){var i=!0;return"click"===t&&(i=!1!==n.component.onCreateSplit()&&i),i},null,null)),(n()(),i["\u0275ted"](-1,null,[" + Create first split "]))],null,null)}function wt(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-split-bar__error"]],null,null,null,null,null)),(n()(),i["\u0275eld"](1,0,null,null,1,"app-period-error",[],null,[[null,"closeError"]],function(n,t,e){var i=!0;return"closeError"===t&&(i=!1!==n.component.onCloseSplitSetError()&&i),i},ut,at)),i["\u0275did"](2,114688,null,0,rt,[],{errors:[0,"errors"]},{closeError:"closeError"})],function(n,t){n(t,2,0,t.component.activePeriodSet.error.text)},null)}function Dt(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-split-bar__error"]],null,null,null,null,null)),(n()(),i["\u0275eld"](1,0,null,null,1,"app-period-error",[],null,[[null,"closeError"]],function(n,t,e){var i=!0;return"closeError"===t&&(i=!1!==n.component.onCloseSavePeriodError()&&i),i},ut,at)),i["\u0275did"](2,114688,null,0,rt,[],{errors:[0,"errors"]},{closeError:"closeError"})],function(n,t){n(t,2,0,t.component.savePeriodError.text)},null)}function It(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,14,"div",[["class","app-period-split-bar"]],null,null,null,null,null)),(n()(),i["\u0275eld"](1,0,null,null,5,"div",[["class","app-period-split-bar__header"]],null,null,null,null,null)),(n()(),i["\u0275eld"](2,0,null,null,4,"app-input-editable-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,t,e){var i=!0;return"ngModelChange"===t&&(i=!1!==(n.component.activePeriodSet.name=e)&&i),i},_t,ht)),i["\u0275did"](3,671744,null,0,A.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,A.q,null,[A.u]),i["\u0275did"](5,16384,null,0,A.r,[[4,A.q]],null,null),i["\u0275did"](6,114688,null,0,gt,[[6,A.q]],{inputStyle:[0,"inputStyle"],inputColor:[1,"inputColor"]},null),(n()(),i["\u0275and"](16777216,null,null,1,null,Mt)),i["\u0275did"](8,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),i["\u0275and"](16777216,null,null,1,null,Ot)),i["\u0275did"](10,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),i["\u0275and"](16777216,null,null,1,null,wt)),i["\u0275did"](12,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),i["\u0275and"](16777216,null,null,1,null,Dt)),i["\u0275did"](14,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,3,0,e.activePeriodSet.name),n(t,6,0,"header",e.getColor()),n(t,8,0,e.getSplitSetLength()),n(t,10,0,!e.getSplitSetLength()),n(t,12,0,e.hasShownSplitSetError(e.activePeriodSet)),n(t,14,0,e.savePeriodError&&e.savePeriodError.text&&e.savePeriodError.isOpen)},function(n,t){n(t,2,0,i["\u0275nov"](t,5).ngClassUntouched,i["\u0275nov"](t,5).ngClassTouched,i["\u0275nov"](t,5).ngClassPristine,i["\u0275nov"](t,5).ngClassDirty,i["\u0275nov"](t,5).ngClassValid,i["\u0275nov"](t,5).ngClassInvalid,i["\u0275nov"](t,5).ngClassPending)})}var Et=e("99Bj"),Rt=e("mEqT"),kt=function(){function n(n,t,e){this.store=n,this.fb=t,this.periodService=e,this.viewSplits=[],this.periodDuration=0,this.splitUnits=["months","weeks","days","equal parts"],this.sortingParam={name:null,order:null},this.subscription=new p.a,this.splitSetTableColumns=[{id:"name",title:"SPLIT NAME",sort:!0,search:!0,width:"170px"},{id:"date_from",title:"SPLIT START",sort:!0,dateSearch:!0,width:"170px"},{id:"date_to",title:"SPLIT END",sort:!0,dateSearch:!0,width:"170px"},{id:"duration",title:"DAYS IN SPLIT",sort:!0,search:!0,width:"170px"},{}],this.splitInformationForm=t.group({splitUnit:["months",A.C.required],splitAmount:[null,A.C.required],splitDuration:[null,A.C.required]}),this.viewSplits=[]}return n.prototype.ngOnInit=function(){var n=this;this.subscription=this.periodService.getPeriodStore().subscribe(function(t){n.activeSplitSet=t.period.split_sets.find(function(t){return t.split_set_id===n.splitSetId}),n.periodDuration=t.period.duration,n.activeSplitSet&&n.activeSplitSet.splits&&(n.viewSplits=n.getSortedSplits(n.activeSplitSet.splits,n.sortingParam.order,n.sortingParam.name))})},n.prototype.getBkgColor=function(){return this.viewId%2==0?"#FBE2BC":"#DEF1FF"},n.prototype.getRowColor=function(n){return this.hasShownSplitSetError(this.activeSplitSet)?"#FFF3F3":n%2==0?"transparent":"#FAFAFA"},n.prototype.onSortSplits=function(n){this.sortingParam={name:n.id,order:n.order},this.viewSplits=this.getSortedSplits(this.viewSplits,this.sortingParam.order,this.sortingParam.name)},n.prototype.getSortedSplits=function(n,t,e){var i=n.slice();return t&&e&&n&&("DESC"===t?i.sort(function(n,t){return"name"===e?n.name.localeCompare(t.name,"en",{numeric:!0,sensitivity:"base"}):n[e]>t[e]?1:-1}):"ASC"===t&&i.sort(function(n,t){return"name"===e?t.name.localeCompare(n.name,"en",{numeric:!0,sensitivity:"base"}):n[e]<t[e]?1:-1})),i},n.prototype.onDeleteClick=function(){this.store.dispatch(new y({index:this.activeSplitSet.split_set_id}))},n.prototype.onCreateSplit=function(){var n=this.getUnit(),t=this.splitInformationForm.get("splitAmount").value,e="equal parts"===this.splitInformationForm.get("splitUnit").value?1:this.splitInformationForm.get("splitDuration").value;if(t&&e&&t>0&&e>0){for(var i=0;i<t;i++){var l=this.activeSplitSet.splits[i-1];this.activeSplitSet.splits.push({name:i+1+" split",date_from:l?u(l.date_to,"DD-MM-YYYY").add(1,"days").toDate():new Date,date_to:l?u(l.date_to,"DD-MM-YYYY").add(n*e,"days").toDate():u(new Date,"DD-MM-YYYY").add(n*e,"days").toDate(),split_id:i+1,duration:"equal parts"===this.splitInformationForm.get("splitUnit").value?n:n*t})}this.periodService.updateSplitSet(this.activeSplitSet)}},n.prototype.onModifySplit=function(){var n=this.getUnit(),t=this.splitInformationForm.get("splitAmount").value,e="equal parts"===this.splitInformationForm.get("splitUnit").value?1:this.splitInformationForm.get("splitDuration").value;if(t&&e&&t>0&&e>0){if(t>=this.activeSplitSet.splits.length)for(var i=0;i<t;i++){var l=this.activeSplitSet.splits[i-1];(o=this.activeSplitSet.splits[i])?(o.date_from=l?u(l.date_to,"DD-MM-YYYY").add(1,"days").toDate():o.date_from,o.date_to=l?u(l.date_to,"DD-MM-YYYY").add(n*e,"days").toDate():u(o.date_from,"DD-MM-YYYY").add(n*e,"days").toDate(),o.duration=n*e):this.activeSplitSet.splits.push({name:i+1+" split",date_from:l?u(l.date_to,"DD-MM-YYYY").add(1,"days").toDate():new Date,date_to:l?u(l.date_to,"DD-MM-YYYY").add(n*t,"days").toDate():u(new Date,"DD-MM-YYYY").add(n*e,"days").toDate(),split_id:l?l.split_id+1:0,duration:n*e})}else for(this.activeSplitSet.splits.splice(t,this.activeSplitSet.splits.length),i=0;i<t;i++){var o;l=this.activeSplitSet.splits[i-1],(o=this.activeSplitSet.splits[i])&&(o.date_from=l?u(l.date_to,"DD-MM-YYYY").add(1,"days").toDate():o.date_from,o.date_to=l?u(l.date_to,"DD-MM-YYYY").add(n*e,"days").toDate():u(o.date_from,"DD-MM-YYYY").add(n*e,"days").toDate(),o.duration=n*e)}this.periodService.updateSplitSet(this.activeSplitSet)}},n.prototype.getUnit=function(){return"months"===this.splitInformationForm.get("splitUnit").value?31:"weeks"===this.splitInformationForm.get("splitUnit").value?7:"days"===this.splitInformationForm.get("splitUnit").value?1:"equal parts"===this.splitInformationForm.get("splitUnit").value?Math.ceil(this.periodDuration/this.splitInformationForm.get("splitAmount").value):void 0},n.prototype.onChangeName=function(n,t){this.periodService.setSplitName(this.activeSplitSet,n,t)},n.prototype.onChangeDate=function(n,t){this.periodService.changeSplitDate(this.activeSplitSet,n,n.split_id,t)},n.prototype.onChangeDuration=function(n){this.periodService.changeSplitDuration(this.activeSplitSet,n)},n.prototype.onSplitCreate=function(){this.periodService.createSplit(this.activeSplitSet)},n.prototype.onDeleteSplit=function(n){this.periodService.deleteSplit(this.activeSplitSet,n)},n.prototype.onSearch=function(n){n.value?"name"===n.name?this.viewSplits=this.viewSplits.filter(function(t){return t[n.name].includes(n.value)}):"duration"===n.name&&n.value?this.viewSplits=this.activeSplitSet.splits.filter(function(t){return parseInt(t[n.name],10)===parseInt(n.value,10)}):n.value&&(this.viewSplits=this.activeSplitSet.splits.filter(function(t){return u(u(t[n.name])).isSame(u(n.value),"day")})):this.viewSplits=this.getSortedSplits(this.activeSplitSet.splits,this.sortingParam.order,this.sortingParam.name)},n.prototype.onCloseSplitSetError=function(){this.activeSplitSet.error.isBarErrorOpen=!1,this.periodService.updateSplitSet(this.activeSplitSet)},n.prototype.hasShownSplitSetError=function(n){return n.error&&n.error.text&&n.error.text.length&&n.error.isBarErrorOpen},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n}(),Tt=i["\u0275crt"]({encapsulation:0,styles:[['.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:55px;padding:0 15px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__header[_ngcontent-%COMP%]   .app-period-split-information__header--input[_ngcontent-%COMP%]{width:188px;margin:auto 0}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__header[_ngcontent-%COMP%]   .app-period-split-information__header--icons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:47px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information--cog[_ngcontent-%COMP%], .app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information--trash[_ngcontent-%COMP%]{font-size:14px;margin:auto 0}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information--cog[_ngcontent-%COMP%]:hover, .app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information--trash[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information--trash[_ngcontent-%COMP%]{color:gray}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information--cog[_ngcontent-%COMP%]{color:#4350a2}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:60px;margin:15px 15px 20px;padding:15px;background-color:#f3f3f3}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]   .app-period-split-information__modification--select[_ngcontent-%COMP%]{width:116px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]   .app-period-split-information__modification--input[_ngcontent-%COMP%]{width:50px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]   .app-period-split-information__modification--label[_ngcontent-%COMP%]{margin:auto 0;font-size:12px;line-height:15px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]   .app-period-split-information__modification--field-container[_ngcontent-%COMP%]{display:flex}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]   .app-period-split-information__modification--field-container[_ngcontent-%COMP%]   .app-period-split-information__modification--split-unit[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:space-between;width:194px;padding:0 20px 0 0}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]   .app-period-split-information__modification--field-container[_ngcontent-%COMP%]   .app-period-split-information__modification--split-unit[_ngcontent-%COMP%]::after{content:"";position:absolute;width:1px;right:1px;top:-3px;height:40px;background-color:#cacaca}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]   .app-period-split-information__modification--field-container[_ngcontent-%COMP%]   .app-period-split-information__modification--split-amount[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:133px;padding:0 0 0 20px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]   .app-period-split-information__modification--field-container[_ngcontent-%COMP%]   .app-period-split-information__modification--split-duration[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:155px;padding:0 0 0 10px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]   .app-period-split-information__modification--button[_ngcontent-%COMP%]{width:101px;height:25px;margin:auto 0;font-size:12px;line-height:20px;background-color:#4350a2;color:#fff;border-radius:3px;align-items:center;vertical-align:middle}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__modification[_ngcontent-%COMP%]   .app-period-split-information__modification--button[_ngcontent-%COMP%]:hover{background-color:#3a458c}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]{padding:0 15px 25px;position:relative}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]   .app-period-split-information__information--header[_ngcontent-%COMP%]{font:800 13px/15px NunitoSans-Bold;text-transform:uppercase;margin:0 0 10px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]   .app-period-split-information__information--button[_ngcontent-%COMP%]{margin:0 0 0 15px;font:800 13px/15px NunitoSans-Bold;color:#4350a2;background-color:transparent;border-color:transparent}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]   .app-period-split-information__table[_ngcontent-%COMP%]{width:100%;margin:0 0 10px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]   .app-period-split-information__table[_ngcontent-%COMP%]   .app-period-split-information__row[_ngcontent-%COMP%]{height:45px;border-bottom:1px solid #e7e7e7}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]   .app-period-split-information__table[_ngcontent-%COMP%]   .app-period-split-information__row[_ngcontent-%COMP%]   .app-period-split-information__cell[_ngcontent-%COMP%]{width:170px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]   .app-period-split-information__table[_ngcontent-%COMP%]   .app-period-split-information__row[_ngcontent-%COMP%]   .app-period-split-information__cell[_ngcontent-%COMP%]   .app-period-split-information__field[_ngcontent-%COMP%]{padding:6px 3px 6px 10px;width:92px;min-height:25px;max-height:25px;border:1px solid #b6b6b6;border-radius:3px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]   .app-period-split-information__table[_ngcontent-%COMP%]   .app-period-split-information__row[_ngcontent-%COMP%]   .app-period-split-information--trash[_ngcontent-%COMP%]{display:block}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]   .app-period-split-information__table[_ngcontent-%COMP%]   .app-period-split-information__row[_ngcontent-%COMP%]   .app-period-split-information__cell[_ngcontent-%COMP%]:last-of-type{width:auto;height:45px;display:flex;justify-content:flex-end;padding:0 10px 0 0}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]   .app-period-split-information__table[_ngcontent-%COMP%]   .app-period-split-information__row[_ngcontent-%COMP%]   .app-period-split-information__cell[_ngcontent-%COMP%]:nth-child(1){padding:0 0 0 15px}.app-period-split-information[_ngcontent-%COMP%]   .app-period-split-information__information[_ngcontent-%COMP%]   .app-period-split-information__error[_ngcontent-%COMP%]{position:absolute;bottom:-10px;right:0}']],data:{}});function Yt(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,1,"button",[["class","app-period-split-information__modification--button"]],null,[[null,"click"]],function(n,t,e){var i=!0;return"click"===t&&(i=!1!==n.component.onCreateSplit()&&i),i},null,null)),(n()(),i["\u0275ted"](-1,null,[" Create Split "]))],null,null)}function Nt(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,1,"button",[["class","app-period-split-information__modification--button"]],null,[[null,"click"]],function(n,t,e){var i=!0;return"click"===t&&(i=!1!==n.component.onModifySplit()&&i),i},null,null)),(n()(),i["\u0275ted"](-1,null,[" Modify Split "]))],null,null)}function Lt(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,31,"tr",[["class","app-period-split-information__row"]],null,null,null,null,null)),i["\u0275prd"](512,null,a["\u0275NgStyleImpl"],a["\u0275NgStyleR2Impl"],[i.ElementRef,i.KeyValueDiffers,i.Renderer2]),i["\u0275did"](2,278528,null,0,a.NgStyle,[a["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](3,{"background-color":0}),(n()(),i["\u0275eld"](4,0,null,null,5,"td",[["class","app-period-split-information__cell"]],null,null,null,null,null)),(n()(),i["\u0275eld"](5,0,null,null,4,"app-input-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,t,e){var i=!0,l=n.component;return"ngModelChange"===t&&(i=!1!==(n.context.$implicit.name=e)&&i),"ngModelChange"===t&&(i=!1!==l.onChangeName(e,n.context.$implicit.split_id)&&i),i},V.b,V.a)),i["\u0275did"](6,671744,null,0,A.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,A.q,null,[A.u]),i["\u0275did"](8,16384,null,0,A.r,[[4,A.q]],null,null),i["\u0275did"](9,114688,null,0,q.a,[[6,A.q]],{style:[0,"style"]},null),(n()(),i["\u0275eld"](10,0,null,null,5,"td",[["class","app-period-split-information__cell"]],null,null,null,null,null)),(n()(),i["\u0275eld"](11,0,null,null,4,"app-datepicker-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,t,e){var i=!0,l=n.component;return"ngModelChange"===t&&(i=!1!==(n.context.$implicit.date_from=e)&&i),"ngModelChange"===t&&(i=!1!==l.onChangeDate(n.context.$implicit,"dateFrom")&&i),i},z.b,z.a)),i["\u0275did"](12,671744,null,0,A.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,A.q,null,[A.u]),i["\u0275did"](14,16384,null,0,A.r,[[4,A.q]],null,null),i["\u0275did"](15,114688,null,0,B.a,[[6,A.q]],{width:[0,"width"],dateInputFormat:[1,"dateInputFormat"],style:[2,"style"]},null),(n()(),i["\u0275eld"](16,0,null,null,5,"td",[["class","app-period-split-information__cell"]],null,null,null,null,null)),(n()(),i["\u0275eld"](17,0,null,null,4,"app-datepicker-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,t,e){var i=!0,l=n.component;return"ngModelChange"===t&&(i=!1!==(n.context.$implicit.date_to=e)&&i),"ngModelChange"===t&&(i=!1!==l.onChangeDate(n.context.$implicit,"dateTo")&&i),i},z.b,z.a)),i["\u0275did"](18,671744,null,0,A.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,A.q,null,[A.u]),i["\u0275did"](20,16384,null,0,A.r,[[4,A.q]],null,null),i["\u0275did"](21,114688,null,0,B.a,[[6,A.q]],{width:[0,"width"],dateInputFormat:[1,"dateInputFormat"],style:[2,"style"]},null),(n()(),i["\u0275eld"](22,0,null,null,7,"td",[["class","app-period-split-information__cell"]],null,null,null,null,null)),(n()(),i["\u0275eld"](23,0,null,null,6,"input",[["class","app-period-split-information__field"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,t,e){var l=!0,o=n.component;return"input"===t&&(l=!1!==i["\u0275nov"](n,24)._handleInput(e.target.value)&&l),"blur"===t&&(l=!1!==i["\u0275nov"](n,24).onTouched()&&l),"compositionstart"===t&&(l=!1!==i["\u0275nov"](n,24)._compositionStart()&&l),"compositionend"===t&&(l=!1!==i["\u0275nov"](n,24)._compositionEnd(e.target.value)&&l),"change"===t&&(l=!1!==i["\u0275nov"](n,25).onChange(e.target.value)&&l),"input"===t&&(l=!1!==i["\u0275nov"](n,25).onChange(e.target.value)&&l),"blur"===t&&(l=!1!==i["\u0275nov"](n,25).onTouched()&&l),"ngModelChange"===t&&(l=!1!==(n.context.$implicit.duration=e)&&l),"ngModelChange"===t&&(l=!1!==o.onChangeDuration(n.context.$implicit.split_id)&&l),l},null,null)),i["\u0275did"](24,16384,null,0,A.d,[i.Renderer2,i.ElementRef,[2,A.a]],null,null),i["\u0275did"](25,16384,null,0,A.w,[i.Renderer2,i.ElementRef],null,null),i["\u0275prd"](1024,null,A.p,function(n,t){return[n,t]},[A.d,A.w]),i["\u0275did"](27,671744,null,0,A.u,[[8,null],[8,null],[8,null],[6,A.p]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,A.q,null,[A.u]),i["\u0275did"](29,16384,null,0,A.r,[[4,A.q]],null,null),(n()(),i["\u0275eld"](30,0,null,null,1,"td",[["class","app-period-split-information__cell"]],null,null,null,null,null)),(n()(),i["\u0275eld"](31,0,null,null,0,"i",[["class","fas fa-trash app-period-split-information--trash"]],null,[[null,"click"]],function(n,t,e){var i=!0;return"click"===t&&(i=!1!==n.component.onDeleteSplit(n.context.$implicit.split_id)&&i),i},null,null))],function(n,t){var e=n(t,3,0,t.component.getRowColor(t.context.index));n(t,2,0,e),n(t,6,0,t.context.$implicit.name),n(t,9,0,"cell"),n(t,12,0,t.context.$implicit.date_from),n(t,15,0,"92px","MM/DD","cell"),n(t,18,0,t.context.$implicit.date_to),n(t,21,0,"92px","MM/DD","cell"),n(t,27,0,t.context.$implicit.duration)},function(n,t){n(t,5,0,i["\u0275nov"](t,8).ngClassUntouched,i["\u0275nov"](t,8).ngClassTouched,i["\u0275nov"](t,8).ngClassPristine,i["\u0275nov"](t,8).ngClassDirty,i["\u0275nov"](t,8).ngClassValid,i["\u0275nov"](t,8).ngClassInvalid,i["\u0275nov"](t,8).ngClassPending),n(t,11,0,i["\u0275nov"](t,14).ngClassUntouched,i["\u0275nov"](t,14).ngClassTouched,i["\u0275nov"](t,14).ngClassPristine,i["\u0275nov"](t,14).ngClassDirty,i["\u0275nov"](t,14).ngClassValid,i["\u0275nov"](t,14).ngClassInvalid,i["\u0275nov"](t,14).ngClassPending),n(t,17,0,i["\u0275nov"](t,20).ngClassUntouched,i["\u0275nov"](t,20).ngClassTouched,i["\u0275nov"](t,20).ngClassPristine,i["\u0275nov"](t,20).ngClassDirty,i["\u0275nov"](t,20).ngClassValid,i["\u0275nov"](t,20).ngClassInvalid,i["\u0275nov"](t,20).ngClassPending),n(t,23,0,i["\u0275nov"](t,29).ngClassUntouched,i["\u0275nov"](t,29).ngClassTouched,i["\u0275nov"](t,29).ngClassPristine,i["\u0275nov"](t,29).ngClassDirty,i["\u0275nov"](t,29).ngClassValid,i["\u0275nov"](t,29).ngClassInvalid,i["\u0275nov"](t,29).ngClassPending)})}function jt(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,2,"tbody",[],null,null,null,null,null)),(n()(),i["\u0275and"](16777216,null,null,1,null,Lt)),i["\u0275did"](2,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,2,0,t.component.viewSplits)},null)}function Ft(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-split-information__error"]],null,null,null,null,null)),(n()(),i["\u0275eld"](1,0,null,null,1,"app-period-error",[],null,[[null,"closeError"]],function(n,t,e){var i=!0;return"closeError"===t&&(i=!1!==n.component.onCloseSplitSetError()&&i),i},ut,at)),i["\u0275did"](2,114688,null,0,rt,[],{errors:[0,"errors"]},{closeError:"closeError"})],function(n,t){n(t,2,0,t.component.activeSplitSet.error.text)},null)}function Vt(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,62,"div",[["class","app-period-split-information"]],null,null,null,null,null)),(n()(),i["\u0275eld"](1,0,null,null,12,"div",[["class","app-period-split-information__header"]],null,null,null,null,null)),i["\u0275prd"](512,null,a["\u0275NgStyleImpl"],a["\u0275NgStyleR2Impl"],[i.ElementRef,i.KeyValueDiffers,i.Renderer2]),i["\u0275did"](3,278528,null,0,a.NgStyle,[a["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](4,{"background-color":0}),(n()(),i["\u0275eld"](5,0,null,null,5,"div",[["class","app-period-split-information__header--input"]],null,null,null,null,null)),(n()(),i["\u0275eld"](6,0,null,null,4,"app-input-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,t,e){var i=!0;return"ngModelChange"===t&&(i=!1!==(n.component.activeSplitSet.name=e)&&i),i},V.b,V.a)),i["\u0275did"](7,671744,null,0,A.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,A.q,null,[A.u]),i["\u0275did"](9,16384,null,0,A.r,[[4,A.q]],null,null),i["\u0275did"](10,114688,null,0,q.a,[[6,A.q]],{label:[0,"label"]},null),(n()(),i["\u0275eld"](11,0,null,null,2,"div",[["class","app-period-split-information__header--icons"]],null,null,null,null,null)),(n()(),i["\u0275eld"](12,0,null,null,0,"i",[["class","fas fa-trash app-period-split-information--trash"]],null,[[null,"click"]],function(n,t,e){var i=!0;return"click"===t&&(i=!1!==n.component.onDeleteClick()&&i),i},null,null)),(n()(),i["\u0275eld"](13,0,null,null,0,"i",[["class","fas fa-cog app-period-split-information--cog"]],null,null,null,null,null)),(n()(),i["\u0275eld"](14,0,null,null,36,"form",[["class","app-period-split-information__modification"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,t,e){var l=!0;return"submit"===t&&(l=!1!==i["\u0275nov"](n,16).onSubmit(e)&&l),"reset"===t&&(l=!1!==i["\u0275nov"](n,16).onReset()&&l),l},null,null)),i["\u0275did"](15,16384,null,0,A.H,[],null,null),i["\u0275did"](16,540672,null,0,A.k,[[8,null],[8,null]],{form:[0,"form"]},null),i["\u0275prd"](2048,null,A.c,null,[A.k]),i["\u0275did"](18,16384,null,0,A.s,[[4,A.c]],null,null),(n()(),i["\u0275eld"](19,0,null,null,27,"div",[["class","app-period-split-information__modification--field-container"]],null,null,null,null,null)),(n()(),i["\u0275eld"](20,0,null,null,8,"div",[["class","app-period-split-information__modification--split-unit"]],null,null,null,null,null)),(n()(),i["\u0275eld"](21,0,null,null,1,"p",[["class","app-period-split-information__modification--label"]],null,null,null,null,null)),(n()(),i["\u0275ted"](-1,null,["Split Into"])),(n()(),i["\u0275eld"](23,0,null,null,5,"div",[["class","app-period-split-information__modification--select"]],null,null,null,null,null)),(n()(),i["\u0275eld"](24,0,null,null,4,"app-select-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,Et.b,Et.a)),i["\u0275did"](25,671744,null,0,A.i,[[3,A.c],[8,null],[8,null],[8,null],[2,A.F]],{name:[0,"name"]},null),i["\u0275prd"](2048,null,A.q,null,[A.i]),i["\u0275did"](27,16384,null,0,A.r,[[4,A.q]],null,null),i["\u0275did"](28,114688,null,0,Rt.a,[[6,A.q]],{items:[0,"items"],value:[1,"value"],style:[2,"style"]},null),(n()(),i["\u0275eld"](29,0,null,null,8,"div",[["class","app-period-split-information__modification--split-amount"]],null,null,null,null,null)),(n()(),i["\u0275eld"](30,0,null,null,5,"div",[["class","app-period-split-information__modification--input"]],null,null,null,null,null)),(n()(),i["\u0275eld"](31,0,null,null,4,"app-input-field",[["fieldType","table"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,V.b,V.a)),i["\u0275did"](32,671744,null,0,A.i,[[3,A.c],[8,null],[8,null],[8,null],[2,A.F]],{name:[0,"name"]},null),i["\u0275prd"](2048,null,A.q,null,[A.i]),i["\u0275did"](34,16384,null,0,A.r,[[4,A.q]],null,null),i["\u0275did"](35,114688,null,0,q.a,[[6,A.q]],{fieldType:[0,"fieldType"]},null),(n()(),i["\u0275eld"](36,0,null,null,1,"p",[["class","app-period-split-information__modification--label"]],null,null,null,null,null)),(n()(),i["\u0275ted"](-1,null,["splits of"])),(n()(),i["\u0275eld"](38,0,null,null,8,"div",[["class","app-period-split-information__modification--split-duration"]],null,null,null,null,null)),(n()(),i["\u0275eld"](39,0,null,null,5,"div",[["class","app-period-split-information__modification--input"]],null,null,null,null,null)),(n()(),i["\u0275eld"](40,0,null,null,4,"app-input-field",[["fieldType","table"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,V.b,V.a)),i["\u0275did"](41,671744,null,0,A.i,[[3,A.c],[8,null],[8,null],[8,null],[2,A.F]],{name:[0,"name"]},null),i["\u0275prd"](2048,null,A.q,null,[A.i]),i["\u0275did"](43,16384,null,0,A.r,[[4,A.q]],null,null),i["\u0275did"](44,114688,null,0,q.a,[[6,A.q]],{fieldType:[0,"fieldType"]},null),(n()(),i["\u0275eld"](45,0,null,null,1,"p",[["class","app-period-split-information__modification--label"]],null,null,null,null,null)),(n()(),i["\u0275ted"](46,null,[" "," each "])),(n()(),i["\u0275and"](16777216,null,null,1,null,Yt)),i["\u0275did"](48,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),i["\u0275and"](16777216,null,null,1,null,Nt)),i["\u0275did"](50,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),i["\u0275eld"](51,0,null,null,11,"div",[["class","app-period-split-information__information"]],null,null,null,null,null)),(n()(),i["\u0275eld"](52,0,null,null,1,"h3",[["class","app-period-split-information__information--header"]],null,null,null,null,null)),(n()(),i["\u0275ted"](-1,null,["split information"])),(n()(),i["\u0275eld"](54,0,null,null,4,"table",[["class","app-period-split-information__table"]],null,null,null,null,null)),(n()(),i["\u0275eld"](55,0,null,null,1,"thead",[["app-table-thead",""]],null,[[null,"sortFilter"],[null,"searchValueEvent"]],function(n,t,e){var i=!0,l=n.component;return"sortFilter"===t&&(i=!1!==l.onSortSplits(e)&&i),"searchValueEvent"===t&&(i=!1!==l.onSearch(e)&&i),i},R.b,R.a)),i["\u0275did"](56,114688,null,0,k.a,[],{columns:[0,"columns"]},{sortFilter:"sortFilter",searchValueEvent:"searchValueEvent"}),(n()(),i["\u0275and"](16777216,null,null,1,null,jt)),i["\u0275did"](58,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),i["\u0275and"](16777216,null,null,1,null,Ft)),i["\u0275did"](60,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),i["\u0275eld"](61,0,null,null,1,"button",[["class","app-period-split-information__information--button"]],null,[[null,"click"]],function(n,t,e){var i=!0;return"click"===t&&(i=!1!==n.component.onSplitCreate()&&i),i},null,null)),(n()(),i["\u0275ted"](-1,null,["Crete Split Row"]))],function(n,t){var e=t.component,i=n(t,4,0,e.getBkgColor());n(t,3,0,i),n(t,7,0,e.activeSplitSet.name),n(t,10,0,"Split Name"),n(t,16,0,e.splitInformationForm),n(t,25,0,"splitUnit"),n(t,28,0,e.splitUnits,e.splitUnits[0],"thead"),n(t,32,0,"splitAmount"),n(t,35,0,"table"),n(t,41,0,"splitDuration"),n(t,44,0,"table"),n(t,48,0,!e.activeSplitSet.splits||!(e.activeSplitSet.splits&&e.activeSplitSet.splits.length)),n(t,50,0,e.activeSplitSet.splits&&e.activeSplitSet.splits.length),n(t,56,0,e.splitSetTableColumns),n(t,58,0,e.viewSplits&&e.viewSplits.length),n(t,60,0,e.hasShownSplitSetError(e.activeSplitSet))},function(n,t){var e=t.component;n(t,6,0,i["\u0275nov"](t,9).ngClassUntouched,i["\u0275nov"](t,9).ngClassTouched,i["\u0275nov"](t,9).ngClassPristine,i["\u0275nov"](t,9).ngClassDirty,i["\u0275nov"](t,9).ngClassValid,i["\u0275nov"](t,9).ngClassInvalid,i["\u0275nov"](t,9).ngClassPending),n(t,14,0,i["\u0275nov"](t,18).ngClassUntouched,i["\u0275nov"](t,18).ngClassTouched,i["\u0275nov"](t,18).ngClassPristine,i["\u0275nov"](t,18).ngClassDirty,i["\u0275nov"](t,18).ngClassValid,i["\u0275nov"](t,18).ngClassInvalid,i["\u0275nov"](t,18).ngClassPending),n(t,24,0,i["\u0275nov"](t,27).ngClassUntouched,i["\u0275nov"](t,27).ngClassTouched,i["\u0275nov"](t,27).ngClassPristine,i["\u0275nov"](t,27).ngClassDirty,i["\u0275nov"](t,27).ngClassValid,i["\u0275nov"](t,27).ngClassInvalid,i["\u0275nov"](t,27).ngClassPending),n(t,31,0,i["\u0275nov"](t,34).ngClassUntouched,i["\u0275nov"](t,34).ngClassTouched,i["\u0275nov"](t,34).ngClassPristine,i["\u0275nov"](t,34).ngClassDirty,i["\u0275nov"](t,34).ngClassValid,i["\u0275nov"](t,34).ngClassInvalid,i["\u0275nov"](t,34).ngClassPending),n(t,40,0,i["\u0275nov"](t,43).ngClassUntouched,i["\u0275nov"](t,43).ngClassTouched,i["\u0275nov"](t,43).ngClassPristine,i["\u0275nov"](t,43).ngClassDirty,i["\u0275nov"](t,43).ngClassValid,i["\u0275nov"](t,43).ngClassInvalid,i["\u0275nov"](t,43).ngClassPending),n(t,46,0,e.splitInformationForm.get("splitUnit").value)})}var At=function(){function n(){this.cancelExit=new i.EventEmitter,this.acceptExit=new i.EventEmitter}return n.prototype.ngOnInit=function(){},n}(),qt=i["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function zt(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-cancel-popup"]],null,null,null,null,null)),(n()(),i["\u0275eld"](1,0,null,null,1,"div",[["claas","app-period-cancel-popup__container"]],null,null,null,null,null)),(n()(),i["\u0275ted"](-1,null,[" cancel "]))],null,null)}var Bt=function(){function n(n,t){this.store=n,this.periodService=t,this.subscription=new p.a}return n.prototype.ngOnInit=function(){var n=this;this.subscription=this.periodService.getPeriodStore().subscribe(function(t){n.period=t.period,n.initScale()}),this.periodScale={width:2196,length:366,items:[],label:this.period.name,duration:this.period.duration>366?366:this.period.duration},this.initScale()},n.prototype.initScale=function(){this.periodScale={width:2196,length:366,items:[],label:this.period.name,duration:this.period.duration>366?366:this.period.duration};for(var n=0;n<this.periodScale.length;n++)this.drawItem(n);this.periodScale.items&&this.period&&this.period.duration&&this.period.duration>0&&(this.periodScale.items[0].isLowExtreme=!0,this.periodScale.items[this.periodScale.duration-1].isHighExtreme=!0)},n.prototype.drawItem=function(n){1===u(this.period.date_from,"DD-MM-YYYY").add(n,"days").date()?this.periodScale.items.push({id:n,label:u().month(u(this.period.date_from,"DD-MM-YYYY").add(n,"days").month()).format("MMMM").slice(0,3),isLowExtreme:!1,isHighExtreme:!1}):this.periodScale.items.push({id:n,isLowExtreme:!1,isHighExtreme:!1}),this.periodScale.items[n].isSelected=u(this.period.date_from,"DD-MM-YYYY")<=u(this.period.date_from,"DD-MM-YYYY").add(n,"days")&&u(this.period.date_from,"DD-MM-YYYY").add(n,"days")<=u(this.period.date_to,"DD-MM-YYYY")},n.prototype.dropItem=function(n){var t=this;Array.prototype.slice.call(n.item.element.nativeElement.children).map(function(e){if(e.className.includes("app-period-bar__cell--high-extreme"))t.store.dispatch(new h({name:t.periodScale.label,date_from:t.period.date_from,date_to:u(t.period.date_from,"DD-MM-YYYY").add(n.currentIndex+1,"days").toDate(),duration:n.currentIndex+2,split_sets:t.period.split_sets}));else if(e.className.includes("app-period-bar__cell--low-extreme")){var i=t.period.duration;t.store.dispatch(new h({name:t.periodScale.label,date_from:u(t.period.date_from,"DD-MM-YYYY").add(n.currentIndex,"days").toDate(),date_to:t.period.date_to,duration:i-n.currentIndex+1,split_sets:t.period.split_sets}))}})},n.prototype.getWidth=function(){return this.periodScale.duration>15?(6*this.periodScale.duration-12).toString()+"px":"0px"},n.prototype.onChangeName=function(n){this.store.dispatch(new h({name:n,date_from:this.period.date_from,date_to:this.period.date_to,duration:this.period.duration,split_sets:this.period.split_sets}))},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n}(),Ut=i["\u0275crt"]({encapsulation:0,styles:[['.app-period-bar[_ngcontent-%COMP%]{display:flex;padding:20px 15px;background-color:#fff;overflow-x:hidden}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__header[_ngcontent-%COMP%]{min-width:113px;max-width:113px;height:15px;font:800 12px/15px NunitoSans-Bold;margin:7px 0 auto}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale[_ngcontent-%COMP%]{flex-grow:1;display:flex;position:relative;overflow:visible;min-width:500px;max-width:853px;height:65px;padding:10px 0 15px 7px;overflow-y:auto}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale[_ngcontent-%COMP%]   .app-period-bar__scale--label[_ngcontent-%COMP%]{position:absolute;z-index:1;overflow:hidden}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]{width:4px;height:14px;margin:0 2px 0 0;background-color:#f7f8ff;position:relative}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]   .app-period-bar__cell--month[_ngcontent-%COMP%]{position:absolute;bottom:-14px;height:10px;font-size:10px;color:#000}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]   .app-period-bar__cell--month[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:9px;left:1px;height:7px;width:2px;background-color:#000}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]   .app-period-bar__cell--high-extreme[_ngcontent-%COMP%], .app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]   .app-period-bar__cell--low-extreme[_ngcontent-%COMP%]{position:absolute;z-index:2;top:1px;right:-2px}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]   .app-period-bar__cell--high-extreme[_ngcontent-%COMP%]{right:-4px}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__scale--cell[_ngcontent-%COMP%]::before{content:"";position:absolute;top:-7px;height:4px;width:4px;background-color:#36405f}.app-period-bar[_ngcontent-%COMP%]   .app-period-bar__cell--selected[_ngcontent-%COMP%]{width:5.5px;height:14px;background-color:#36405f}.app-period-bar[_ngcontent-%COMP%]   .cdk-drag-placeholder[_ngcontent-%COMP%]   .app-period-bar__cell--month[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   .app-period-bar__cell--month[_ngcontent-%COMP%]{display:none}']],data:{}});function $t(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","app-period-bar__cell--month"]],null,null,null,null,null)),(n()(),i["\u0275ted"](1,null,["",""]))],null,function(n,t){n(t,1,0,t.parent.context.$implicit.label)})}function Ht(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,0,"div",[["class","app-period-bar__cell--selected"]],null,null,null,null,null))],null,null)}function Gt(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,2,"app-carets",[["cdkDragHandle",""],["class","app-period-bar__cell--high-extreme cdk-drag-handle"]],null,null,null,J,X)),i["\u0275did"](1,147456,[[2,4]],0,Gn,[i.ElementRef,[2,Hn]],null,null),i["\u0275did"](2,114688,null,0,W,[],null,null)],function(n,t){n(t,2,0)},null)}function Kt(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,2,"app-carets",[["cdkDragHandle",""],["class","app-period-bar__cell--low-extreme cdk-drag-handle"]],null,null,null,J,X)),i["\u0275did"](1,147456,[[2,4]],0,Gn,[i.ElementRef,[2,Hn]],null,null),i["\u0275did"](2,114688,null,0,W,[],null,null)],function(n,t){n(t,2,0)},null)}function Zt(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,16777216,null,null,13,"div",[["cdkDrag",""],["cdkDragBoundary",".app-period-bar__scale"],["cdkDragLockAxis","x"],["class","app-period-bar__scale--cell cdk-drag"]],[[2,"cdk-drag-disabled",null],[2,"cdk-drag-dragging",null]],null,null,null,null)),i["\u0275prd"](6144,null,Hn,null,[Zn]),i["\u0275did"](2,4866048,[[1,4]],3,Zn,[i.ElementRef,[3,$n],a.DOCUMENT,i.NgZone,i.ViewContainerRef,bn,zn,Kn,[2,ot],Un,i.ChangeDetectorRef],{lockAxis:[0,"lockAxis"],boundaryElementSelector:[1,"boundaryElementSelector"],disabled:[2,"disabled"]},null),i["\u0275qud"](603979776,2,{_handles:1}),i["\u0275qud"](335544320,3,{_previewTemplate:0}),i["\u0275qud"](335544320,4,{_placeholderTemplate:0}),(n()(),i["\u0275and"](16777216,null,null,1,null,$t)),i["\u0275did"](7,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),i["\u0275and"](16777216,null,null,1,null,Ht)),i["\u0275did"](9,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),i["\u0275and"](16777216,null,null,1,null,Gt)),i["\u0275did"](11,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),i["\u0275and"](16777216,null,null,1,null,Kt)),i["\u0275did"](13,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),i["\u0275and"](0,null,null,0))],function(n,t){n(t,2,0,"x",".app-period-bar__scale",!(t.context.$implicit.isHighExtreme||t.context.$implicit.isLowExtreme)),n(t,7,0,t.context.$implicit.label),n(t,9,0,t.context.$implicit.isSelected),n(t,11,0,t.context.$implicit.isHighExtreme),n(t,13,0,t.context.$implicit.isLowExtreme)},function(n,t){n(t,0,0,i["\u0275nov"](t,2).disabled,i["\u0275nov"](t,2)._dragRef.isDragging())})}function Wt(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,15,"div",[["class","app-period-bar"]],null,null,null,null,null)),(n()(),i["\u0275eld"](1,0,null,null,1,"h2",[["class","app-period-bar__header"]],null,null,null,null,null)),(n()(),i["\u0275ted"](2,null,["",""])),(n()(),i["\u0275eld"](3,0,null,null,12,"div",[["cdkDropList",""],["cdkDropListOrientation","horizontal"],["class","app-period-bar__scale cdk-drop-list"]],[[8,"id",0],[2,"cdk-drop-list-disabled",null],[2,"cdk-drop-list-dragging",null],[2,"cdk-drop-list-receiving",null]],[[null,"cdkDropListDropped"]],function(n,t,e){var i=!0;return"cdkDropListDropped"===t&&(i=!1!==n.component.dropItem(e)&&i),i},null,null)),i["\u0275prd"](6144,null,$n,null,[Qn]),i["\u0275did"](5,1196032,null,1,Qn,[i.ElementRef,zn,i.ChangeDetectorRef,[2,ot],[3,Xn],[2,a.DOCUMENT],Un],{orientation:[0,"orientation"]},{dropped:"cdkDropListDropped"}),i["\u0275qud"](603979776,1,{_draggables:1}),i["\u0275prd"](256,null,Xn,void 0,[]),(n()(),i["\u0275eld"](8,0,null,null,5,"div",[["class","app-period-bar__scale--label"]],[[4,"width",null]],null,null,null,null)),(n()(),i["\u0275eld"](9,0,null,null,4,"app-input-editable-field",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,t,e){var i=!0,l=n.component;return"ngModelChange"===t&&(i=!1!==(l.period.name=e)&&i),"ngModelChange"===t&&(i=!1!==l.onChangeName(e)&&i),i},_t,ht)),i["\u0275did"](10,671744,null,0,A.u,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,A.q,null,[A.u]),i["\u0275did"](12,16384,null,0,A.r,[[4,A.q]],null,null),i["\u0275did"](13,114688,null,0,gt,[[6,A.q]],null,null),(n()(),i["\u0275and"](16777216,null,null,1,null,Zt)),i["\u0275did"](15,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,t){var e=t.component;n(t,5,0,"horizontal"),n(t,10,0,e.period.name),n(t,13,0),n(t,15,0,e.periodScale.items)},function(n,t){var e=t.component;n(t,2,0,e.period.name),n(t,3,0,i["\u0275nov"](t,5).id,i["\u0275nov"](t,5).disabled,i["\u0275nov"](t,5)._dropListRef.isDragging(),i["\u0275nov"](t,5)._dropListRef.isReceiving()),n(t,8,0,e.getWidth()),n(t,9,0,i["\u0275nov"](t,12).ngClassUntouched,i["\u0275nov"](t,12).ngClassTouched,i["\u0275nov"](t,12).ngClassPristine,i["\u0275nov"](t,12).ngClassDirty,i["\u0275nov"](t,12).ngClassValid,i["\u0275nov"](t,12).ngClassInvalid,i["\u0275nov"](t,12).ngClassPending)})}var Xt=function(){function n(n,t){this.store=n,this.periodService=t,this.isPopupShown=!1,this.subscription=new p.a,this.onCreateClick=new i.EventEmitter}return n.prototype.ngOnInit=function(){var n=this;this.subscription=this.periodService.getPeriodStore().subscribe(function(t){n.splitSet=t.period.split_sets,n.period=t})},n.prototype.onAddSplit=function(){this.store.dispatch(new b({name:"Academical",split_set_id:0===this.splitSet.length?0:this.splitSet.slice(-1).pop().split_set_id+1,splits:[],error:{text:null,isBarErrorOpen:!1,isTableErrorOpen:!1}}))},n.prototype.onCreate=function(){this.store.dispatch(new _(this.period))},n.prototype.onCancel=function(){this.period.period.name||this.period.period.date_to||this.period.period.date_from||this.period.period.split_sets.length?this.isPopupShown=!0:console.log("link to period")},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n}(),Jt=i["\u0275crt"]({encapsulation:0,styles:[[".app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__container[_ngcontent-%COMP%]{margin:0 0 20px}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__container[_ngcontent-%COMP%]   .app-period-general-settings__split-set-info[_ngcontent-%COMP%]{margin:0 0 10px;background-color:#fff}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:0;padding:20px 15px 0;background-color:#fff}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__header[_ngcontent-%COMP%]   .app-period-general-settings__header-text[_ngcontent-%COMP%]{font:800 13px/15px NunitoSans-Bold;text-transform:uppercase;margin:auto 0}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__header[_ngcontent-%COMP%]   .app-period-general-settings__header-button[_ngcontent-%COMP%]{width:165px;height:30px;font-size:12px;line-height:15px;background-color:#4350a2;color:#fff;border-radius:3px;align-items:center;vertical-align:middle}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__header[_ngcontent-%COMP%]   .app-period-general-settings__header-button[_ngcontent-%COMP%]:hover{background-color:#3a458c}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__add[_ngcontent-%COMP%]{font:10px/11px NunitoSans-Bold;color:#4350a2;cursor:pointer}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__add[_ngcontent-%COMP%]:hover{opacity:.6}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__buttons[_ngcontent-%COMP%]   .app-period-general-settings__button--cancel[_ngcontent-%COMP%]{width:80px;height:30px;box-sizing:border-box;margin:0 15px 0 0;font:800 12px/15px NunitoSans-Bold;background-color:#e5e5e5;color:#4350a2;border-radius:3px;border:1px solid #4350a2;align-items:center;vertical-align:middle}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__buttons[_ngcontent-%COMP%]   .app-period-general-settings__button--cancel[_ngcontent-%COMP%]:hover{background-color:#cacaca}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__buttons[_ngcontent-%COMP%]   .app-period-general-settings__button--create[_ngcontent-%COMP%]{width:115px;height:30px;margin:0 15px 0 0;font:800 12px/15px NunitoSans-Bold;background-color:#4350a2;color:#fff;border-radius:3px;align-items:center;vertical-align:middle}.app-period-general-settings[_ngcontent-%COMP%]   .app-period-general-settings__buttons[_ngcontent-%COMP%]   .app-period-general-settings__button--create[_ngcontent-%COMP%]:hover{background-color:#3a458c}"]],data:{}});function Qt(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,1,"button",[["class","app-period-general-settings__header-button"]],null,[[null,"click"]],function(n,t,e){var i=!0;return"click"===t&&(i=!1!==n.component.onAddSplit()&&i),i},null,null)),(n()(),i["\u0275ted"](-1,null,[" Create New Split Type "]))],null,null)}function ne(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-general-settings__split-set"]],null,null,null,null,null)),(n()(),i["\u0275eld"](1,0,null,null,1,"app-period-split-bar",[],null,null,null,It,mt)),i["\u0275did"](2,245760,null,0,ft,[w.n,M],{splitSetId:[0,"splitSetId"],viewId:[1,"viewId"]},null)],function(n,t){n(t,2,0,t.component.splitSet[t.context.index].split_set_id,t.context.index)},null)}function te(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-general-settings__split-sets"]],null,null,null,null,null)),(n()(),i["\u0275and"](16777216,null,null,1,null,ne)),i["\u0275did"](2,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,2,0,t.component.splitSet)},null)}function ee(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","app-period-general-settings__split-set-info"]],null,null,null,null,null)),(n()(),i["\u0275eld"](1,0,null,null,1,"app-period-split-information",[],null,null,null,Vt,Tt)),i["\u0275did"](2,245760,null,0,kt,[w.n,A.f,M],{splitSetId:[0,"splitSetId"],viewId:[1,"viewId"]},null)],function(n,t){n(t,2,0,t.component.splitSet[t.context.index].split_set_id,t.context.index)},null)}function ie(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),i["\u0275and"](16777216,null,null,1,null,ee)),i["\u0275did"](2,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,2,0,t.component.splitSet)},null)}function le(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,1,"app-period-cancel-popup",[],null,null,null,zt,qt)),i["\u0275did"](1,114688,null,0,At,[],null,null)],function(n,t){n(t,1,0)},null)}function oe(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,20,"div",[["class","app-period-general-settings"]],null,null,null,null,null)),(n()(),i["\u0275eld"](1,0,null,null,9,"div",[["class","app-period-general-settings__container"]],null,null,null,null,null)),(n()(),i["\u0275eld"](2,0,null,null,4,"div",[["class","app-period-general-settings__header"]],null,null,null,null,null)),(n()(),i["\u0275eld"](3,0,null,null,1,"h2",[["class","app-period-general-settings__header-text"]],null,null,null,null,null)),(n()(),i["\u0275ted"](-1,null,["Period Schedule"])),(n()(),i["\u0275and"](16777216,null,null,1,null,Qt)),i["\u0275did"](6,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),i["\u0275eld"](7,0,null,null,1,"app-period-bar",[],null,null,null,Wt,Ut)),i["\u0275did"](8,245760,null,0,Bt,[w.n,M],null,null),(n()(),i["\u0275and"](16777216,null,null,1,null,te)),i["\u0275did"](10,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),i["\u0275eld"](11,0,null,null,2,"div",[["class","app-period-general-settings__container"]],null,null,null,null,null)),(n()(),i["\u0275and"](16777216,null,null,1,null,ie)),i["\u0275did"](13,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),i["\u0275eld"](14,0,null,null,4,"div",[["class","app-period-general-settings__buttons"]],null,null,null,null,null)),(n()(),i["\u0275eld"](15,0,null,null,1,"button",[["class","app-period-general-settings__button--cancel"]],null,[[null,"click"]],function(n,t,e){var i=!0;return"click"===t&&(i=!1!==n.component.onCancel()&&i),i},null,null)),(n()(),i["\u0275ted"](-1,null,["Cancel"])),(n()(),i["\u0275eld"](17,0,null,null,1,"button",[["class","app-period-general-settings__button--create"]],null,[[null,"click"]],function(n,t,e){var i=!0;return"click"===t&&(i=!1!==n.component.onCreate()&&i),i},null,null)),(n()(),i["\u0275ted"](-1,null,["Create Period"])),(n()(),i["\u0275and"](16777216,null,null,1,null,le)),i["\u0275did"](20,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,6,0,e.splitSet),n(t,8,0),n(t,10,0,e.splitSet),n(t,13,0,e.splitSet),n(t,20,0,e.isPopupShown)},null)}var re=function(){function n(n){this.periodService=n}return n.prototype.ngOnInit=function(){this.periodService.onOpenCreateNewPeriodPage()},n}(),ae=i["\u0275crt"]({encapsulation:0,styles:[[".app-period-create[_ngcontent-%COMP%]{padding:30px 20px}.app-period-create[_ngcontent-%COMP%]   .app-period-create-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.app-period-create[_ngcontent-%COMP%]   .app-period-create-left-panel[_ngcontent-%COMP%]{width:320px;margin:0 20px 0 0}.app-period-create[_ngcontent-%COMP%]   .app-period-create-right-panel[_ngcontent-%COMP%]{flex-grow:1}"]],data:{}});function pe(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,1,"app-period-page-header",[],null,null,null,E,D)),i["\u0275did"](1,245760,null,0,O,[w.n,M,r.k],{titleHeader:[0,"titleHeader"],isBackArrowEnable:[1,"isBackArrowEnable"],isCreate:[2,"isCreate"],buttonText:[3,"buttonText"],link:[4,"link"]},null),(n()(),i["\u0275eld"](2,0,null,null,7,"div",[["class","app-period-create"]],null,null,null,null,null)),(n()(),i["\u0275eld"](3,0,null,null,6,"div",[["class","app-period-create-container"]],null,null,null,null,null)),(n()(),i["\u0275eld"](4,0,null,null,2,"div",[["class","app-period-create-left-panel"]],null,null,null,null,null)),(n()(),i["\u0275eld"](5,0,null,null,1,"app-period-duration-setting",[],null,null,null,K,$)),i["\u0275did"](6,245760,null,0,U,[w.n,M],null,null),(n()(),i["\u0275eld"](7,0,null,null,2,"div",[["class","app-period-create-right-panel"]],null,null,null,null,null)),(n()(),i["\u0275eld"](8,0,null,null,1,"app-period-general-setting",[],null,null,null,oe,Jt)),i["\u0275did"](9,245760,null,0,Xt,[w.n,M],null,null)],function(n,t){n(t,1,0,"CREATE PERIOD",!0,!0,"Save & exit","/period"),n(t,6,0),n(t,9,0)},null)}function se(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,1,"app-period-create",[],null,null,null,pe,ae)),i["\u0275did"](1,114688,null,0,re,[M],null,null)],function(n,t){n(t,1,0)},null)}var de=i["\u0275ccf"]("app-period-create",re,se,{},{},[]),ue=e("atuK"),ce=e("9AJC"),ge=e("4GxJ"),he=e("NJnL"),_e=e("lqqz"),fe=e("ARl4"),me=function(){return function(){}}(),ve=e("QpxQ"),Ce=e("D2tp"),be={periods:[],period:{name:"new period",date_from:new Date,date_to:u(new Date,"DD-MM-YYYY").add(365,"days").toDate(),duration:366,split_sets:[{name:"Financial",split_set_id:1,error:{text:null,isBarErrorOpen:!1,isTableErrorOpen:!1},splits:[{name:"1 split",date_from:new Date,date_to:u(new Date,"DD-MM-YYYY").add(30,"days").toDate(),split_id:1,duration:31}]}]},savePeriodError:{text:null,isOpen:!1}};function Pe(n,t){switch(void 0===n&&(n=be),t.type){case c.ChangePeriod:case c.OpenCreatePeriodPage:return dn.a({},n,{period:dn.a({},t.payload)});case c.GetPeriodsResponse:return dn.a({},n,{periods:t.payload.data.periods});case c.AddSplitSet:return dn.a({},n,{period:dn.a({},n.period,{split_sets:dn.i(n.period.split_sets,[t.payload])})});case c.ChangeSplitSet:var e=dn.i(n.period.split_sets).map(function(n){return n.split_set_id===t.payload.index?t.payload.splitSet:n});return dn.a({},n,{period:dn.a({},n.period,{split_sets:e})});case c.DeleteSplitSet:return e=dn.i(n.period.split_sets).filter(function(n){return n.split_set_id!==t.payload.index}),dn.a({},n,{period:dn.a({},n.period,{split_sets:e})});case c.ValidatePeriod:return dn.a({},n,{period:dn.a({},n.period,{error:t.payload})});case c.ChangePeriodError:return dn.a({},n,{savePeriodError:t.payload});default:return n}}var ye=e("jYNz"),xe=e("XlPw"),Se=e("9Z1F"),Me=function(){function n(n,t,e){var i=this;this.actions$=n,this.periodService=t,this.periodStore$=e,this.createPeriod$=this.actions$.pipe(Object(ye.d)(c.CreatePeriodRequest),Object(Cn.a)(function(n){return i.periodService.createPeriod(n.payload)}),Object(d.a)(function(n){return new f({text:null,isOpen:!1})}),Object(Se.a)(function(n){return console.log("error saving period",n),Object(xe.a)(n),Object(pn.a)(new f({text:n.error.errors,isOpen:!0}))})),this.getPeriods$=this.actions$.pipe(Object(ye.d)(c.GetPeriodsRequest),Object(Cn.a)(function(){return i.periodService.getPeriods()}),Object(d.a)(function(n){return new v(n)}),Object(Se.a)(function(n){return console.log("error periods request",n),Object(xe.a)(n)}))}return dn.c([Object(ye.b)(),dn.f("design:type",rn.a)],n.prototype,"createPeriod$",void 0),dn.c([Object(ye.b)(),dn.f("design:type",rn.a)],n.prototype,"getPeriods$",void 0),n}();e.d(t,"PeriodModuleNgFactory",function(){return Oe});var Oe=i["\u0275cmf"](l,[],function(n){return i["\u0275mod"]([i["\u0275mpd"](512,i.ComponentFactoryResolver,i["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,F,de,ue.a,ue.b,ue.c,ce.a,ce.b,ce.l,ce.m,ce.i,ce.j,ce.k]],[3,i.ComponentFactoryResolver],i.NgModuleRef]),i["\u0275mpd"](4608,Un,Un,[a.DOCUMENT,i.NgZone,bn,zn]),i["\u0275mpd"](4608,a.NgLocalization,a.NgLocaleLocalization,[i.LOCALE_ID,[2,a["\u0275angular_packages_common_common_a"]]]),i["\u0275mpd"](4608,A.E,A.E,[]),i["\u0275mpd"](4608,A.f,A.f,[]),i["\u0275mpd"](4608,ge.E,ge.E,[i.ComponentFactoryResolver,i.Injector,ge.wb,ge.F]),i["\u0275mpd"](4608,he.a,he.a,[i.RendererFactory2,i.PLATFORM_ID]),i["\u0275mpd"](4608,_e.a,_e.a,[i.ComponentFactoryResolver,i.NgZone,i.Injector,he.a,i.ApplicationRef]),i["\u0275mpd"](4608,fe.w,fe.w,[]),i["\u0275mpd"](4608,fe.y,fe.y,[]),i["\u0275mpd"](4608,fe.a,fe.a,[]),i["\u0275mpd"](4608,fe.e,fe.e,[]),i["\u0275mpd"](4608,fe.c,fe.c,[]),i["\u0275mpd"](4608,fe.f,fe.f,[]),i["\u0275mpd"](4608,fe.x,fe.x,[fe.y,fe.f]),i["\u0275mpd"](1073742336,nt,nt,[]),i["\u0275mpd"](1073742336,a.CommonModule,a.CommonModule,[]),i["\u0275mpd"](1073742336,A.D,A.D,[]),i["\u0275mpd"](1073742336,A.m,A.m,[]),i["\u0275mpd"](1073742336,A.z,A.z,[]),i["\u0275mpd"](1073742336,r.o,r.o,[[2,r.t],[2,r.k]]),i["\u0275mpd"](1073742336,me,me,[]),i["\u0275mpd"](1073742336,fe.d,fe.d,[]),i["\u0275mpd"](1073742336,ge.c,ge.c,[]),i["\u0275mpd"](1073742336,ge.f,ge.f,[]),i["\u0275mpd"](1073742336,ge.h,ge.h,[]),i["\u0275mpd"](1073742336,ge.m,ge.m,[]),i["\u0275mpd"](1073742336,ge.n,ge.n,[]),i["\u0275mpd"](1073742336,ge.u,ge.u,[]),i["\u0275mpd"](1073742336,ge.A,ge.A,[]),i["\u0275mpd"](1073742336,ge.G,ge.G,[]),i["\u0275mpd"](1073742336,ge.K,ge.K,[]),i["\u0275mpd"](1073742336,ge.P,ge.P,[]),i["\u0275mpd"](1073742336,ge.S,ge.S,[]),i["\u0275mpd"](1073742336,ge.X,ge.X,[]),i["\u0275mpd"](1073742336,ge.cb,ge.cb,[]),i["\u0275mpd"](1073742336,ge.gb,ge.gb,[]),i["\u0275mpd"](1073742336,ge.jb,ge.jb,[]),i["\u0275mpd"](1073742336,ge.kb,ge.kb,[]),i["\u0275mpd"](1073742336,ge.H,ge.H,[]),i["\u0275mpd"](1073742336,ve.c,ve.c,[]),i["\u0275mpd"](1073742336,ct.AutoSizeInputModule,ct.AutoSizeInputModule,[]),i["\u0275mpd"](1073742336,Ce.a,Ce.a,[]),i["\u0275mpd"](131584,w.a,w.a,[]),i["\u0275mpd"](2048,w.h,null,[w.a]),i["\u0275mpd"](256,w.t,void 0,[]),i["\u0275mpd"](1024,w.d,w.y,[w.t]),i["\u0275mpd"](256,w.s,{state:Pe},[]),i["\u0275mpd"](2048,w.v,null,[w.s]),i["\u0275mpd"](1024,w.c,w.x,[i.Injector,w.s,w.v]),i["\u0275mpd"](256,w.u,w.z,[]),i["\u0275mpd"](256,w.e,[],[]),i["\u0275mpd"](1024,w.f,w.C,[w.u,w.e]),i["\u0275mpd"](131584,w.g,w.g,[w.h,w.d,w.c,w.f]),i["\u0275mpd"](2048,w.i,null,[w.g]),i["\u0275mpd"](131584,w.k,w.k,[]),i["\u0275mpd"](131584,w.l,w.l,[w.a,w.i,w.k,w.d]),i["\u0275mpd"](2048,w.m,null,[w.l]),i["\u0275mpd"](512,w.n,w.n,[w.m,w.a,w.g]),i["\u0275mpd"](1073742336,w.p,w.p,[w.a,w.i,w.k,w.n]),i["\u0275mpd"](512,ye.c,ye.c,[i.ErrorHandler,w.n]),i["\u0275mpd"](131584,ye.j,ye.j,[ye.c,w.n]),i["\u0275mpd"](512,ye.a,ye.a,[w.k]),i["\u0275mpd"](512,M,M,[w.n,s.c]),i["\u0275mpd"](512,Me,Me,[ye.a,M,w.n]),i["\u0275mpd"](1024,ye.h,ye.e,[Me]),i["\u0275mpd"](1073742336,ye.f,ye.f,[ye.c,ye.j,w.n,ye.h,[2,w.p],[2,w.o]]),i["\u0275mpd"](1073742336,l,l,[]),i["\u0275mpd"](1024,r.i,function(){return[[{path:"",component:T},{path:"create",component:re}]]},[]),i["\u0275mpd"](256,ve.d,ve.e,[])])})},"Io+N":function(n,t,e){"use strict";var i=e("CcnG"),l=e("Ip0R"),o=e("gIcY");e("H54p"),e.d(t,"a",function(){return r}),e.d(t,"b",function(){return a});var r=i["\u0275crt"]({encapsulation:0,styles:[[".app-search-field[_ngcontent-%COMP%]{border:none;border-radius:0;color:#151515;padding:0;height:26px;background:#fff;width:auto;position:relative}.app-search-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #b6b6b6;border-radius:3px;width:100%;min-height:26px;padding:0 30px 0 10px;font-size:12px}.app-search-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.app-search-field[_ngcontent-%COMP%]   .app-search-field-icon[_ngcontent-%COMP%]{background:url(icon-search.58516c3e4430fd49d804.svg) center/16px no-repeat;width:18px;height:18px;position:absolute;top:5px;right:8px}.app-search-field.app-search-field-has-error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-color:#e65757}.app-search-field.app-search-field-gray[_ngcontent-%COMP%]{height:30px}.app-search-field.app-search-field-gray[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-color:#f2f2f2;background:#f2f2f2;min-height:30px}.app-search-field.app-search-field-gray[_ngcontent-%COMP%]   .app-search-field-icon[_ngcontent-%COMP%]{top:6px}"]],data:{}});function a(n){return i["\u0275vid"](0,[(n()(),i["\u0275eld"](0,0,null,null,13,"div",[["class","app-search-field"]],null,null,null,null,null)),i["\u0275prd"](512,null,l["\u0275NgClassImpl"],l["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](2,278528,null,0,l.NgClass,[l["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](3,{"app-search-field-has-error":0,"app-search-field-gray":1}),(n()(),i["\u0275eld"](4,0,null,null,8,"input",[["class","form-control"],["type","search"]],[[8,"placeholder",0],[8,"id",0],[8,"value",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var l=!0,o=n.component;return"input"===t&&(l=!1!==i["\u0275nov"](n,8)._handleInput(e.target.value)&&l),"blur"===t&&(l=!1!==i["\u0275nov"](n,8).onTouched()&&l),"compositionstart"===t&&(l=!1!==i["\u0275nov"](n,8)._compositionStart()&&l),"compositionend"===t&&(l=!1!==i["\u0275nov"](n,8)._compositionEnd(e.target.value)&&l),"ngModelChange"===t&&(l=!1!==(o.value=e)&&l),"input"===t&&(l=!1!==o.onChange(e.target.value)&&l),"blur"===t&&(l=!1!==o.onTouched()&&l),l},null,null)),i["\u0275prd"](512,null,l["\u0275NgClassImpl"],l["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](6,278528,null,0,l.NgClass,[l["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](7,{"app-search-field__value":0}),i["\u0275did"](8,16384,null,0,o.d,[i.Renderer2,i.ElementRef,[2,o.a]],null,null),i["\u0275prd"](1024,null,o.p,function(n){return[n]},[o.d]),i["\u0275did"](10,671744,null,0,o.u,[[8,null],[8,null],[8,null],[6,o.p]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,o.q,null,[o.u]),i["\u0275did"](12,16384,null,0,o.r,[[4,o.q]],null,null),(n()(),i["\u0275eld"](13,0,null,null,0,"div",[["class","app-search-field-icon"]],null,null,null,null,null))],function(n,t){var e=t.component,i=n(t,3,0,e.isInvalid,"gray"===e.type);n(t,2,0,"app-search-field",i);var l=n(t,7,0,e.value);n(t,6,0,"form-control",l),n(t,10,0,e.disabled,e.value)},function(n,t){var e=t.component;n(t,4,0,e.placeholder,e.id,e.value,i["\u0275nov"](t,12).ngClassUntouched,i["\u0275nov"](t,12).ngClassTouched,i["\u0275nov"](t,12).ngClassPristine,i["\u0275nov"](t,12).ngClassDirty,i["\u0275nov"](t,12).ngClassValid,i["\u0275nov"](t,12).ngClassInvalid,i["\u0275nov"](t,12).ngClassPending)})}},tXiM:function(n,t,e){"use strict";e.d(t,"a",function(){return i});var i=function(n){return n.DESC="DESC",n.ASC="ASC",n}({})}}]);