<app-family-view-documents-nav [familyName]="familyName"></app-family-view-documents-nav>
<app-modal *ngIf="showEditModal" [width]="'45%'"
           [title]="'Edit Documents Info'"
           (closeModal)="onCloseEditFamilyDocumentModal()">
  <app-family-edit-document [attachmentEditable]="attachmentEditable"
                            (reloadFamilyDocument)="onReloadFamilyDocument()"
                            (closeModalEditFamilyDocument)="onCloseEditFamilyDocumentModal()">
  </app-family-edit-document>
</app-modal>
<div class="mt-4">
  <app-data-table [cols]="cols" tableType='table-striped'
                  (searchQueryEmitter)="onSearchQuery($event)">
    <tbody *ngIf="attachments?.length">
    <tr *ngFor="let attachment of attachments">
      <td nowrap>{{attachment.title}}</td>
      <td nowrap>{{attachment.type}}</td>
      <td>{{attachment.format | uppercase}}</td>
      <td>{{ convertDate(attachment.created_at) | date: "dd-MM-yyyy" }}</td>
      <td>{{attachment.fileable.person.first_name}} {{attachment.fileable.person.last_name}}</td>
      <td class="text-right">
        <i class="fas fa-download app-text-second app-cursor-pointer mr-4"
           (click)="downloadFamilyDocument(attachment.link)"></i>
        <i class="fas fa-pen app-text-second app-cursor-pointer mr-5"
           (click)="editAttachment(attachment)"></i>
      </td>
    </tr>
    </tbody>
  </app-data-table>
</div>
