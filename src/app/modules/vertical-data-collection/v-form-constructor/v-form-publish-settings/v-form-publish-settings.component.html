<div class="container-fluid">
  <ng-container *ngIf="isLoading()">
    <div class="row mt-5">
      <div class="col-12 col-lg-3 rounded">
        <!-- pl-lg-5 -->
        <ng-container *ngIf="automation !== undefined">
          <app-v-publish-menu
            [stateSub]="publish_settings.state"
            [automation]="automation"
            
            (addAutomation)="addAutomation($event)"
            (activeMenuItemEmitter)="setActiveMenu($event)"
            (stateSubEmitter)="setStateSub($event)"
          ></app-v-publish-menu>
        </ng-container>
      </div>
      <div class="col-12 col-lg-9 openable_item" *ngIf="activeMenuItem !== undefined">
        <!-- pr-lg-5 -->
        <app-v-conditions-review
          class="d-block openable_item"
          [ngClass]="{
            'openable_item--close':
              activeMenuItem !== publishMenuItems.conditions
          }"
        ></app-v-conditions-review>
        <app-v-publish-settings
          [publish_settings]="publish_settings"
          (onToggleOnlineCheckbox)="toggleOnlineCheckbox($event)"
          (onTogglePdfCheckbox)="togglePdfCheckbox($event)"
          (onUpdateFormValue)="updateFormValue($event)"
          (onSavePublishSettings)="savePublishSettings($event)"
          class="d-block openable_item"
          [ngClass]="{
            'openable_item--close': activeMenuItem !== publishMenuItems.settings
          }"
        ></app-v-publish-settings>

        <ng-container *ngIf="automation !== undefined">
          <app-v-automation
            [automation]="automation"
            class="d-block openable_item"
            [ngClass]="{
              'openable_item--close':
                activeMenuItem !== publishMenuItems.automation
            }"
            [id]="formId"
          ></app-v-automation>
        </ng-container>
        <app-v-redirect-pages
          class="d-block openable_item"
          [ngClass]="{
            'openable_item--close': activeMenuItem !== publishMenuItems.redirect
          }"
        ></app-v-redirect-pages>
      </div>
    </div>
  </ng-container>

  <ng-container *ngIf="!isLoading()">
    <main-spinner [spinnerText]="spinnerText"></main-spinner>
  </ng-container>
</div>
