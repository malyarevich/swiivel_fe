<div class="row no-gutters">
  <div class="col d-flex align-items-end">
    <p class="font-weight-bold mb-0"><i class="fas fa-exclamation-triangle text-danger mr-1"></i>
      MISSING FIELDS ({{allMissingFields}})
    </p>
  </div>
  <div class="col">
    <div class="app-input-search-container">
      <i class="fas fa-search app-input-search-icon"></i>
      <input type="text" class="form-control app-input-search app-input-search-grey" placeholder="Search">
    </div>
  </div>
</div>

<div class="row no-gutters mt-3 border-top app-fi-inside-scroll">
  <ng-container *ngIf="missingFields?.length">
    <div class="col-12 border-bottom p-2" [ngClass]="{'app-missing-fields-wrap': isFieldsShowed(i+1)}" *ngFor="let item of missingFields; let i = index">
      <div class="row no-gutters">
        <div class="col-10">
          <p class="mb-0" [ngClass]="{'font-weight-bold': isFieldsShowed(i+1)}">{{item.section | titlecase}} ({{item.fields.length}})</p>
        </div>
        <div class="col-2 text-right">
          <i *ngIf="!isFieldsShowed(i+1)" class="fas fa-caret-down app-text-second app-cursor-pointer" (click)="showFields(i+1)"></i>
          <i *ngIf="isFieldsShowed(i+1)" class="fas fa-caret-up app-text-primary app-cursor-pointer" (click)="hideFields(i+1)"></i>
        </div>
      </div>
      <div *ngIf="isFieldsShowed(i+1)" class="row no-gutters app-missing-fields-wrap py-2">
        <ul class="mb-0 pl-4">
          <li *ngFor="let field of item.fields">
            {{field.name}}
          </li>
        </ul>
      </div>
    </div>
  </ng-container>
</div>