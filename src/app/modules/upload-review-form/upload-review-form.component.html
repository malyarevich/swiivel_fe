<sw-back-bar [title]="'Review Forms'" [backRoute]="'/online-form/'+activeIdForm"></sw-back-bar>
<app-document-approval-bar
  [document]="getSelectForm()"
  [loading]="updateingDocumentStatus"
  (skipDocument)="skipDocument()"
  (changeStatus)="changeStatus($event)"
  [isLast]="isLastDocument()"
  [disabled]="isBulkDownload"
>
</app-document-approval-bar>
<div class="content">
  <div class="sidebar-container" [class.opened]="isSideBarShown">
    <div class="sidebar">
      <div>
        <form [formGroup]="form">
          <div class="sidebar-search">
            <app-search-field [placeholder]="'Search'" formControlName="search" [type]="'controls'"></app-search-field>
          </div>
          <div class="sidebar-controls">
            <div class="sidebar-filter">
              <sw-dropdown-input
                formControlName="filter"
                [multiple]="true"
                [dropdownSubHeader]="true"
                [options]="filterValue"
                [isDisplaySelected]="false"
                [disabled]="isEmptyObject(filterValue)">
                <span class="sidebar-controls-title">Filtered By</span>
              </sw-dropdown-input>
            </div>
            <div class="sidebar-sort">
              <sw-dropdown-input
                formControlName="sort"
                [options]="sortValue"
                [isDisplaySelected]="false"
                [disabled]="!(sortValue && sortValue.length)">
                <span class="sidebar-controls-title">Sorted By</span>
              </sw-dropdown-input>
            </div>
          </div>
        </form>
        <div *ngIf="documents && documents.length" [ngClass]="{ 'loading': showSpinner }">
          <!--<sw-small-button *ngIf="isBulkDownload">Select all</sw-small-button>-->
          <div *ngFor="let document of documents">
            <app-upload-review-form-item
              [document]="document"
              (selected)="selectItem($event)"
              (downLoadForm)="downLoadForm($event)"
              (deleteForm)="openConfirmPopup($event)"
            >
            </app-upload-review-form-item>
          </div>
          <div *ngIf="showSpinner" class="spinner">
            <app-spinner></app-spinner>
          </div>
        </div>
        <div *ngIf="!showSpinner && (!documents || !documents.length)" class="sidebar--empty">
          No documents
        </div>
      </div>
      <div class="upload-document-controls">
        <hr class="upload-document-controls-hr">
        <app-review-form-controls
          [activeIdForm]="activeIdForm"
          [documentStudent]="documentStudent"
          [documentAccount]="documentAccount"
          [documentTypes]="documentTypes"
          [isBulkDownload]="isBulkDownload"
          [showBulkDownload]="documents && documents.length"
          (bulkDownload)="clickBulkDownload()"
        ></app-review-form-controls>
      </div>
    </div>
  </div>
  <div class="workarea">
    <div class="sidebar-opener" (click)="isSideBarShown = !isSideBarShown">
      <div class="button">
        <sw-icon-button [icon]="icons.CARET_RIGHT" [color]="colors.WHITE" [size]="size.MEDIUM"></sw-icon-button>
      </div>
    </div>
    <app-upload-review-form-document [document]="getSelectForm()"></app-upload-review-form-document>
  </div>
</div>
<div *ngIf="documents && documents.length > 1" class="footer">
  <app-upload-review-form-footer
    [documents]="extremeDocuments"
    (changeForm)="changeForm($event)"
  ></app-upload-review-form-footer>
</div>
<sw-dialog
    #dialog
    action="Remove"
    title="Remove Document"
    (closed)="deleteForm($event)"
>
  <p>Are you sure you want to remove [Item(s)]?</p>
</sw-dialog>
