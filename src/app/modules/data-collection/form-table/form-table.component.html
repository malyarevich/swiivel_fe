<nav class="navbar navbar-expand-lg navbar-light bg-light ">
  <div class=" form-inline">
    <div class="form-group col-md-2 col-md-offset-2">
      <h3>List of forms</h3>
    </div>
    <div class="form-group  col-md-offset-5 col-md-2 ">
      <button type="button" class="btn navbar-btn  form-control" (click)="addForm()" routerLink="./generalinfo" routerLinkActive="active">
         Create form <span>>></span>
      </button>
    </div>

  </div>
</nav>
<!--TODO: change this if-->
<div *ngIf="(forms$ | async).length!=0" class="container">

<table  class="table table-striped">
<thead>
  <tr>
    <th>Form name</th>
    <th>Created</th>
    <th>Updated</th>
    <th>Type</th>
    <th></th>
  </tr>
</thead>
  <tbody *ngFor="let item of forms$ | async">
  <tr>
    <td>{{item.name}}</td>
    <td>{{item.created_at}}</td>
    <td>{{item.updated_at}}</td>
    <td>Registrations</td>
    <td>
      <div class="btn-group" role="group" aria-label="...">
        <button type="button"   class="btn btn-default" routerLink="onlineform/{{item._id}}" routerLinkActive="active"><span>View</span></button>
        <button type="button"  (click)="editForm(item._id)" class="btn btn-default" routerLink="generalinfo" routerLinkActive="active"><span>Edit</span></button>
        <button type="button" (click)="removeForm(item._id)" class="btn btn-default "><span>Delete</span></button>
        <button type="button" class="btn btn-default" data-toggle="modal" data-target="#flipFlop" (click)="formSelected = item._id"><span>Access</span></button>
        <div class="modal fade" id="flipFlop" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title" id="modalLabel">Access Settings</h4>
              </div>
              <div class="modal-body">
                <app-form-access *ngIf="formSelected" [formId] = "formSelected"></app-form-access>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-success" data-dismiss="modal" (click)="saveFormACL()">Save</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="formSelected=null">Close</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </td>
  </tr>
  </tbody>
</table>
</div>

<router-outlet></router-outlet>
