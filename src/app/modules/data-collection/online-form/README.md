# Online-Form and Online-View Readme

This module can to use for the form template's view or for the end user's form.

## Content

[Online-Form and Online-View](#online-form-and-online-view-readme)

- [Online-Form and Online-View Readme](#online-form-and-online-view-readme)
  - [Content](#content)
  - [Modes](#modes)
    - [**Form Template's View**](#form-templates-view)
    - [**End User's Form**](#end-users-form)
  - [Navigation](#navigation)
    - [**Menu**](#menu)
    - [**Tabs**](#tabs)
    - [**Routing and Controls**](#routing-and-controls)
  - [Models](#models)
- [Technical details](#technical-details)
  - [General Information](#general-information)

<hr />

## Modes

<hr />

### **Form Template's View**

This mode open by /online-form/`template_id`. All fields and interactions - should be **disabled** at this mode.

Note: `template_id` - same id that at the Form Constructor id.

<hr />

### **End User's Form**

This mode open by /online-form/`form_id`.

Note: `form_id` - generated by backend for each end user (family | parents | student | bus driver | etc).

<hr />

## Navigation

<hr />

### **Menu**

Menu Item displayed from enabled items at the /constructor/form-builder.

### **Tabs**

Tabs show the section for each Menu Items.

### **Routing and Controls**

1. Routing by iterator works top to bottom and inside left to right.

2. Iterator walks only by enabled Menu items and inside by all section.

3. After click to Menu item system call the function, that activate first section inside Menu Item.

4. In situation if Menu Item has no section, then system create empty section by initialization process.

<hr />

## Models

<hr />

All models stored at /app/models/data-collection/online-form/

<hr />

![altForPic](/pic.png)

# Technical details

Main point in this module - `online-form-view`, it init screen by 3 section `online-form-nav`(top navigation), `online-form-menu`(page menu) and `content`(concent, documents-forms, general-info, payment, payment-settings, terms-conditions, tuition-contract).

The each page by content has a **section(s)** (this need for navigation - by iteration in `service/online-form-navigation`).

## General Information

Each `section` could has `group` and `field`. `code_type: 114`
Each `group` could has `group` and `field`. `code_type: 113`
Each `field` could be:

```js
[101, ShortTextFieldComponent],
  [102, LongTextFieldComponent],
  [103, NumberTextFieldComponent],
  [104, MultipleOptionsFieldComponent],
  [105, DropDownListFieldComponent],
  [106, DateTimeFieldComponent],
  [107, TimeFieldComponent],
  [108, EmailFieldComponent],
  [109, PhoneNumberFieldComponent],
  [110, HebrewDateFieldComponent],
  [111, LabelFieldComponent],
  [112, EmptyLineFieldComponent];
```

New component should be declare in the `online-form.module` file at the:

```ts
@NgModule({
  imports: [
    ...
    DynamicModule.withComponents([
      ...
      <New_Type_Component>
    ])
  ]
})
```

Also, need add to `IFormField`(interface) this component and add to `componentFieldsMap`(Map of fields component) in the `online-form.service`
