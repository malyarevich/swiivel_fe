<div class="py-3 group-bc" [ngClass]="{'app-setting-show': showGroupSettings}" xmlns="http://www.w3.org/1999/html">
  <div class="row align-items-center no-gutters">

    <div class="col-3 ">
      <div class="row align-items-center no-gutters ml-2">
        <div class="col-3">
          <div class="row align-items-center no-gutters">

            <div cdkDragHandle>
              <span><i class="fas fa-ellipsis-v dragable-i"></i></span>
              <span><i class="fas fa-ellipsis-v dragable-i"></i></span>
            </div>
            <div class="ml-2"><span class="rectangle"><i class="fas fa-clone"></i></span></div>
          </div>
        </div>

        <div class="col-9 justify-content-center">

          <div class=""><span class="app-text-extra-bold align-self-center">{{inputGroup.name | titlecase}}</span></div>
          <div class=""><span class="field-type-span mb-2">Field Group</span></div>

        </div>
      </div>
    </div>
    <div class="col-3 ">
      <div class="row align-items-center ">
        <div class="col-6">
          <div class="  app-input-container" [ngClass]="{'app-input-fill': sizeID.value}">
            <label for="groupWidth" class="app-input-label">Group Width</label>
            <select class="app-input form-control" #sizeID id="groupWidth" [(ngModel)]="inputGroup.width">
              <option *ngFor="let key of objectKeys(list)" [value]="list[key]['type']"
                [selected]="list[key]['type'] === inputGroup.width">{{ list[key]["label"] }}</option>
            </select>

          </div>
        </div>
      </div>

    </div>

    <div class="col-2  row align-items-center offset-4">
      <div class=" col d-flex justify-content-end">
        <i class="fas fa-cog dragable-i" (click)="showGroupSettings=!showGroupSettings"></i>
      </div>
      <div class=" col d-flex justify-content-end">
        <i class="fas fa-times dragable-i" (click)="removeGroup(inputGroup)"></i>
      </div>
      <div class="border-left col d-flex " (click)="showNested=!showNested">
        <i *ngIf="showNested" class="fas  fa-caret-down dragable-y"></i>
        <i *ngIf="!showNested" class="fas  fa-caret-up dragable-y"></i>
      </div>
    </div>

  </div>

</div>

<div *ngIf="showGroupSettings">
  <app-group-settings [inputGroup]="inputGroup"></app-group-settings>
</div>


<div [hidden]="!showNested">
  <ul class="list-group ngx-dnd-container drop-zone" cdkDropList [id]="inputGroup.path.join('|')" [cdkDropListData]="inputGroup"
    (cdkDropListDropped)="drop($event)">
    <li *ngIf="inputGroup.fields.length==0" class="list-group-item empty-group p-0 "
      [ngClass]="nestedLevel==1?'margin-for-nested':''">
      <div class="text-center"> <span class="empty-group-text">Drag and Drop Fields Onto the Group</span>
      </div>
    </li>
    <li class="list-group-item p-0 ngx-dnd-item" [ngClass]="nestedLevel==1?'margin-for-nested':''" [cdkDragData]="field" cdkDrag (cdkDragExited)="dragDrop($event)" (cdkDragEntered)="dragDrop($event)"
      *ngFor="let field of inputGroup.fields">
      <app-field-container *ngIf="field.type!=113" [inputField]="field" [form]="form" [customFields]="customFields"
        [sideBar]="sideBar">
      </app-field-container>
      <app-divider-container *ngIf="field.type==112" [inputDivider]="field" [form]="form"></app-divider-container>
      <app-group-container *ngIf="field.type==113" [inputGroup]="field" [nestedLevel]="nestedLevel+1"
        [idSectionForDragDrop]="idSectionForDragDrop" [form]="form" [sideBar]="sideBar" [customFields]="customFields">
      </app-group-container>
    </li>
  </ul>
</div>
