<p>List of Users ({{acl.length}})</p>
<div *ngIf="error" class="alert alert-danger">{{error}}</div>
<button class="btn btn-default" *ngIf="!showInvite" (click)="showInvite=true">Invite Users</button>
<section *ngIf="showInvite">
    <button class="btn btn-default" (click)="resetSelectedUsers(); showInvite=false">Cancel</button>
    <button class="btn btn-default" (click)="addUsersToList(); showInvite=false">Add to list</button>
    <div><span *ngFor="let user of selectedUsers">{{user.username}} - {{user.role}} </span></div>
    <input #searchUsers [(ngModel)]="name" (focus)="filterUsers(searchUsers.value)"
           (input)="filterUsers(searchUsers.value)">
    <div *ngFor="let user of filteredUsers" (click)="selectUsers(user)">
        {{user.username}} - {{user.role}}
    </div>
</section>
<br><br>
<section *ngIf="acl.length && users">
    <table class="table table-striped">
        <thead>
        <tr>
            <th scope="col">User</th>
            <th scope="col">Role</th>
            <th scope="col">View</th>
            <th scope="col">Edit</th>
            <th scope="col">Delete</th>
            <th scope="col">Invite</th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let permissions of acl">
            <td>{{getUsername(permissions.userId)}}</td>
            <td>{{getRole(permissions.userId)}}</td>
            <td><input type="checkbox" [(ngModel)]="permissions.view"></td>
            <td><input type="checkbox" [(ngModel)]="permissions.edit"></td>
            <td><input type="checkbox" [(ngModel)]="permissions.delete"></td>
            <td><input type="checkbox" [(ngModel)]="permissions.invite"></td>
            <td>
                <button class="btn btn-default btn-sm" (click)="deleteUserFromAcl(permissions.userId)">Delete</button>
            </td>
        </tr>
        </tbody>
    </table>
</section>